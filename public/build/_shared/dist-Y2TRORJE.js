import{b as dl}from"/myst_assets_folder/_shared/chunk-FMKRCXEX.js";import{b as tt}from"/myst_assets_folder/_shared/chunk-XZYL5ND2.js";import"/myst_assets_folder/_shared/chunk-J6FHCSRC.js";import{b as In,c as pa,i as Jt,m as ma,r as ha,s as da}from"/myst_assets_folder/_shared/chunk-U4WSML5I.js";import"/myst_assets_folder/_shared/chunk-RTIGS2T3.js";import{c as un,e as Zt}from"/myst_assets_folder/_shared/chunk-2NH4LW52.js";var Vn=un((wt,Ya)=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.default={END_WORD:"$",END_WORD_REPLACER:"9a219a89-91cd-42e2-abd5-eb113af08ca8",PERMS_MIN_LEN:2};Ya.exports=wt.default});var fi=un((kt,Za)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.default=Sl;var Il=Vn(),ot=Pl(Il);function Pl(n){return n&&n.__esModule?n:{default:n}}function Sl(n,t,s,l){var r=t===ot.default.END_WORD,a=s===l.length-1;return r&&!a?(n[ot.default.END_WORD]=1,n[ot.default.END_WORD_REPLACER]={},n=n[ot.default.END_WORD_REPLACER]):(n[t]=n[t]||{},n=n[t]),a&&(n[ot.default.END_WORD]=1),n}Za.exports=kt.default});var Qa=un((Ct,Ja)=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});var Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};Ct.default=Tl;var Rl=fi(),Ol=Dl(Rl);function Dl(n){return n&&n.__esModule?n:{default:n}}function Tl(n){if(!Array.isArray(n))throw"Expected parameter Array, received "+(typeof n>"u"?"undefined":Fl(n));var t=n.reduce(function(s,l){return l.toLowerCase().split("").reduce(Ol.default,s),s},{});return t}Ja.exports=Ct.default});var ui=un((Et,es)=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.default={objectCopy:function(t){return typeof t>"u"?{}:JSON.parse(JSON.stringify(t))},stringify:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return typeof t>"u"?"":JSON.stringify(t,null,s)}};es.exports=Et.default});var ns=un((Mt,rs)=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.default=Nl;var Ll=ui(),kc=Bl(Ll);function Bl(n){return n&&n.__esModule?n:{default:n}}function Nl(n,t){var s=t.toLowerCase().split(""),l=s.every(function(r,a){return n[r]?n=n[r]:!1});return{prefixFound:l,prefixNode:n}}rs.exports=Mt.default});var as=un((_t,is)=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.default=ts;var ql=Vn(),ci=Wl(ql);function Wl(n){return n&&n.__esModule?n:{default:n}}var jl=function(t,s){for(var l=0;l<s.length&&!(t<s[l]);)l+=1;return s.splice(l,0,t),s};function ts(n,t,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],r=t;for(var a in n){var e=a;a===ci.default.END_WORD&&typeof n[a]=="number"?(s?jl(r,l):l.push(r),r=""):a===ci.default.END_WORD_REPLACER&&(e=ci.default.END_WORD),ts(n[a],t+e,s,l)}return l}is.exports=_t.default});var ls=un((It,os)=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.default=ss;var Gl=Vn(),zl=Hl(Gl);function Hl(n){return n&&n.__esModule?n:{default:n}}function ss(n,t){var s=t,l=Object.keys(n),r=l[Math.floor(Math.random()*l.length)];return r===zl.default.END_WORD?s:ss(n[r],t+r)}os.exports=It.default});var us=un((Pt,fs)=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});var Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};Pt.default=Yl;var Xl=Vn(),Vl=Kl(Xl);function Kl(n){return n&&n.__esModule?n:{default:n}}function Yl(n,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{type:"anagram"};if(typeof n!="string")throw"Permutations expects string letters, received "+(typeof n>"u"?"undefined":Ul(n));var l=[],r=function a(e,p){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",E=e.length===0,S=l.indexOf(h)!==-1,Y=p[Vl.default.END_WORD]===1;E&&Y&&!S&&l.push(h);for(var te=0,y=e.length;te<y;te++){var d=e[te];if(s.type==="sub-anagram"&&Y&&l.indexOf(h)===-1&&l.push(h),p[d]){var z=e.substring(0,te)+e.substring(te+1,y);a(z,p[d],h+d,l)}}return l.sort()};return r(n,t)}fs.exports=Pt.default});var pi=un((Ft,gs)=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});var _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};Ft.default=function(n){if(!Array.isArray(n))throw"Expected parameter Array, received "+(typeof n>"u"?"undefined":_n(n));var t=(0,Jl.default)([].concat(cf(n)));return{tree:function(){return t},dump:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return lf.default.stringify(t,l)},addWord:function(l){if(typeof l!="string"||l==="")throw"Expected parameter string, received "+(typeof l>"u"?"undefined":_n(l));var r=function(){return ef.default.apply(void 0,arguments)},a=l.toLowerCase().split("");return a.reduce(r,t),this},removeWord:function(l){if(typeof l!="string"||l==="")throw"Expected parameter string, received "+(typeof l>"u"?"undefined":_n(l));var r=(0,lt.default)(t,l),a=r.prefixFound,e=r.prefixNode;return a&&delete e[gi.default.END_WORD],this},isPrefix:function(l){if(typeof l!="string")throw"Expected string prefix, received "+(typeof l>"u"?"undefined":_n(l));var r=(0,lt.default)(t,l),a=r.prefixFound;return a},getPrefix:function(l){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof l!="string")throw"Expected string prefix, received "+(typeof l>"u"?"undefined":_n(l));if(typeof r!="boolean")throw"Expected sort parameter as boolean, received "+(typeof r>"u"?"undefined":_n(r));if(!this.isPrefix(l))return[];var a=l.length?(0,lt.default)(t,l).prefixNode:t;return(0,tf.default)(a,l,r)},getRandomWordWithPrefix:function(l){if(typeof l!="string")throw"Expected string prefix, received "+(typeof l>"u"?"undefined":_n(l));if(!this.isPrefix(l))return"";var r=(0,lt.default)(t,l),a=r.prefixNode;return(0,sf.default)(a,l)},countPrefix:function(l){var r=this.getPrefix(l);return r.length},getWords:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.getPrefix("",l)},hasWord:function(l){if(typeof l!="string")throw"Expected string word, received "+(typeof l>"u"?"undefined":_n(l));var r=(0,lt.default)(t,l),a=r.prefixFound,e=r.prefixNode;return a?e[gi.default.END_WORD]===1:!1},getAnagrams:function(l){if(typeof l!="string")throw"Anagrams expected string letters, received "+(typeof l>"u"?"undefined":_n(l));if(l.length<St)throw"getAnagrams expects at least "+St+" letters";return(0,cs.default)(l,t,{type:"anagram"})},getSubAnagrams:function(l){if(typeof l!="string")throw"Expected string letters, received "+(typeof l>"u"?"undefined":_n(l));if(l.length<St)throw"getSubAnagrams expects at least "+St+" letters";return(0,cs.default)(l,t,{type:"sub-anagram"})}}};var Zl=Qa(),Jl=Wn(Zl),Ql=fi(),ef=Wn(Ql),rf=ns(),lt=Wn(rf),nf=as(),tf=Wn(nf),af=ls(),sf=Wn(af),of=ui(),lf=Wn(of),ff=Vn(),gi=Wn(ff),uf=us(),cs=Wn(uf);function Wn(n){return n&&n.__esModule?n:{default:n}}function cf(n){if(Array.isArray(n)){for(var t=0,s=Array(n.length);t<n.length;t++)s[t]=n[t];return s}else return Array.from(n)}var St=gi.default.PERMS_MIN_LEN;gs.exports=Ft.default});var Rs=un((gg,Fs)=>{"use strict";Fs.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var vi=un((pg,Ds)=>{var ut=Rs(),Os={};for(let n of Object.keys(ut))Os[ut[n]]=n;var De={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Ds.exports=De;for(let n of Object.keys(De)){if(!("channels"in De[n]))throw new Error("missing channels property: "+n);if(!("labels"in De[n]))throw new Error("missing channel labels property: "+n);if(De[n].labels.length!==De[n].channels)throw new Error("channel and label counts mismatch: "+n);let{channels:t,labels:s}=De[n];delete De[n].channels,delete De[n].labels,Object.defineProperty(De[n],"channels",{value:t}),Object.defineProperty(De[n],"labels",{value:s})}De.rgb.hsl=function(n){let t=n[0]/255,s=n[1]/255,l=n[2]/255,r=Math.min(t,s,l),a=Math.max(t,s,l),e=a-r,p,h;a===r?p=0:t===a?p=(s-l)/e:s===a?p=2+(l-t)/e:l===a&&(p=4+(t-s)/e),p=Math.min(p*60,360),p<0&&(p+=360);let E=(r+a)/2;return a===r?h=0:E<=.5?h=e/(a+r):h=e/(2-a-r),[p,h*100,E*100]};De.rgb.hsv=function(n){let t,s,l,r,a,e=n[0]/255,p=n[1]/255,h=n[2]/255,E=Math.max(e,p,h),S=E-Math.min(e,p,h),Y=function(te){return(E-te)/6/S+1/2};return S===0?(r=0,a=0):(a=S/E,t=Y(e),s=Y(p),l=Y(h),e===E?r=l-s:p===E?r=1/3+t-l:h===E&&(r=2/3+s-t),r<0?r+=1:r>1&&(r-=1)),[r*360,a*100,E*100]};De.rgb.hwb=function(n){let t=n[0],s=n[1],l=n[2],r=De.rgb.hsl(n)[0],a=1/255*Math.min(t,Math.min(s,l));return l=1-1/255*Math.max(t,Math.max(s,l)),[r,a*100,l*100]};De.rgb.cmyk=function(n){let t=n[0]/255,s=n[1]/255,l=n[2]/255,r=Math.min(1-t,1-s,1-l),a=(1-t-r)/(1-r)||0,e=(1-s-r)/(1-r)||0,p=(1-l-r)/(1-r)||0;return[a*100,e*100,p*100,r*100]};function xf(n,t){return(n[0]-t[0])**2+(n[1]-t[1])**2+(n[2]-t[2])**2}De.rgb.keyword=function(n){let t=Os[n];if(t)return t;let s=1/0,l;for(let r of Object.keys(ut)){let a=ut[r],e=xf(n,a);e<s&&(s=e,l=r)}return l};De.keyword.rgb=function(n){return ut[n]};De.rgb.xyz=function(n){let t=n[0]/255,s=n[1]/255,l=n[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,s=s>.04045?((s+.055)/1.055)**2.4:s/12.92,l=l>.04045?((l+.055)/1.055)**2.4:l/12.92;let r=t*.4124+s*.3576+l*.1805,a=t*.2126+s*.7152+l*.0722,e=t*.0193+s*.1192+l*.9505;return[r*100,a*100,e*100]};De.rgb.lab=function(n){let t=De.rgb.xyz(n),s=t[0],l=t[1],r=t[2];s/=95.047,l/=100,r/=108.883,s=s>.008856?s**(1/3):7.787*s+16/116,l=l>.008856?l**(1/3):7.787*l+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let a=116*l-16,e=500*(s-l),p=200*(l-r);return[a,e,p]};De.hsl.rgb=function(n){let t=n[0]/360,s=n[1]/100,l=n[2]/100,r,a,e;if(s===0)return e=l*255,[e,e,e];l<.5?r=l*(1+s):r=l+s-l*s;let p=2*l-r,h=[0,0,0];for(let E=0;E<3;E++)a=t+1/3*-(E-1),a<0&&a++,a>1&&a--,6*a<1?e=p+(r-p)*6*a:2*a<1?e=r:3*a<2?e=p+(r-p)*(2/3-a)*6:e=p,h[E]=e*255;return h};De.hsl.hsv=function(n){let t=n[0],s=n[1]/100,l=n[2]/100,r=s,a=Math.max(l,.01);l*=2,s*=l<=1?l:2-l,r*=a<=1?a:2-a;let e=(l+s)/2,p=l===0?2*r/(a+r):2*s/(l+s);return[t,p*100,e*100]};De.hsv.rgb=function(n){let t=n[0]/60,s=n[1]/100,l=n[2]/100,r=Math.floor(t)%6,a=t-Math.floor(t),e=255*l*(1-s),p=255*l*(1-s*a),h=255*l*(1-s*(1-a));switch(l*=255,r){case 0:return[l,h,e];case 1:return[p,l,e];case 2:return[e,l,h];case 3:return[e,p,l];case 4:return[h,e,l];case 5:return[l,e,p]}};De.hsv.hsl=function(n){let t=n[0],s=n[1]/100,l=n[2]/100,r=Math.max(l,.01),a,e;e=(2-s)*l;let p=(2-s)*r;return a=s*r,a/=p<=1?p:2-p,a=a||0,e/=2,[t,a*100,e*100]};De.hwb.rgb=function(n){let t=n[0]/360,s=n[1]/100,l=n[2]/100,r=s+l,a;r>1&&(s/=r,l/=r);let e=Math.floor(6*t),p=1-l;a=6*t-e,e&1&&(a=1-a);let h=s+a*(p-s),E,S,Y;switch(e){default:case 6:case 0:E=p,S=h,Y=s;break;case 1:E=h,S=p,Y=s;break;case 2:E=s,S=p,Y=h;break;case 3:E=s,S=h,Y=p;break;case 4:E=h,S=s,Y=p;break;case 5:E=p,S=s,Y=h;break}return[E*255,S*255,Y*255]};De.cmyk.rgb=function(n){let t=n[0]/100,s=n[1]/100,l=n[2]/100,r=n[3]/100,a=1-Math.min(1,t*(1-r)+r),e=1-Math.min(1,s*(1-r)+r),p=1-Math.min(1,l*(1-r)+r);return[a*255,e*255,p*255]};De.xyz.rgb=function(n){let t=n[0]/100,s=n[1]/100,l=n[2]/100,r,a,e;return r=t*3.2406+s*-1.5372+l*-.4986,a=t*-.9689+s*1.8758+l*.0415,e=t*.0557+s*-.204+l*1.057,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,e=e>.0031308?1.055*e**(1/2.4)-.055:e*12.92,r=Math.min(Math.max(0,r),1),a=Math.min(Math.max(0,a),1),e=Math.min(Math.max(0,e),1),[r*255,a*255,e*255]};De.xyz.lab=function(n){let t=n[0],s=n[1],l=n[2];t/=95.047,s/=100,l/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,s=s>.008856?s**(1/3):7.787*s+16/116,l=l>.008856?l**(1/3):7.787*l+16/116;let r=116*s-16,a=500*(t-s),e=200*(s-l);return[r,a,e]};De.lab.xyz=function(n){let t=n[0],s=n[1],l=n[2],r,a,e;a=(t+16)/116,r=s/500+a,e=a-l/200;let p=a**3,h=r**3,E=e**3;return a=p>.008856?p:(a-16/116)/7.787,r=h>.008856?h:(r-16/116)/7.787,e=E>.008856?E:(e-16/116)/7.787,r*=95.047,a*=100,e*=108.883,[r,a,e]};De.lab.lch=function(n){let t=n[0],s=n[1],l=n[2],r;r=Math.atan2(l,s)*360/2/Math.PI,r<0&&(r+=360);let e=Math.sqrt(s*s+l*l);return[t,e,r]};De.lch.lab=function(n){let t=n[0],s=n[1],r=n[2]/360*2*Math.PI,a=s*Math.cos(r),e=s*Math.sin(r);return[t,a,e]};De.rgb.ansi16=function(n,t=null){let[s,l,r]=n,a=t===null?De.rgb.hsv(n)[2]:t;if(a=Math.round(a/50),a===0)return 30;let e=30+(Math.round(r/255)<<2|Math.round(l/255)<<1|Math.round(s/255));return a===2&&(e+=60),e};De.hsv.ansi16=function(n){return De.rgb.ansi16(De.hsv.rgb(n),n[2])};De.rgb.ansi256=function(n){let t=n[0],s=n[1],l=n[2];return t===s&&s===l?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(s/255*5)+Math.round(l/255*5)};De.ansi16.rgb=function(n){let t=n%10;if(t===0||t===7)return n>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let s=(~~(n>50)+1)*.5,l=(t&1)*s*255,r=(t>>1&1)*s*255,a=(t>>2&1)*s*255;return[l,r,a]};De.ansi256.rgb=function(n){if(n>=232){let a=(n-232)*10+8;return[a,a,a]}n-=16;let t,s=Math.floor(n/36)/5*255,l=Math.floor((t=n%36)/6)/5*255,r=t%6/5*255;return[s,l,r]};De.rgb.hex=function(n){let s=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".substring(s.length)+s};De.hex.rgb=function(n){let t=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let s=t[0];t[0].length===3&&(s=s.split("").map(p=>p+p).join(""));let l=parseInt(s,16),r=l>>16&255,a=l>>8&255,e=l&255;return[r,a,e]};De.rgb.hcg=function(n){let t=n[0]/255,s=n[1]/255,l=n[2]/255,r=Math.max(Math.max(t,s),l),a=Math.min(Math.min(t,s),l),e=r-a,p,h;return e<1?p=a/(1-e):p=0,e<=0?h=0:r===t?h=(s-l)/e%6:r===s?h=2+(l-t)/e:h=4+(t-s)/e,h/=6,h%=1,[h*360,e*100,p*100]};De.hsl.hcg=function(n){let t=n[1]/100,s=n[2]/100,l=s<.5?2*t*s:2*t*(1-s),r=0;return l<1&&(r=(s-.5*l)/(1-l)),[n[0],l*100,r*100]};De.hsv.hcg=function(n){let t=n[1]/100,s=n[2]/100,l=t*s,r=0;return l<1&&(r=(s-l)/(1-l)),[n[0],l*100,r*100]};De.hcg.rgb=function(n){let t=n[0]/360,s=n[1]/100,l=n[2]/100;if(s===0)return[l*255,l*255,l*255];let r=[0,0,0],a=t%1*6,e=a%1,p=1-e,h=0;switch(Math.floor(a)){case 0:r[0]=1,r[1]=e,r[2]=0;break;case 1:r[0]=p,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=e;break;case 3:r[0]=0,r[1]=p,r[2]=1;break;case 4:r[0]=e,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=p}return h=(1-s)*l,[(s*r[0]+h)*255,(s*r[1]+h)*255,(s*r[2]+h)*255]};De.hcg.hsv=function(n){let t=n[1]/100,s=n[2]/100,l=t+s*(1-t),r=0;return l>0&&(r=t/l),[n[0],r*100,l*100]};De.hcg.hsl=function(n){let t=n[1]/100,l=n[2]/100*(1-t)+.5*t,r=0;return l>0&&l<.5?r=t/(2*l):l>=.5&&l<1&&(r=t/(2*(1-l))),[n[0],r*100,l*100]};De.hcg.hwb=function(n){let t=n[1]/100,s=n[2]/100,l=t+s*(1-t);return[n[0],(l-t)*100,(1-l)*100]};De.hwb.hcg=function(n){let t=n[1]/100,l=1-n[2]/100,r=l-t,a=0;return r<1&&(a=(l-r)/(1-r)),[n[0],r*100,a*100]};De.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};De.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};De.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};De.gray.hsl=function(n){return[0,0,n[0]]};De.gray.hsv=De.gray.hsl;De.gray.hwb=function(n){return[0,100,n[0]]};De.gray.cmyk=function(n){return[0,0,0,n[0]]};De.gray.lab=function(n){return[n[0],0,0]};De.gray.hex=function(n){let t=Math.round(n[0]/100*255)&255,l=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(l.length)+l};De.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]}});var Ls=un((mg,Ts)=>{var Dt=vi();function wf(){let n={},t=Object.keys(Dt);for(let s=t.length,l=0;l<s;l++)n[t[l]]={distance:-1,parent:null};return n}function kf(n){let t=wf(),s=[n];for(t[n].distance=0;s.length;){let l=s.pop(),r=Object.keys(Dt[l]);for(let a=r.length,e=0;e<a;e++){let p=r[e],h=t[p];h.distance===-1&&(h.distance=t[l].distance+1,h.parent=l,s.unshift(p))}}return t}function Cf(n,t){return function(s){return t(n(s))}}function Ef(n,t){let s=[t[n].parent,n],l=Dt[t[n].parent][n],r=t[n].parent;for(;t[r].parent;)s.unshift(t[r].parent),l=Cf(Dt[t[r].parent][r],l),r=t[r].parent;return l.conversion=s,l}Ts.exports=function(n){let t=kf(n),s={},l=Object.keys(t);for(let r=l.length,a=0;a<r;a++){let e=l[a];t[e].parent!==null&&(s[e]=Ef(e,t))}return s}});var Ns=un((hg,Bs)=>{var yi=vi(),Mf=Ls(),Jn={},_f=Object.keys(yi);function If(n){let t=function(...s){let l=s[0];return l==null?l:(l.length>1&&(s=l),n(s))};return"conversion"in n&&(t.conversion=n.conversion),t}function Pf(n){let t=function(...s){let l=s[0];if(l==null)return l;l.length>1&&(s=l);let r=n(s);if(typeof r=="object")for(let a=r.length,e=0;e<a;e++)r[e]=Math.round(r[e]);return r};return"conversion"in n&&(t.conversion=n.conversion),t}_f.forEach(n=>{Jn[n]={},Object.defineProperty(Jn[n],"channels",{value:yi[n].channels}),Object.defineProperty(Jn[n],"labels",{value:yi[n].labels});let t=Mf(n);Object.keys(t).forEach(l=>{let r=t[l];Jn[n][l]=Pf(r),Jn[n][l].raw=If(r)})});Bs.exports=Jn});var js=un((dg,Ws)=>{var Qn=dl(),gn=Ns(),qs=["keyword","gray","hex"],bi={};for(let n of Object.keys(gn))bi[[...gn[n].labels].sort().join("")]=n;var Tt={};function Jr(n,t){if(!(this instanceof Jr))return new Jr(n,t);if(t&&t in qs&&(t=null),t&&!(t in gn))throw new Error("Unknown model: "+t);let s,l;if(n==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(n instanceof Jr)this.model=n.model,this.color=[...n.color],this.valpha=n.valpha;else if(typeof n=="string"){let r=Qn.get(n);if(r===null)throw new Error("Unable to parse color from string: "+n);this.model=r.model,l=gn[this.model].channels,this.color=r.value.slice(0,l),this.valpha=typeof r.value[l]=="number"?r.value[l]:1}else if(n.length>0){this.model=t||"rgb",l=gn[this.model].channels;let r=Array.prototype.slice.call(n,0,l);this.color=$i(r,l),this.valpha=typeof n[l]=="number"?n[l]:1}else if(typeof n=="number")this.model="rgb",this.color=[n>>16&255,n>>8&255,n&255],this.valpha=1;else{this.valpha=1;let r=Object.keys(n);"alpha"in n&&(r.splice(r.indexOf("alpha"),1),this.valpha=typeof n.alpha=="number"?n.alpha:0);let a=r.sort().join("");if(!(a in bi))throw new Error("Unable to parse color from object: "+JSON.stringify(n));this.model=bi[a];let{labels:e}=gn[this.model],p=[];for(s=0;s<e.length;s++)p.push(n[e[s]]);this.color=$i(p)}if(Tt[this.model])for(l=gn[this.model].channels,s=0;s<l;s++){let r=Tt[this.model][s];r&&(this.color[s]=r(this.color[s]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Jr.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(n){let t=this.model in Qn.to?this:this.rgb();t=t.round(typeof n=="number"?n:1);let s=t.valpha===1?t.color:[...t.color,this.valpha];return Qn.to[t.model](s)},percentString(n){let t=this.rgb().round(typeof n=="number"?n:1),s=t.valpha===1?t.color:[...t.color,this.valpha];return Qn.to.rgb.percent(s)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let n={},{channels:t}=gn[this.model],{labels:s}=gn[this.model];for(let l=0;l<t;l++)n[s[l]]=this.color[l];return this.valpha!==1&&(n.alpha=this.valpha),n},unitArray(){let n=this.rgb().color;return n[0]/=255,n[1]/=255,n[2]/=255,this.valpha!==1&&n.push(this.valpha),n},unitObject(){let n=this.rgb().object();return n.r/=255,n.g/=255,n.b/=255,this.valpha!==1&&(n.alpha=this.valpha),n},round(n){return n=Math.max(n||0,0),new Jr([...this.color.map(Ff(n)),this.valpha],this.model)},alpha(n){return n!==void 0?new Jr([...this.color,Math.max(0,Math.min(1,n))],this.model):this.valpha},red:zr("rgb",0,Kr(255)),green:zr("rgb",1,Kr(255)),blue:zr("rgb",2,Kr(255)),hue:zr(["hsl","hsv","hsl","hwb","hcg"],0,n=>(n%360+360)%360),saturationl:zr("hsl",1,Kr(100)),lightness:zr("hsl",2,Kr(100)),saturationv:zr("hsv",1,Kr(100)),value:zr("hsv",2,Kr(100)),chroma:zr("hcg",1,Kr(100)),gray:zr("hcg",2,Kr(100)),white:zr("hwb",1,Kr(100)),wblack:zr("hwb",2,Kr(100)),cyan:zr("cmyk",0,Kr(100)),magenta:zr("cmyk",1,Kr(100)),yellow:zr("cmyk",2,Kr(100)),black:zr("cmyk",3,Kr(100)),x:zr("xyz",0,Kr(95.047)),y:zr("xyz",1,Kr(100)),z:zr("xyz",2,Kr(108.833)),l:zr("lab",0,Kr(100)),a:zr("lab",1),b:zr("lab",2),keyword(n){return n!==void 0?new Jr(n):gn[this.model].keyword(this.color)},hex(n){return n!==void 0?new Jr(n):Qn.to.hex(this.rgb().round().color)},hexa(n){if(n!==void 0)return new Jr(n);let t=this.rgb().round().color,s=Math.round(this.valpha*255).toString(16).toUpperCase();return s.length===1&&(s="0"+s),Qn.to.hex(t)+s},rgbNumber(){let n=this.rgb().color;return(n[0]&255)<<16|(n[1]&255)<<8|n[2]&255},luminosity(){let n=this.rgb().color,t=[];for(let[s,l]of n.entries()){let r=l/255;t[s]=r<=.04045?r/12.92:((r+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(n){let t=this.luminosity(),s=n.luminosity();return t>s?(t+.05)/(s+.05):(s+.05)/(t+.05)},level(n){let t=this.contrast(n);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){let n=this.rgb().color;return(n[0]*2126+n[1]*7152+n[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let n=this.rgb();for(let t=0;t<3;t++)n.color[t]=255-n.color[t];return n},lighten(n){let t=this.hsl();return t.color[2]+=t.color[2]*n,t},darken(n){let t=this.hsl();return t.color[2]-=t.color[2]*n,t},saturate(n){let t=this.hsl();return t.color[1]+=t.color[1]*n,t},desaturate(n){let t=this.hsl();return t.color[1]-=t.color[1]*n,t},whiten(n){let t=this.hwb();return t.color[1]+=t.color[1]*n,t},blacken(n){let t=this.hwb();return t.color[2]+=t.color[2]*n,t},grayscale(){let n=this.rgb().color,t=n[0]*.3+n[1]*.59+n[2]*.11;return Jr.rgb(t,t,t)},fade(n){return this.alpha(this.valpha-this.valpha*n)},opaquer(n){return this.alpha(this.valpha+this.valpha*n)},rotate(n){let t=this.hsl(),s=t.color[0];return s=(s+n)%360,s=s<0?360+s:s,t.color[0]=s,t},mix(n,t){if(!n||!n.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof n);let s=n.rgb(),l=this.rgb(),r=t===void 0?.5:t,a=2*r-1,e=s.alpha()-l.alpha(),p=((a*e===-1?a:(a+e)/(1+a*e))+1)/2,h=1-p;return Jr.rgb(p*s.red()+h*l.red(),p*s.green()+h*l.green(),p*s.blue()+h*l.blue(),s.alpha()*r+l.alpha()*(1-r))}};for(let n of Object.keys(gn)){if(qs.includes(n))continue;let{channels:t}=gn[n];Jr.prototype[n]=function(...s){return this.model===n?new Jr(this):s.length>0?new Jr(s,n):new Jr([...Rf(gn[this.model][n].raw(this.color)),this.valpha],n)},Jr[n]=function(...s){let l=s[0];return typeof l=="number"&&(l=$i(s,t)),new Jr(l,n)}}function Sf(n,t){return Number(n.toFixed(t))}function Ff(n){return function(t){return Sf(t,n)}}function zr(n,t,s){n=Array.isArray(n)?n:[n];for(let l of n)(Tt[l]||(Tt[l]=[]))[t]=s;return n=n[0],function(l){let r;return l!==void 0?(s&&(l=s(l)),r=this[n](),r.color[t]=l,r):(r=this[n]().color[t],s&&(r=s(r)),r)}}function Kr(n){return function(t){return Math.max(0,Math.min(n,t))}}function Rf(n){return Array.isArray(n)?n:[n]}function $i(n,t){for(let s=0;s<t;s++)typeof n[s]!="number"&&(n[s]=0);return n}Ws.exports=Jr});var va;(function(n){n.fig="fig",n.eq="eq",n.code="code",n.table="table"})(va||(va={}));function ya(n,t){let s=n.type!=="image"&&n.type!=="table";s?t.write(`[
`):t.write(`
  `),t.renderChildren({children:[n]}),s&&t.write(`
]`)}var ba=(n,t)=>{var s,l;if(t.data.isInTable){In(t.file,"Unable to render typst figure inside table",{node:n,source:"myst-to-typst"});return}t.ensureNewLine(),t.write("#show figure: set block(breakable: true)"),t.ensureNewLine();let r=t.data.isInFigure;t.data.isInFigure=!0;let{identifier:a,kind:e}=n,p=(s=n.children)===null||s===void 0?void 0:s.filter(E=>E.type==="caption"||E.type==="legend"),h=(l=n.children)===null||l===void 0?void 0:l.filter(E=>E.type!=="caption"&&E.type!=="legend");(!h||h.length===0)&&In(t.file,`Figure with no non-caption content: ${a}`,{node:n,source:"myst-to-typst"}),h&&h.length>1?(t.write("#figure(("),h.forEach(E=>{ya(E,t),t.write(`
, `)}),t.write(").join()")):h&&h.length===1?(t.write("#figure("),ya(h[0],t)):(t.write(`#figure([
  `),t.renderChildren(n,1),t.write("]")),t.write(","),p?.length&&(t.write(`
  caption: [
`),t.renderChildren({children:p.map(E=>E.children).filter(Boolean).flat()}),t.write(`
],`)),e&&(t.write(`
  kind: "${e}",`),t.write(`
  supplement: [${e[0].toUpperCase()+e.substring(1)}],`)),t.write(`
)`),a&&t.write(` <${a}>`),t.ensureNewLine(!0),t.addNewLine(),t.data.isInFigure=r},Qt=()=>{};function Ea(n,t=" "){return n.replace(/\u00A0/g,t).replace(/[\u200B-\u200D\uFEFF]/g,"")}var $a="xxxxBACKSLASHSPACExxxx",Aa="xxxxBACKSLASHxxxx",xa="xxxxCOMMENTxxxx",wa="xxxxCOMMENTSPACExxxx",ka="xxxxTILDExxxx",ri={"&":"\\&","`":"\\`",$:"\\$","#":"\\#",_:"\\_","*":"\\*","{":"\\{","}":"\\}","[":"\\[","]":"\\]","^":"\\^","@":"\\@"},yl={...ri,"\u2019":"'","\u2018":"'","\u201D":'"',"\u201C":'"',"\xA9":"#emoji.copyright ","\xAE":"#emoji.reg ","\u2122":"#emoji.tm ","<":"\\< ",">":"\\> ","\xA0":"~","\u202F":"~"},Ma={"\u2194":"arrow.l.r","\u21D4":"arrow.l.r.double","\u2192":"arrow.r","\u21D2":"arrow.r.double","\u2190":"arrow.l","\u21D0":"arrow.l.double"},_a={"\u2212":"-","-":"-","\uFE63":"-","\uFF0D":"-","\uFF0B":"+"},Ca={...yl,...Ma,..._a},xt={...Ma,..._a,"\xBD":"1/2","\u2153":"1/3","\u2154":"2/3","\xBC":"1/4","\u2155":"1/5","\u2156":"2/5","\u2157":"3/5","\u2158":"4/5","\u2159":"1/6","\u215A":"5/6","\u2150":"1/7","\u215B":"1/8","\u215C":"3/8","\u215D":"5/8","\u215E":"7/8","\u2151":"1/9","\u2152":"1/10","\xB1":"plus.minus","\xD7":"times",\u0391:"A",\u03B1:"alpha",\u0392:"B",\u03B2:"beta",\u00DF:"beta",\u0393:"Gamma",\u03B3:"gamma",\u0394:"Delta","\u2206":"Delta",\u03B4:"delta",\u0395:"E",\u03B5:"epsilon",\u0396:"Z",\u03B6:"zeta",\u0397:"H",\u03B7:"eta",\u0398:"Theta",\u03B8:"theta",\u03D1:"vartheta",\u0399:"I",\u03B9:"iota",\u039A:"K",\u03BA:"kappa",\u039B:"Lambda",\u03BB:"lambda",\u039C:"M",\u03BC:"mu",\u039D:"N",\u03BD:"nu",\u039E:"Xi",\u03BE:"xi",\u039F:"O",\u03BF:"o",\u03A0:"Pi",\u03C0:"pi",\u03A1:"P",\u03C1:"rho",\u03A3:"Sigma",\u03C3:"sigma",\u03A4:"T",\u03C4:"tau",\u03A5:"Upsilon",\u03C5:"upsilon",\u03A6:"Phi",\u03D5:"phi.alt",\u03C6:"phi",\u03A7:"X",\u03C7:"chi",\u03A8:"Psi",\u03C8:"psi",\u03A9:"Omega",\u03C9:"omega","\u2202":"diff","\u221E":"infty","\u2248":"approx","\u2260":"eq.not","\u2022":"dot.c"};function ni(n){return!n||!n.children||n.children.length===0?!1:n.children.reduce((t,{type:s})=>t&&s==="text",!0)}function Ia(n){return Array.from(n??"").map(l=>ri[l]?{kind:"text",text:ri[l]}:{kind:"text",text:l}).reduce((l,r)=>{let a=l.slice(-1)[0];return a?.kind===r.kind?a.text+=r.text:l.push(r),l},[]).reduce((l,r)=>l+r.text,"")}function Pa(n){let t=(n??"").replace(/\\ /g,$a).replace(/\\/g,Aa).replace(/^\/\//g,xa).replace(/\s\/\//g,wa).replace(/~/g,ka),r=Array.from(t).map(a=>Ca[a]?{kind:"text",text:Ca[a]}:xt[a]?{kind:"math",text:xt[a]}:{kind:"text",text:a}).reduce((a,e)=>{let p=a.slice(-1)[0];return p?.kind===e.kind?p.text+=e.text:a.push(e),a},[]).reduce((a,e)=>e.kind==="math"?`${a}$${e.text}$`:a+e.text,"").replace(new RegExp($a,"g"),"\\\\ ").replace(new RegExp(Aa,"g"),"\\\\").replace(new RegExp(wa,"g")," \\/\\/").replace(new RegExp(xa,"g"),"\\/\\/").replace(new RegExp(ka,"g"),"$tilde$");return Ea(r,"~")}function Sa(n){let s=Array.from(n??"").reduce((l,r)=>{if(xt[r]){let a=l.slice(-1)===" "?"":" ";return`${l}${a}${xt[r]}`}return l+r},"").trim();return Ea(s)}function Un(n){if(typeof n=="number"&&Number.isNaN(n))return Un(.7);if(typeof n=="string")return n.endsWith("%")?Un(Number(n.replace("%",""))):n.endsWith("px")?Un(Number(n.replace("px",""))/800):(console.log(`Unknown width ${n} in getLatexImageWidth`),Un(.7));let t=n??.7;return t<1&&(t*=100),`${t}%`}var Fa={cref:{signature:"s m"},Cref:{signature:"s m"},crefrange:{signature:"s m m"},Crefrange:{signature:"s m m"},cpageref:{signature:"s m"},Cpageref:{signature:"s m"},ref:{signature:"m"},pageref:{signature:"m"},namecref:{signature:"m"},nameCref:{signature:"m"},lcnamecref:{signature:"m"},namecrefs:{signature:"m"},nameCrefs:{signature:"m"},lcnamecrefs:{signature:"m"},labelcref:{signature:"m"},labelcpageref:{signature:"m"},crefalias:{signature:"m m"},crefname:{signature:"m m m"},crefdefaultlabelformat:{signature:"m"},crefrangeconjunction:{signature:"m"}},Ra={};var Oa={"*":{openMark:"",closeMark:""},"{":{openMark:"{",closeMark:"}"},"[":{openMark:"[",closeMark:"]"},"(":{openMark:"(",closeMark:")"},"<":{openMark:"<",closeMark:">"}},bl=new Set(Object.values(Oa).map(n=>n.closeMark).filter(n=>n));function $l(n){let t=[];for(let s of n.split("")){if(bl.has(s))continue;let l=Oa[s];if(l==null)throw new Error(`Unknown open/close mark type "${s}"`);t.push(l)}return t}function qr(n,t){if(n==null)return{type:"argument",content:[],openMark:"",closeMark:""};if(typeof n=="string"&&(n=Al(n)),!Array.isArray(n)&&n.type==="argument")return n;let s=t?.openMark??"{",l=t?.closeMark??"}";if(t?.braces){let r=$l(t.braces);r[0]&&(s=r[0].openMark,l=r[0].closeMark)}return Array.isArray(n)||(n=[n]),{type:"argument",content:n,openMark:s,closeMark:l}}function Al(n){return typeof n=="string"?{type:"string",content:n}:n}var it=Symbol("linebreak"),Xn="\\";function an(n){if(typeof n=="string")return[n];if(Array.isArray(n))return[].concat(...n.map(l=>an(l)));let t,s;switch(n.type){case"root":return an(n.content);case"argument":return[n.openMark,...an(n.content),n.closeMark];case"comment":let l=n.suffixParbreak?"":it,r="";return n.sameline&&n.leadingWhitespace&&(r=" "),n.sameline?[r,"%",...an(n.content),l]:[it,"%",...an(n.content),l];case"environment":case"mathenv":case"verbatim":let a=an(n.env),e=[Xn+"begin{",...a,"}"],p=[Xn+"end{",...a,"}"];return t=n.args==null?[]:an(n.args),[...e,...t,...an(n.content),...p];case"displaymath":return[Xn+"[",...an(n.content),Xn+"]"];case"group":return["{",...an(n.content),"}"];case"inlinemath":return["$",...an(n.content),"$"];case"macro":return t=n.args==null?[]:an(n.args),s=n.escapeToken==null?Xn:n.escapeToken,[s,...an(n.content),...t];case"parbreak":return[it,it];case"string":return[n.content];case"verb":return[Xn,n.env,n.escape,...an(n.content),n.escape];case"whitespace":return[" "];default:return console.warn("Cannot find render for node ",n,`(of type ${typeof n})`),[""+n]}}function vn(n,t){let s=t!=null?t.asArray:!1,l=an(n);return s?l:l.map(r=>r===it?`
`:r).join("")}function xl(n){let t=Array.isArray(n)?n.length>0?typeof n[0]=="string"?Object.fromEntries(n.map(s=>{if(typeof s!="string")throw new Error("Wrong branch of map function");return[s,{}]})):Object.fromEntries(n.map(s=>{if(typeof s=="string")throw new Error("Wrong branch of map function");return s.escapeToken!=null?[s.content,{escapeToken:s.escapeToken}]:[s.content,{}]})):{}:n;return function(l){if(l==null||l.type!=="macro")return!1;let r=t[l.content];return r?typeof r=="object"&&"escapeToken"in r?r.escapeToken==null||r.escapeToken===l.escapeToken:!0:!1}}function wl(n){let t=Array.isArray(n)?Object.fromEntries(n.map(s=>[s,{}])):n;return function(l){if(!be.anyEnvironment(l))return!1;let r=vn(l.env);return!!t[r]}}var be={macro(n,t){return n==null?!1:n.type==="macro"&&(t==null||n.content===t)},anyMacro(n){return be.macro(n)},environment(n,t){return n==null?!1:(n.type==="environment"||n.type==="mathenv")&&(t==null||vn(n.env)===t)},anyEnvironment(n){return be.environment(n)},comment(n){return n==null?!1:n.type==="comment"},parbreak(n){return n==null?!1:n.type==="parbreak"},whitespace(n){return n==null?!1:n.type==="whitespace"},whitespaceLike(n){return n==null?!1:n.type==="whitespace"||n.type==="whitespace"&&n.leadingWhitespace===!0},string(n,t){return n==null?!1:n.type==="string"&&(t==null||n.content===t)},anyString(n){return be.string(n)},group(n){return n==null?!1:n.type==="group"},argument(n){return n==null?!1:n.type==="argument"},blankArgument(n){return be.argument(n)?n.openMark===""&&n.closeMark===""&&n.content.length===0:!1},math(n){return n==null?!1:n.type==="displaymath"||n.type==="inlinemath"},createMacroMatcher:xl,createEnvironmentMatcher:wl},{anyEnvironment:xu,anyMacro:wu,anyString:ku,argument:Cu,blankArgument:Eu,comment:Mu,environment:_u,group:Iu,macro:Pu,math:Su,parbreak:Fu,string:Ru,whitespace:Ou}=be;function kl(n){let t={enter:[],leave:[]};if(Array.isArray(n))return t;if(be.math(n))return{enter:["content"],leave:[]};let s=n._renderInfo||{};if(s.inMathMode==null)return t;if(be.macro(n)){if(s.inMathMode===!0)return{enter:["args"],leave:[]};if(s.inMathMode===!1)return{enter:[],leave:["args"]}}return be.environment(n)?s.inMathMode===!0?{enter:["content"],leave:[]}:{enter:[],leave:["content"]}:t}var ii=Symbol("continue"),ai=Symbol("skip"),at=Symbol("exit"),Cl={inMathMode:!1,hasMathModeAncestor:!1};function sn(n,t,s){let{startingContext:l=Cl,test:r=()=>!0,includeArrays:a=!1}=s||{},e,p;typeof t=="function"?e=t:t&&typeof t=="object"&&(e=t.enter,p=t.leave),h(n,{key:void 0,index:void 0,parents:[],containingArray:void 0,context:{...l}});function h(E,{key:S,index:Y,parents:te,context:y,containingArray:d}){let z=a?r(E,{key:S,index:Y,parents:te,context:y,containingArray:d}):!Array.isArray(E)&&r(E,{key:S,index:Y,parents:te,context:y,containingArray:d}),$e=e&&z?ti(e(E,{key:S,index:Y,parents:te,context:y,containingArray:d})):[ii];if($e[0]===at)return $e;if($e[0]===ai)return p&&z?ti(p(E,{key:S,index:Y,parents:te,context:y,containingArray:d})):$e;if(Array.isArray(E))for(let fr=0;fr>-1&&fr<E.length;fr++){let xr=E[fr],_e=h(xr,{key:S,index:fr,parents:te,context:y,containingArray:E});if(_e[0]===at)return _e;typeof _e[1]=="number"&&(fr=_e[1]-1)}else{let fr=["content","args"];switch(E.type){case"macro":fr=["args"];break;case"comment":case"string":case"verb":case"verbatim":fr=[];break}let xr=kl(E);for(let _e of fr){let vr=E[_e],ur=[E].concat(te);if(vr==null)continue;let yr={...y};xr.enter.includes(_e)?(yr.inMathMode=!0,yr.hasMathModeAncestor=!0):xr.leave.includes(_e)&&(yr.inMathMode=!1);let Je=h(vr,{key:_e,index:void 0,parents:ur,context:yr,containingArray:void 0});if(Je[0]===at)return Je}}return p&&z?ti(p(E,{key:S,index:Y,parents:te,context:y,containingArray:d})):$e}}function ti(n){return n==null?[ii]:Array.isArray(n)?n:typeof n=="number"?[ii,n]:[n]}function zn(n,t){return t!=null&&(n._renderInfo={...n._renderInfo||{},...t}),n}function Mn(n){if(!Array.isArray(n))return console.warn("Trying to trim a non-array ast",n),n;let{trimmedStart:t}=si(n),{trimmedEnd:s}=st(n);return{trimmedStart:t,trimmedEnd:s}}function si(n){let{start:t}=Da(n);n.splice(0,t);for(let s of n){if(!be.comment(s))break;(s.leadingWhitespace||s.sameline)&&(s.leadingWhitespace=!1),t>0&&s.sameline&&(s.sameline=!1)}return{trimmedStart:t}}function st(n){let{end:t}=Da(n);n.splice(n.length-t,t);for(let s=n.length-1;s>=0;s--){let l=n[s];if(!be.comment(l))break;delete l.suffixParbreak,be.comment(l)&&l.leadingWhitespace&&!l.sameline&&(l.leadingWhitespace=!1)}return{trimmedEnd:t}}function Da(n){let t=0,s=0;for(let l of n)if(be.whitespace(l)||be.parbreak(l))t++;else break;if(t===n.length)return{start:t,end:0};for(let l=n.length-1;l>=0;l--){let r=n[l];if(be.whitespace(r)||be.parbreak(r))s++;else break}return{start:t,end:s}}var Ta=function(){return t=>{sn(t,s=>{if(!(be.math(s)||be.anyEnvironment(s)))return;let l=s.content[0];if(be.comment(l)&&l.sameline){l.suffixParbreak=!1,st(s.content);let{trimmedStart:r}=si(s.content.slice(1));s.content.splice(1,r)}else Mn(s.content)})}},La=function(){return t=>{Mn(t.content)}};function Ba(n,t=()=>!1,s){if(!Array.isArray(n))throw new Error(`Can only split an Array, not ${n}`);let{onlySplitOnFirstOccurrence:l=!1}=s||{},r=[];for(let p=0;p<n.length&&!(t(n[p])&&(r.push(p),l));p++);if(r.length===0)return{segments:[n],separators:[]};let a=r.map(p=>n[p]),e=r.map((p,h)=>{let E=h===0?0:r[h-1]+1;return n.slice(E,p)});return e.push(n.slice(r[r.length-1]+1,n.length)),{segments:e,separators:a}}function Na(n,t){if(typeof t=="string"&&(t=[t]),!Array.isArray(t))throw new Error("Type coercion failed");let s=be.createMacroMatcher(t),{segments:l,separators:r}=Ba(n,s);return{segments:l,macros:r}}function qa(n,t){for(let s=n.length-1;s>=0;s--){let l=n[s];if(!(be.whitespace(l)||be.comment(l)||t&&be.parbreak(l)))return s}}function nn(n,t="item"){let{segments:s,macros:l}=Na(n,t);for(let e=0;e<s.length;e++){let p=s[e];e===0?st(p):Mn(p),p.length>0&&e>0&&p.unshift({type:"whitespace"})}let r=new WeakSet,a=l.flatMap((e,p)=>{var h;let E=s[p+1],S=El(E);return e.args=e.args||[],e.args.push(qr(E,{openMark:"",closeMark:""})),zn(e,{inParMode:!0}),(p>0||((h=s[0])==null?void 0:h.length)>0)&&r.add(e),[e,...S]});a=a.flatMap(e=>r.has(e)?[{type:"parbreak"},e]:e),a.unshift(...s[0]);for(let e=0;e<a.length-1;e++){let p=a[e],h=a[e+1];if(be.parbreak(h)&&(be.comment(p)&&(p.suffixParbreak=!0),be.macro(p)&&p.args&&p.args[p.args.length-1].closeMark==="")){let E=p.args[p.args.length-1].content,S=E[E.length-1];be.comment(S)&&(S.suffixParbreak=!0)}}return a}function El(n){let t=qa(n,!0);return t===n.length-1||t==null&&n.length===0?[]:(t==null&&(t=-1),n.splice(t+1))}var Wa={answerline:{signature:"o"},fillin:{signature:"o o"},fullwidth:{signature:"m"},fillwidthlines:{signature:"m"},fillwidthdottedlines:{signature:"m"},fillwidthgrid:{signature:"m"},makeemptybox:{signature:"m"},CorrectChoiceEmphasis:{signature:"m",renderInfo:{breakAround:!0}},SolutionEmphasis:{signature:"m",renderInfo:{breakAround:!0}},uplevel:{signature:"m",renderInfo:{breakAround:!0}},checkboxchar:{signature:"m",renderInfo:{breakAround:!0}},checkedchar:{signature:"m",renderInfo:{breakAround:!0}},pointname:{signature:"m",renderInfo:{breakAround:!0}},marginpointname:{signature:"m",renderInfo:{breakAround:!0}},extrawidth:{signature:"m",renderInfo:{breakAround:!0}},pointformat:{signature:"m",renderInfo:{breakAround:!0}},bonuspointformat:{signature:"m",renderInfo:{breakAround:!0}},totalformat:{signature:"m",renderInfo:{breakAround:!0}},qformat:{signature:"m",renderInfo:{breakAround:!0}},titledquestion:{signature:"m o",renderInfo:{breakAround:!0}},pointpoints:{signature:"m m",renderInfo:{breakAround:!0}},bonuspointpoints:{signature:"m m",renderInfo:{breakAround:!0}}},ja={choices:{signature:"o",processContent:n=>nn(n,"choice")},checkboxes:{signature:"o",processContent:n=>nn(n,"choice")},oneparchoices:{signature:"o",processContent:n=>nn(n,"choice")},oneparcheckboxes:{signature:"o",processContent:n=>nn(n,"choice")},parts:{signature:"o",processContent:n=>nn(n,"part")},subparts:{signature:"o",processContent:n=>nn(n,"subpart")},subsubparts:{signature:"o",processContent:n=>nn(n,"subsubpart")},questions:{signature:"o",processContent:n=>nn(n,"question")}};var Ga={geometry:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}}},za={};var Ha={hypersetup:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},href:{signature:"o m m"},url:{signature:"m"},nolinkurl:{signature:"m"},hyperbaseurl:{signature:"m"},hyperimage:{signature:"m m"},hyperdef:{signature:"m m m"},hyperref:{signature:"o m"},hyperlink:{signature:"m m"},hypertarget:{signature:"m m"},autoref:{signature:"s m"},pageref:{signature:"s m"},autopageref:{signature:"s m"},pdfstringdef:{signature:"m m"},pdfbookmark:{signature:"o m m"},currentpdfbookmark:{signature:"m m"},subpdfbookmark:{signature:"m m"},belowpdfbookmark:{signature:"m m"},texorpdfstring:{signature:"m m"},thispdfpagelabel:{signature:"m"},hypercalcbp:{signature:"m"}},Ua={};var Xa={"\\":{signature:"!s !o",renderInfo:{breakAfter:!0}},_:{signature:"m",escapeToken:""},"^":{signature:"m",escapeToken:""},newcommand:{signature:"s +m o +o +m",renderInfo:{breakAround:!0,namedArguments:["starred","name","numArgs","default","body"]}},renewcommand:{signature:"s +m o +o +m",renderInfo:{breakAround:!0,namedArguments:["starred","name","numArgs","default","body"]}},providecommand:{signature:"s +m o +o +m",renderInfo:{breakAround:!0}},newcounter:{signature:"m o",renderInfo:{breakAround:!0}},usecounter:{signature:"m"},setcounter:{signature:"m m",renderInfo:{breakAround:!0}},addtocounter:{signature:"m m",renderInfo:{breakAround:!0}},stepcounter:{signature:"m",renderInfo:{breakAround:!0}},refstepcounter:{signature:"m",renderInfo:{breakAround:!0}},newlength:{signature:"m",renderInfo:{breakAround:!0}},addtolength:{signature:"m m",renderInfo:{breakAround:!0}},settodepth:{signature:"m m",renderInfo:{breakAround:!0}},settoheight:{signature:"m m",renderInfo:{breakAround:!0}},settowidth:{signature:"m m",renderInfo:{breakAround:!0}},stretch:{signature:"m"},hspace:{signature:"s m"},vspace:{signature:"s m",renderInfo:{breakAround:!0}},vfill:{renderInfo:{breakAround:!0}},indent:{renderInfo:{breakAround:!0}},phantom:{signature:"m"},vphantom:{signature:"m"},hphantom:{signature:"m"},noindent:{renderInfo:{breakAround:!0}},smallskip:{renderInfo:{breakAround:!0}},medskip:{renderInfo:{breakAround:!0}},bigskip:{renderInfo:{breakAround:!0}},smallbreak:{renderInfo:{breakAround:!0}},medbreak:{renderInfo:{breakAround:!0}},bigbreak:{renderInfo:{breakAround:!0}},newline:{renderInfo:{breakAround:!0}},linebreak:{signature:"o",renderInfo:{breakAround:!0}},nolinebreak:{signature:"o",renderInfo:{breakAround:!0}},clearpage:{renderInfo:{breakAround:!0}},cleardoublepage:{renderInfo:{breakAround:!0}},newpage:{renderInfo:{breakAround:!0}},enlargethispage:{signature:"s",renderInfo:{breakAround:!0}},pagebreak:{signature:"o",renderInfo:{breakAround:!0}},nopagebreak:{signature:"o",renderInfo:{breakAround:!0}},newsavebox:{signature:"m",renderInfo:{breakAround:!0}},sbox:{signature:"m m",renderInfo:{breakAround:!0}},savebox:{signature:"m o o m",renderInfo:{breakAround:!0}},mbox:{signature:"m"},makebox:{signature:"d() o o m",renderInfo:{breakAround:!0}},fbox:{signature:"m"},framebox:{signature:"o o m",renderInfo:{breakAround:!0}},frame:{signature:"m",renderInfo:{breakAround:!0}},parbox:{signature:"o o o m m",renderInfo:{breakAround:!0}},raisebox:{signature:"m o o m"},marginpar:{signature:"o m",renderInfo:{breakAround:!0}},colorbox:{signature:"o m m",renderInfo:{breakAround:!0}},fcolorbox:{signature:"o m m",renderInfo:{breakAround:!0}},rotatebox:{signature:"o m m"},scalebox:{signature:"m o m"},reflectbox:{signature:"m"},resizebox:{signature:"s m m m"},newenvironment:{signature:"s m o o m m",renderInfo:{breakAround:!0}},renewenvironment:{signature:"s m o o m m",renderInfo:{breakAround:!0}},newtheorem:{signature:"s m o m o",renderInfo:{breakAround:!0}},newfont:{signature:"m m",renderInfo:{breakAround:!0}},alph:{signature:"m"},Alph:{signature:"m"},arabic:{signature:"m"},roman:{signature:"m"},Roman:{signature:"m"},fnsymbol:{signature:"m"},documentclass:{signature:"o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},usepackage:{signature:"o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},item:{signature:"o",renderInfo:{hangingIndent:!0,namedArguments:["label"]}},value:{signature:"m"},centering:{renderInfo:{breakAround:!0}},input:{signature:"m",renderInfo:{breakAround:!0}},include:{signature:"m",renderInfo:{breakAround:!0}},includeonly:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},discretionary:{signature:"m m m"},hyphenation:{signature:"m m m"},footnote:{signature:"o m",renderInfo:{inParMode:!0}},footnotemark:{signature:"o"},footnotetext:{signature:"o m",renderInfo:{inParMode:!0}},caption:{signature:"o m",renderInfo:{inParMode:!0,breakAround:!0}},sqrt:{signature:"o m",renderInfo:{inMathMode:!0}},frac:{signature:"m m",renderInfo:{inMathMode:!0}},stackrel:{signature:"m m"},ensuremath:{signature:"m",renderInfo:{inMathMode:!0}},abstract:{signature:"m",renderInfo:{breakAround:!0,inParMode:!0}},maketitle:{renderInfo:{breakAround:!0}},doublespacing:{renderInfo:{breakAround:!0}},singlespacing:{renderInfo:{breakAround:!0}},author:{signature:"m",renderInfo:{breakAround:!0,inParMode:!0}},date:{signature:"o m",renderInfo:{breakAround:!0}},thanks:{signature:"m",renderInfo:{breakAround:!0,inParMode:!0}},title:{signature:"o m",renderInfo:{breakAround:!0,inParMode:!0}},pagenumbering:{signature:"m",renderInfo:{breakAround:!0}},pagestyle:{signature:"m",renderInfo:{breakAround:!0}},thispagestyle:{signature:"m",renderInfo:{breakAround:!0}},definecolor:{signature:"m m m",renderInfo:{breakAround:!0}},pagecolor:{signature:"o m",renderInfo:{breakAround:!0}},nopagecolor:{renderInfo:{breakAround:!0}},multicolumn:{signature:"m m m"},includegraphics:{signature:"s o o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},rule:{signature:"o m m"},part:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},chapter:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},section:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},subsection:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},subsubsection:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},paragraph:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},subparagraph:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},appendix:{renderInfo:{breakAround:!0,inParMode:!0}},frontmatter:{renderInfo:{breakAround:!0,inParMode:!0}},mainmatter:{renderInfo:{breakAround:!0,inParMode:!0}},backmatter:{renderInfo:{breakAround:!0,inParMode:!0}},bibitem:{signature:"o m",renderInfo:{hangingIndent:!0}},cite:{signature:"o m"},textrm:{signature:"m",renderInfo:{inParMode:!0}},textit:{signature:"m",renderInfo:{inParMode:!0}},textmd:{signature:"m",renderInfo:{inParMode:!0}},textbf:{signature:"m",renderInfo:{inParMode:!0}},textup:{signature:"m",renderInfo:{inParMode:!0}},textsl:{signature:"m",renderInfo:{inParMode:!0}},textsf:{signature:"m",renderInfo:{inParMode:!0}},textsc:{signature:"m",renderInfo:{inParMode:!0}},texttt:{signature:"m",renderInfo:{inParMode:!0}},emph:{signature:"m",renderInfo:{inParMode:!0}},textnormal:{signature:"m",renderInfo:{inParMode:!0}},uppercase:{signature:"m",renderInfo:{inParMode:!0}},mathbf:{signature:"m"},mathsf:{signature:"m"},mathtt:{signature:"m"},mathit:{signature:"m"},mathnormal:{signature:"m"},mathcal:{signature:"m"},mathrm:{signature:"m"},setlength:{signature:"m m",renderInfo:{breakAround:!0}},ref:{signature:"s m"},label:{signature:"o m"},printbibliography:{renderInfo:{breakAround:!0}},addtocontents:{signature:"m m",renderInfo:{breakAround:!0}},addcontentsline:{signature:"m m m",renderInfo:{breakAround:!0}},contentsline:{signature:"m m m",renderInfo:{breakAround:!0}},bibliography:{signature:"m",renderInfo:{breakAround:!0}},bibliographystyle:{signature:"m",renderInfo:{breakAround:!0}}},Va={document:{processContent:n=>(Mn(n),n)},array:{signature:"o m",renderInfo:{alignContent:!0}},description:{signature:"o",processContent:nn},enumerate:{signature:"o",processContent:nn,renderInfo:{pgfkeysArgs:!0}},itemize:{signature:"o",processContent:nn},trivlist:{signature:"o",processContent:nn},list:{signature:"m m",processContent:nn},figure:{signature:"o"},"figure*":{signature:"o"},filecontents:{signature:"o m"},"filecontents*":{signature:"o m"},minipage:{signature:"o o o m"},picture:{signature:"r() d()"},tabbing:{renderInfo:{alignContent:!0}},table:{signature:"o"},tabular:{signature:"o m",renderInfo:{alignContent:!0}},"tabular*":{signature:"m o m",renderInfo:{alignContent:!0}},thebibliography:{signature:"m",processContent:n=>nn(n,"bibitem")},math:{renderInfo:{inMathMode:!0}}};var Ml=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,E=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,S=this.location.source+":"+E.line+":"+E.column;if(e){var Y=this.location.end,te=s("",E.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+S+`
`+te+` |
`+E.line+" | "+y+`
`+te+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+S}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?E(z[0])+"-"+E(z[1]):E(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function E(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function S(y){return e[y.type](y)}function Y(y){var d=y.map(S),z,$e;if(d.sort(),d.length>0){for(z=1,$e=1;z<d.length;z++)d[z-1]!==d[z]&&(d[$e]=d[z],$e++);d.length=$e}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function te(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+te(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={document:Ji,math:rl},E=Ji,S="%",Y=".",te="verb*",y="verb",d="[",z="]",$e="lstinline",fr="mintinline",xr="mint",_e="minted",vr="verbatim*",ur="verbatim",yr="filecontents*",Je="filecontents",kr="comment",Rr="lstlisting",Cr="(",Pr=")",Ar="begin",fe="end",wr="equation*",Ze="equation",he="align*",Qe="align",pr="alignat*",Sr="alignat",tr="gather*",ue="gather",we="multline*",L="multline",Er="flalign*",dr="flalign",ir="split",Ue="math",Or="displaymath",Wr="\\",Hr="{",Br="}",jr="$",mr="&",Ur="\r",Nr=`
`,H=`\r
`,ie="#",oe="^",Le="_",er="\0",Q=/^[^ \t\n\r]/,Dr=/^[ \t]/,Mr=/^[a-zA-Z]/,G=/^[0-9]/,N=/^[.,;:\-*\/()!?=+<>[\]`'"~]/,O=Tr("document"),sr=Tr("math"),V=Tr("token"),Me=Jo(),Ge=Tr("parbreak"),Fe=Tr("math token"),ae=Tr("nonchar token"),Gr=He("%",!1),or=Tr("whitespace"),Yr=Tr("number"),hr=He(".",!1),M=Tr("special macro"),w=He("verb*",!1),R=He("verb",!1),U=He("[",!1),J=He("]",!1),Ie=rt([" ","	",`
`,"\r"],!0,!1),ze=Tr("verbatim listings"),qe=He("lstinline",!1),Ve=Tr("verbatim minted"),Ke=He("mintinline",!1),rr=He("mint",!1),je=Tr("verbatim minted environment"),lr=He("minted",!1),D=Tr("verbatim environment"),Z=He("verbatim*",!1),xe=He("verbatim",!1),Te=He("filecontents*",!1),ge=He("filecontents",!1),cr=He("comment",!1),We=He("lstlisting",!1),$=Tr("macro"),W=Tr("group"),q=Tr("environment"),Se=Tr("math environment"),Ne=He("(",!1),Ae=He(")",!1),_r=He("begin",!1),A=He("end",!1),f=He("equation*",!1),B=He("equation",!1),Oe=He("align*",!1),ar=He("align",!1),ee=He("alignat*",!1),en=He("alignat",!1),Xr=He("gather*",!1),bn=He("gather",!1),Sn=He("multline*",!1),jn=He("multline",!1),Ir=He("flalign*",!1),Fn=He("flalign",!1),$n=He("split",!1),ke=He("math",!1),An=He("displaymath",!1),wn=Tr("escape"),on=He("\\",!1),tn=He("{",!1),g=He("}",!1),P=He("$",!1),F=He("&",!1),pe=Tr("newline"),le=He("\r",!1),me=He(`
`,!1),b=He(`\r
`,!1),T=He("#",!1),ne=He("^",!1),ce=He("_",!1),Pe=He("\0",!1),nr=rt([" ","	"],!1,!1),Fr=Tr("letter"),Vr=rt([["a","z"],["A","Z"]],!1,!1),gt=Tr("digit"),Lt=rt([["0","9"]],!1,!1),Bt=Tr("punctuation"),Rn=rt([".",",",";",":","-","*","/","(",")","!","?","=","+","<",">","[","]","`","'",'"',"~"],!1,!1),Nt=Tr("full comment"),qt=Tr("comment"),pt=function(i){return Ye("root",{content:i.flatMap(u=>u)})},et=function(i){return i},mt=function(i){return Ye("inlinemath",{content:i.flatMap(u=>u)})},On=function(i){return Ye("string",{content:i})},Wt=function(i){return Ye("string",{content:i})},Dn=function(){return Ye("parbreak")},ht=function(i){return i},dt=function(i){return i},Tn=function(){return Ye("macro",{content:"^",escapeToken:""})},Gn=function(){return Ye("macro",{content:"_",escapeToken:""})},m=function(i){return Ye("string",{content:i})},C=function(){return Ye("whitespace")},j=function(i,u){return i.join("")+"."+u.join("")},K=function(i){return"."+i.join("")},ye=function(i){return i.join("")+"."},Ce=function(i){return Ye("string",{content:i})},br=function(i,u,x){return x==u},rn=function(i,u,x){return x},Ln=function(i,u,x,v){return v==u},Bn=function(i,u,x){return Ye("verb",{env:i,escape:u,content:x.join("")})},Fi=function(i){return i},vo=function(i){return Ye("displaymath",{content:i.flatMap(u=>u)})},Ri=function(i){return i},yo=function(i){return Ye("inlinemath",{content:i.flatMap(u=>u)})},Oi=function(i){return i},bo=function(i){return Ye("displaymath",{content:i.flatMap(u=>u)})},Di=function(i){return i.type==="string"&&i.content==="]"},Ti=function(i){return i},$o=function(i){return[Ye("string",{content:"["}),...i,Ye("string",{content:"]"})]},Li=function(i){return i},Ao=function(i){return Ye("group",{content:Ye("string",{content:i.join("")})})},Bi=function(i,u){return u==i},Ni=function(i,u){return u},xo=function(i,u,x){return x==i},wo=function(i,u){return[Ye("string",{content:i}),Ye("string",{content:u.join("")}),Ye("string",{content:i})]},ko=function(i,u,x){return[Ye("macro",{content:i}),...u||[],...[].concat(x)]},Co=function(i,u,x,v){return[Ye("macro",{content:i}),...u||[],x,...[].concat(v)]},qi=function(i,u,x,v){return At({content:[i]},v)},Eo=function(i,u,x,v){let I=[...u||[],x,{type:"string",content:v}];return Ye("environment",{env:i,content:I})},Wi=function(i,u){return At({content:[i]},u)},ji=function(i,u){return u},Mo=function(i,u){return Ye("verbatim",{env:i,content:u})},_o=function(i){return i.join("")},Io=function(i){return i},Po=function(i){return Ye("macro",{content:i})},Gi=function(i){return i},So=function(i){return Ye("group",{content:i.flatMap(u=>u)})},Fo=function(i){return Zo().slice(1,-1)},zi=function(i,u,x){return At(i,x)},Hi=function(i,u,x){return x},Ro=function(i,u,x){return x=x.flatMap(v=>v),Ye("environment",{env:i,content:u?[u,...x]:x})},Ui=function(i,u,x){return At({content:[i]},x)},Xi=function(i,u,x){return x},Oo=function(i,u,x){return x=x.flatMap(v=>v),Ye("mathenv",{env:i,content:u?[u,...x]:x})},Do=function(i){return Ye("string",{content:i})},To=function(){return Ye("string",{content:"\\"})},Lo=function(i){return Ye("string",{content:i})},Bo=function(i){return Ye("string",{content:i})},No=function(i){return Ye("string",{content:i})},qo=function(i){return Ye("string",{content:i})},Wo=function(i){return Ye("string",{content:i})},jo=function(i){return Ye("string",{content:i})},Go=function(i){return Ye("string",{content:i})},zo=function(){return" "},Ho=function(i){return Ye("string",{content:i})},Uo=function(i,u){return Ye("comment",{...u,sameline:!1,leadingWhitespace:i.length>0})},Xo=function(i,u){return Ye("comment",{...u,sameline:!0,leadingWhitespace:i.length>0})},Vi=function(i){return i},Vo=function(i){return{content:i.join(""),suffixParbreak:!0}},Ki=function(i){return i},Ko=function(i){return{content:i.join("")}},Yo=function(){var i=Yi();return i.start.column===1},o=0,de=0,vt=[{line:1,column:1}],kn=0,jt=[],_=0,yt;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');E=h[a.startRule]}function Zo(){return r.substring(de,o)}function Yi(){return Gt(de,o)}function He(i,u){return{type:"literal",text:i,ignoreCase:u}}function rt(i,u,x){return{type:"class",parts:i,inverted:u,ignoreCase:x}}function Jo(){return{type:"any"}}function Qo(){return{type:"end"}}function Tr(i){return{type:"other",description:i}}function Zi(i){var u=vt[i],x;if(u)return u;for(x=i-1;!vt[x];)x--;for(u=vt[x],u={line:u.line,column:u.column};x<i;)r.charCodeAt(x)===10?(u.line++,u.column=1):u.column++,x++;return vt[i]=u,u}function Gt(i,u,x){var v=Zi(i),I=Zi(u),k={source:p,start:{offset:i,line:v.line,column:v.column},end:{offset:u,line:I.line,column:I.column}};return x&&p&&typeof p.offset=="function"&&(k.start=p.offset(k.start),k.end=p.offset(k.end)),k}function se(i){o<kn||(o>kn&&(kn=o,jt=[]),jt.push(i))}function el(i,u,x){return new t(t.buildMessage(i,u),i,u,x)}function Ji(){var i,u,x;for(_++,i=o,u=[],x=Cn();x!==e;)u.push(x),x=Cn();return de=i,u=pt(u),i=u,_--,u=e,_===0&&se(O),i}function rl(){var i,u;for(_++,i=[],u=pn();u!==e;)i.push(u),u=pn();return _--,u=e,_===0&&se(sr),i}function Cn(){var i,u,x,v,I,k;if(_++,i=ra(),i===e&&(i=aa(),i===e&&(i=fa(),i===e&&(i=xn(),i===e)))){if(i=o,u=fn(),u!==e){if(x=[],v=o,I=o,_++,k=fn(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(k=pn(),k!==e?(de=v,v=et(k)):(o=v,v=e)):(o=v,v=e),v!==e)for(;v!==e;)x.push(v),v=o,I=o,_++,k=fn(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(k=pn(),k!==e?(de=v,v=et(k)):(o=v,v=e)):(o=v,v=e);else x=e;x!==e?(v=fn(),v!==e?(de=i,i=mt(x)):(o=i,i=e)):(o=i,i=e)}else o=i,i=e;if(i===e&&(i=Xt(),i===e&&(i=Qi(),i===e&&(i=Vt(),i===e&&(i=Kt(),i===e&&(i=nl(),i===e&&(i=Zr(),i===e&&(i=la(),i===e)))))))){if(i=o,u=o,x=[],v=o,I=o,_++,k=ea(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(r.length>o?(k=r.charAt(o),o++):(k=e,_===0&&se(Me)),k!==e?(I=[I,k],v=I):(o=v,v=e)):(o=v,v=e),v!==e)for(;v!==e;)x.push(v),v=o,I=o,_++,k=ea(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(r.length>o?(k=r.charAt(o),o++):(k=e,_===0&&se(Me)),k!==e?(I=[I,k],v=I):(o=v,v=e)):(o=v,v=e);else x=e;x!==e?u=r.substring(u,o):u=x,u!==e&&(de=i,u=On(u)),i=u,i===e&&(i=En(),i===e&&(i=ln(),i===e&&(i=fn(),i===e&&(i=o,r.length>o?(u=r.charAt(o),o++):(u=e,_===0&&se(Me)),u!==e&&(de=i,u=Wt(u)),i=u))))}}return _--,i===e&&(u=e,_===0&&se(V)),i}function Qi(){var i,u,x,v,I,k,re,X;for(_++,i=o,u=o,x=[],v=$r();v!==e;)x.push(v),v=$r();if(v=Qr(),v!==e){for(I=[],k=o,re=[],X=$r();X!==e;)re.push(X),X=$r();if(X=Qr(),X!==e?(re=[re,X],k=re):(o=k,k=e),k!==e)for(;k!==e;){for(I.push(k),k=o,re=[],X=$r();X!==e;)re.push(X),X=$r();X=Qr(),X!==e?(re=[re,X],k=re):(o=k,k=e)}else I=e;if(I!==e){for(k=[],re=$r();re!==e;)k.push(re),re=$r();re=o,_++,X=nt(),_--,X===e?re=void 0:(o=re,re=e),re!==e?(x=[x,v,I,k,re],u=x):(o=u,u=e)}else o=u,u=e}else o=u,u=e;if(u===e){for(u=o,x=[],v=$r();v!==e;)x.push(v),v=$r();if(v=Qr(),v!==e){for(I=[],k=o,re=[],X=$r();X!==e;)re.push(X),X=$r();if(X=Qr(),X!==e?(re=[re,X],k=re):(o=k,k=e),k!==e)for(;k!==e;){for(I.push(k),k=o,re=[],X=$r();X!==e;)re.push(X),X=$r();X=Qr(),X!==e?(re=[re,X],k=re):(o=k,k=e)}else I=e;I!==e?(x=[x,v,I],u=x):(o=u,u=e)}else o=u,u=e}return u!==e&&(de=i,u=Dn()),i=u,_--,i===e&&(u=e,_===0&&se(Ge)),i}function pn(){var i,u,x,v,I;if(_++,i=ra(),i===e&&(i=aa(),i===e&&(i=fa(),i===e))){for(i=o,u=[],x=Zr();x!==e;)u.push(x),x=Zr();if(x=xn(),x!==e){for(v=[],I=Zr();I!==e;)v.push(I),I=Zr();de=i,i=ht(x)}else o=i,i=e;if(i===e){for(i=o,u=[],x=Zr();x!==e;)u.push(x),x=Zr();if(x=Xt(),x!==e){for(v=[],I=Zr();I!==e;)v.push(I),I=Zr();de=i,i=dt(x)}else o=i,i=e;if(i===e&&(i=Vt(),i===e)){for(i=o,u=[],x=Zr();x!==e;)u.push(x),x=Zr();if(x=cl(),x!==e){for(v=[],I=Zr();I!==e;)v.push(I),I=Zr();de=i,i=Tn()}else o=i,i=e;if(i===e){for(i=o,u=[],x=Zr();x!==e;)u.push(x),x=Zr();if(x=gl(),x!==e){for(v=[],I=Zr();I!==e;)v.push(I),I=Zr();de=i,i=Gn()}else o=i,i=e;i===e&&(i=Kt(),i===e&&(i=Zr(),i===e&&(i=o,r.length>o?(u=r.charAt(o),o++):(u=e,_===0&&se(Me)),u!==e&&(de=i,u=m(u)),i=u)))}}}}return _--,i===e&&(u=e,_===0&&se(Fe)),i}function ea(){var i;return _++,i=hn(),i===e&&(r.charCodeAt(o)===37?(i=S,o++):(i=e,_===0&&se(Gr)),i===e&&(i=En(),i===e&&(i=ln(),i===e&&(i=fn(),i===e&&(i=Xt(),i===e&&(i=Qr(),i===e&&(i=Vt(),i===e&&(i=Kt(),i===e&&(i=$r(),i===e&&(i=la(),i===e&&(i=ca()))))))))))),_--,i===e&&_===0&&se(ae),i}function Zr(){var i,u,x,v,I,k,re,X;if(_++,i=o,u=o,x=Qr(),x!==e){for(v=[],I=$r();I!==e;)v.push(I),I=$r();x=[x,v],u=x}else o=u,u=e;if(u===e){if(u=o,x=[],v=$r(),v!==e)for(;v!==e;)x.push(v),v=$r();else x=e;if(x!==e)if(v=Qr(),v!==e)if(I=o,_++,k=nt(),_--,k===e?I=void 0:(o=I,I=e),I!==e){for(k=[],re=$r();re!==e;)k.push(re),re=$r();re=o,_++,X=Qr(),_--,X===e?re=void 0:(o=re,re=e),re!==e?(x=[x,v,I,k,re],u=x):(o=u,u=e)}else o=u,u=e;else o=u,u=e;else o=u,u=e;if(u===e)if(u=[],x=$r(),x!==e)for(;x!==e;)u.push(x),x=$r();else u=e}return u!==e&&(de=i,u=C()),i=u,_--,i===e&&(u=e,_===0&&se(or)),i}function nl(){var i,u,x,v,I,k;if(_++,i=o,u=o,x=[],v=Nn(),v!==e)for(;v!==e;)x.push(v),v=Nn();else x=e;if(x!==e)if(r.charCodeAt(o)===46?(v=Y,o++):(v=e,_===0&&se(hr)),v!==e){if(I=[],k=Nn(),k!==e)for(;k!==e;)I.push(k),k=Nn();else I=e;I!==e?(de=u,u=j(x,I)):(o=u,u=e)}else o=u,u=e;else o=u,u=e;if(u===e){if(u=o,r.charCodeAt(o)===46?(x=Y,o++):(x=e,_===0&&se(hr)),x!==e){if(v=[],I=Nn(),I!==e)for(;I!==e;)v.push(I),I=Nn();else v=e;v!==e?(de=u,u=K(v)):(o=u,u=e)}else o=u,u=e;if(u===e){if(u=o,x=[],v=Nn(),v!==e)for(;v!==e;)x.push(v),v=Nn();else x=e;x!==e?(r.charCodeAt(o)===46?(v=Y,o++):(v=e,_===0&&se(hr)),v!==e?(de=u,u=ye(x)):(o=u,u=e)):(o=u,u=e)}}return u!==e&&(de=i,u=Ce(u)),i=u,_--,i===e&&(u=e,_===0&&se(Yr)),i}function ra(){var i,u,x,v,I,k,re,X,Re,ve;if(_++,i=o,u=hn(),u!==e)if(r.substr(o,5)===te?(x=te,o+=5):(x=e,_===0&&se(w)),x===e&&(r.substr(o,4)===y?(x=y,o+=4):(x=e,_===0&&se(R))),x!==e)if(r.length>o?(v=r.charAt(o),o++):(v=e,_===0&&se(Me)),v!==e){for(I=[],k=o,re=o,_++,X=o,r.length>o?(Re=r.charAt(o),o++):(Re=e,_===0&&se(Me)),Re!==e?(de=o,ve=br(x,v,Re),ve?ve=void 0:ve=e,ve!==e?(Re=[Re,ve],X=Re):(o=X,X=e)):(o=X,X=e),_--,X===e?re=void 0:(o=re,re=e),re!==e?(r.length>o?(X=r.charAt(o),o++):(X=e,_===0&&se(Me)),X!==e?(de=k,k=rn(x,v,X)):(o=k,k=e)):(o=k,k=e);k!==e;)I.push(k),k=o,re=o,_++,X=o,r.length>o?(Re=r.charAt(o),o++):(Re=e,_===0&&se(Me)),Re!==e?(de=o,ve=br(x,v,Re),ve?ve=void 0:ve=e,ve!==e?(Re=[Re,ve],X=Re):(o=X,X=e)):(o=X,X=e),_--,X===e?re=void 0:(o=re,re=e),re!==e?(r.length>o?(X=r.charAt(o),o++):(X=e,_===0&&se(Me)),X!==e?(de=k,k=rn(x,v,X)):(o=k,k=e)):(o=k,k=e);k=o,r.length>o?(re=r.charAt(o),o++):(re=e,_===0&&se(Me)),re!==e?(de=o,X=Ln(x,v,I,re),X?X=void 0:X=e,X!==e?(re=[re,X],k=re):(o=k,k=e)):(o=k,k=e),k!==e?(de=i,i=Bn(x,v,I)):(o=i,i=e)}else o=i,i=e;else o=i,i=e;else o=i,i=e;if(i===e&&(i=tl(),i===e&&(i=il(),i===e&&(i=al(),i===e&&(i=sl(),i===e))))){if(i=o,u=fl(),u!==e){for(x=[],v=o,I=o,_++,k=Ht(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(k=pn(),k!==e?(de=v,v=Fi(k)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,I=o,_++,k=Ht(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(k=pn(),k!==e?(de=v,v=Fi(k)):(o=v,v=e)):(o=v,v=e);v=Ht(),v!==e?(de=i,i=vo(x)):(o=i,i=e)}else o=i,i=e;if(i===e){if(i=o,u=ul(),u!==e){for(x=[],v=o,I=o,_++,k=Ut(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(k=pn(),k!==e?(de=v,v=Ri(k)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,I=o,_++,k=Ut(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(k=pn(),k!==e?(de=v,v=Ri(k)):(o=v,v=e)):(o=v,v=e);v=Ut(),v!==e?(de=i,i=yo(x)):(o=i,i=e)}else o=i,i=e;if(i===e){if(i=o,u=fn(),u!==e)if(x=fn(),x!==e){for(v=[],I=o,k=o,_++,re=o,X=fn(),X!==e?(Re=fn(),Re!==e?(X=[X,Re],re=X):(o=re,re=e)):(o=re,re=e),_--,re===e?k=void 0:(o=k,k=e),k!==e?(re=pn(),re!==e?(de=I,I=Oi(re)):(o=I,I=e)):(o=I,I=e);I!==e;)v.push(I),I=o,k=o,_++,re=o,X=fn(),X!==e?(Re=fn(),Re!==e?(X=[X,Re],re=X):(o=re,re=e)):(o=re,re=e),_--,re===e?k=void 0:(o=k,k=e),k!==e?(re=pn(),re!==e?(de=I,I=Oi(re)):(o=I,I=e)):(o=I,I=e);I=fn(),I!==e?(k=fn(),k!==e?(de=i,i=bo(v)):(o=i,i=e)):(o=i,i=e)}else o=i,i=e;else o=i,i=e;i===e&&(i=ll(),i===e&&(i=ol()))}}}return _--,i===e&&(u=e,_===0&&se(M)),i}function zt(){var i,u,x,v,I,k,re,X;if(i=o,r.charCodeAt(o)===91?(u=d,o++):(u=e,_===0&&se(U)),u!==e){for(x=[],v=o,I=o,_++,k=o,re=Cn(),re!==e?(de=o,X=Di(re),X?X=void 0:X=e,X!==e?(re=[re,X],k=re):(o=k,k=e)):(o=k,k=e),_--,k===e?I=void 0:(o=I,I=e),I!==e?(k=Cn(),k!==e?(de=v,v=Ti(k)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,I=o,_++,k=o,re=Cn(),re!==e?(de=o,X=Di(re),X?X=void 0:X=e,X!==e?(re=[re,X],k=re):(o=k,k=e)):(o=k,k=e),_--,k===e?I=void 0:(o=I,I=e),I!==e?(k=Cn(),k!==e?(de=v,v=Ti(k)):(o=v,v=e)):(o=v,v=e);r.charCodeAt(o)===93?(v=z,o++):(v=e,_===0&&se(J)),v!==e?(de=i,i=$o(x)):(o=i,i=e)}else o=i,i=e;return i}function na(){var i,u,x,v,I,k;if(i=o,u=En(),u!==e){for(x=[],v=o,I=o,_++,k=ln(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(r.length>o?(k=r.charAt(o),o++):(k=e,_===0&&se(Me)),k!==e?(de=v,v=Li(k)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,I=o,_++,k=ln(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(r.length>o?(k=r.charAt(o),o++):(k=e,_===0&&se(Me)),k!==e?(de=v,v=Li(k)):(o=v,v=e)):(o=v,v=e);v=ln(),v!==e?(de=i,i=Ao(x)):(o=i,i=e)}else o=i,i=e;return i}function ta(){var i,u,x,v,I,k,re,X;if(i=o,Q.test(r.charAt(o))?(u=r.charAt(o),o++):(u=e,_===0&&se(Ie)),u!==e){for(x=[],v=o,I=o,_++,k=o,r.length>o?(re=r.charAt(o),o++):(re=e,_===0&&se(Me)),re!==e?(de=o,X=Bi(u,re),X?X=void 0:X=e,X!==e?(re=[re,X],k=re):(o=k,k=e)):(o=k,k=e),_--,k===e?I=void 0:(o=I,I=e),I!==e?(r.length>o?(k=r.charAt(o),o++):(k=e,_===0&&se(Me)),k!==e?(de=v,v=Ni(u,k)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,I=o,_++,k=o,r.length>o?(re=r.charAt(o),o++):(re=e,_===0&&se(Me)),re!==e?(de=o,X=Bi(u,re),X?X=void 0:X=e,X!==e?(re=[re,X],k=re):(o=k,k=e)):(o=k,k=e),_--,k===e?I=void 0:(o=I,I=e),I!==e?(r.length>o?(k=r.charAt(o),o++):(k=e,_===0&&se(Me)),k!==e?(de=v,v=Ni(u,k)):(o=v,v=e)):(o=v,v=e);v=o,r.length>o?(I=r.charAt(o),o++):(I=e,_===0&&se(Me)),I!==e?(de=o,k=xo(u,x,I),k?k=void 0:k=e,k!==e?(I=[I,k],v=I):(o=v,v=e)):(o=v,v=e),v!==e?(de=i,i=wo(u,x)):(o=i,i=e)}else o=i,i=e;return i}function tl(){var i,u,x,v,I;return _++,i=o,u=hn(),u!==e?(r.substr(o,9)===$e?(x=$e,o+=9):(x=e,_===0&&se(qe)),x!==e?(v=zt(),v===e&&(v=null),I=na(),I===e&&(I=ta()),I!==e?(de=i,i=ko(x,v,I)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e),_--,i===e&&(u=e,_===0&&se(ze)),i}function il(){var i,u,x,v,I,k;return _++,i=o,u=hn(),u!==e?(r.substr(o,10)===fr?(x=fr,o+=10):(x=e,_===0&&se(Ke)),x===e&&(r.substr(o,4)===xr?(x=xr,o+=4):(x=e,_===0&&se(rr))),x!==e?(v=zt(),v===e&&(v=null),I=xn(),I!==e?(k=na(),k===e&&(k=ta()),k!==e?(de=i,i=Co(x,v,I,k)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e),_--,i===e&&(u=e,_===0&&se(Ve)),i}function al(){var i,u,x,v,I,k,re,X,Re,ve,Be,Xe,gr,qn,dn;if(_++,i=o,u=$t(),u!==e)if(x=En(),x!==e)if(r.substr(o,6)===_e?(v=_e,o+=6):(v=e,_===0&&se(lr)),v!==e)if(I=ln(),I!==e)if(k=zt(),k===e&&(k=null),re=xn(),re!==e){for(X=o,Re=[],ve=o,Be=o,_++,Xe=o,gr=mn(),gr!==e?(qn=xn(),qn!==e?(de=o,dn=qi(v,k,re,qn),dn?dn=void 0:dn=e,dn!==e?(gr=[gr,qn,dn],Xe=gr):(o=Xe,Xe=e)):(o=Xe,Xe=e)):(o=Xe,Xe=e),_--,Xe===e?Be=void 0:(o=Be,Be=e),Be!==e?(r.length>o?(Xe=r.charAt(o),o++):(Xe=e,_===0&&se(Me)),Xe!==e?(Be=[Be,Xe],ve=Be):(o=ve,ve=e)):(o=ve,ve=e);ve!==e;)Re.push(ve),ve=o,Be=o,_++,Xe=o,gr=mn(),gr!==e?(qn=xn(),qn!==e?(de=o,dn=qi(v,k,re,qn),dn?dn=void 0:dn=e,dn!==e?(gr=[gr,qn,dn],Xe=gr):(o=Xe,Xe=e)):(o=Xe,Xe=e)):(o=Xe,Xe=e),_--,Xe===e?Be=void 0:(o=Be,Be=e),Be!==e?(r.length>o?(Xe=r.charAt(o),o++):(Xe=e,_===0&&se(Me)),Xe!==e?(Be=[Be,Xe],ve=Be):(o=ve,ve=e)):(o=ve,ve=e);X=r.substring(X,o),Re=mn(),Re!==e?(ve=En(),ve!==e?(r.substr(o,6)===_e?(Be=_e,o+=6):(Be=e,_===0&&se(lr)),Be!==e?(Xe=ln(),Xe!==e?(de=i,i=Eo(v,k,re,X)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e)}else o=i,i=e;else o=i,i=e;else o=i,i=e;else o=i,i=e;else o=i,i=e;return _--,i===e&&(u=e,_===0&&se(je)),i}function sl(){var i,u,x,v,I,k,re,X,Re,ve,Be,Xe,gr;if(_++,i=o,u=$t(),u!==e)if(x=En(),x!==e)if(v=ia(),v!==e)if(I=ln(),I!==e){for(k=o,re=[],X=o,Re=o,_++,ve=o,Be=mn(),Be!==e?(Xe=xn(),Xe!==e?(de=o,gr=Wi(v,Xe),gr?gr=void 0:gr=e,gr!==e?(Be=[Be,Xe,gr],ve=Be):(o=ve,ve=e)):(o=ve,ve=e)):(o=ve,ve=e),_--,ve===e?Re=void 0:(o=Re,Re=e),Re!==e?(r.length>o?(ve=r.charAt(o),o++):(ve=e,_===0&&se(Me)),ve!==e?(de=X,X=ji(v,ve)):(o=X,X=e)):(o=X,X=e);X!==e;)re.push(X),X=o,Re=o,_++,ve=o,Be=mn(),Be!==e?(Xe=xn(),Xe!==e?(de=o,gr=Wi(v,Xe),gr?gr=void 0:gr=e,gr!==e?(Be=[Be,Xe,gr],ve=Be):(o=ve,ve=e)):(o=ve,ve=e)):(o=ve,ve=e),_--,ve===e?Re=void 0:(o=Re,Re=e),Re!==e?(r.length>o?(ve=r.charAt(o),o++):(ve=e,_===0&&se(Me)),ve!==e?(de=X,X=ji(v,ve)):(o=X,X=e)):(o=X,X=e);k=r.substring(k,o),re=mn(),re!==e?(X=En(),X!==e?(Re=ia(),Re!==e?(ve=ln(),ve!==e?(de=i,i=Mo(v,k)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e)}else o=i,i=e;else o=i,i=e;else o=i,i=e;else o=i,i=e;return _--,i===e&&(u=e,_===0&&se(D)),i}function ia(){var i;return r.substr(o,9)===vr?(i=vr,o+=9):(i=e,_===0&&se(Z)),i===e&&(r.substr(o,8)===ur?(i=ur,o+=8):(i=e,_===0&&se(xe)),i===e&&(r.substr(o,13)===yr?(i=yr,o+=13):(i=e,_===0&&se(Te)),i===e&&(r.substr(o,12)===Je?(i=Je,o+=12):(i=e,_===0&&se(ge)),i===e&&(r.substr(o,7)===kr?(i=kr,o+=7):(i=e,_===0&&se(cr)),i===e&&(r.substr(o,10)===Rr?(i=Rr,o+=10):(i=e,_===0&&se(We))))))),i}function aa(){var i,u,x,v,I;if(_++,i=o,u=o,x=hn(),x!==e){if(v=[],I=oa(),I!==e)for(;I!==e;)v.push(I),I=oa();else v=e;v!==e?(de=u,u=_o(v)):(o=u,u=e)}else o=u,u=e;return u===e&&(u=o,x=hn(),x!==e?(r.length>o?(v=r.charAt(o),o++):(v=e,_===0&&se(Me)),v!==e?(de=u,u=Io(v)):(o=u,u=e)):(o=u,u=e)),u!==e&&(de=i,u=Po(u)),i=u,_--,i===e&&(u=e,_===0&&se($)),i}function xn(){var i,u,x,v,I,k;if(_++,i=o,u=En(),u!==e){for(x=[],v=o,I=o,_++,k=ln(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(k=Cn(),k!==e?(de=v,v=Gi(k)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,I=o,_++,k=ln(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(k=Cn(),k!==e?(de=v,v=Gi(k)):(o=v,v=e)):(o=v,v=e);v=ln(),v!==e?(de=i,i=So(x)):(o=i,i=e)}else o=i,i=e;return _--,i===e&&(u=e,_===0&&se(W)),i}function bt(){var i,u;return i=o,u=xn(),u!==e&&(de=i,u=Fo()),i=u,i}function ol(){var i,u,x,v,I,k,re,X,Re,ve,Be;if(_++,i=o,u=$t(),u!==e)if(x=bt(),x!==e){for(v=Yt(),v===e&&(v=null),I=[],k=o,re=o,_++,X=o,Re=mn(),Re!==e?(ve=bt(),ve!==e?(de=o,Be=zi(x,v,ve),Be?Be=void 0:Be=e,Be!==e?(Re=[Re,ve,Be],X=Re):(o=X,X=e)):(o=X,X=e)):(o=X,X=e),_--,X===e?re=void 0:(o=re,re=e),re!==e?(X=Cn(),X!==e?(de=k,k=Hi(x,v,X)):(o=k,k=e)):(o=k,k=e);k!==e;)I.push(k),k=o,re=o,_++,X=o,Re=mn(),Re!==e?(ve=bt(),ve!==e?(de=o,Be=zi(x,v,ve),Be?Be=void 0:Be=e,Be!==e?(Re=[Re,ve,Be],X=Re):(o=X,X=e)):(o=X,X=e)):(o=X,X=e),_--,X===e?re=void 0:(o=re,re=e),re!==e?(X=Cn(),X!==e?(de=k,k=Hi(x,v,X)):(o=k,k=e)):(o=k,k=e);k=mn(),k!==e?(re=bt(),re!==e?(de=i,i=Ro(x,v,I)):(o=i,i=e)):(o=i,i=e)}else o=i,i=e;else o=i,i=e;return _--,i===e&&(u=e,_===0&&se(q)),i}function ll(){var i,u,x,v,I,k,re,X,Re,ve,Be,Xe,gr;if(_++,i=o,u=$t(),u!==e)if(x=En(),x!==e)if(v=sa(),v!==e)if(I=ln(),I!==e){for(k=Yt(),k===e&&(k=null),re=[],X=o,Re=o,_++,ve=o,Be=mn(),Be!==e?(Xe=xn(),Xe!==e?(de=o,gr=Ui(v,k,Xe),gr?gr=void 0:gr=e,gr!==e?(Be=[Be,Xe,gr],ve=Be):(o=ve,ve=e)):(o=ve,ve=e)):(o=ve,ve=e),_--,ve===e?Re=void 0:(o=Re,Re=e),Re!==e?(ve=pn(),ve!==e?(de=X,X=Xi(v,k,ve)):(o=X,X=e)):(o=X,X=e);X!==e;)re.push(X),X=o,Re=o,_++,ve=o,Be=mn(),Be!==e?(Xe=xn(),Xe!==e?(de=o,gr=Ui(v,k,Xe),gr?gr=void 0:gr=e,gr!==e?(Be=[Be,Xe,gr],ve=Be):(o=ve,ve=e)):(o=ve,ve=e)):(o=ve,ve=e),_--,ve===e?Re=void 0:(o=Re,Re=e),Re!==e?(ve=pn(),ve!==e?(de=X,X=Xi(v,k,ve)):(o=X,X=e)):(o=X,X=e);X=mn(),X!==e?(Re=En(),Re!==e?(ve=sa(),ve!==e?(Be=ln(),Be!==e?(de=i,i=Oo(v,k,re)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e)}else o=i,i=e;else o=i,i=e;else o=i,i=e;else o=i,i=e;return _--,i===e&&(u=e,_===0&&se(Se)),i}function fl(){var i,u,x;return i=o,u=hn(),u!==e?(r.charCodeAt(o)===91?(x=d,o++):(x=e,_===0&&se(U)),x!==e?(u=[u,x],i=u):(o=i,i=e)):(o=i,i=e),i}function Ht(){var i,u,x;return i=o,u=hn(),u!==e?(r.charCodeAt(o)===93?(x=z,o++):(x=e,_===0&&se(J)),x!==e?(u=[u,x],i=u):(o=i,i=e)):(o=i,i=e),i}function ul(){var i,u,x;return i=o,u=hn(),u!==e?(r.charCodeAt(o)===40?(x=Cr,o++):(x=e,_===0&&se(Ne)),x!==e?(u=[u,x],i=u):(o=i,i=e)):(o=i,i=e),i}function Ut(){var i,u,x;return i=o,u=hn(),u!==e?(r.charCodeAt(o)===41?(x=Pr,o++):(x=e,_===0&&se(Ae)),x!==e?(u=[u,x],i=u):(o=i,i=e)):(o=i,i=e),i}function $t(){var i,u,x;return i=o,u=hn(),u!==e?(r.substr(o,5)===Ar?(x=Ar,o+=5):(x=e,_===0&&se(_r)),x!==e?(u=[u,x],i=u):(o=i,i=e)):(o=i,i=e),i}function mn(){var i,u,x;return i=o,u=hn(),u!==e?(r.substr(o,3)===fe?(x=fe,o+=3):(x=e,_===0&&se(A)),x!==e?(u=[u,x],i=u):(o=i,i=e)):(o=i,i=e),i}function sa(){var i,u;return i=o,r.substr(o,9)===wr?(u=wr,o+=9):(u=e,_===0&&se(f)),u===e&&(r.substr(o,8)===Ze?(u=Ze,o+=8):(u=e,_===0&&se(B)),u===e&&(r.substr(o,6)===he?(u=he,o+=6):(u=e,_===0&&se(Oe)),u===e&&(r.substr(o,5)===Qe?(u=Qe,o+=5):(u=e,_===0&&se(ar)),u===e&&(r.substr(o,8)===pr?(u=pr,o+=8):(u=e,_===0&&se(ee)),u===e&&(r.substr(o,7)===Sr?(u=Sr,o+=7):(u=e,_===0&&se(en)),u===e&&(r.substr(o,7)===tr?(u=tr,o+=7):(u=e,_===0&&se(Xr)),u===e&&(r.substr(o,6)===ue?(u=ue,o+=6):(u=e,_===0&&se(bn)),u===e&&(r.substr(o,9)===we?(u=we,o+=9):(u=e,_===0&&se(Sn)),u===e&&(r.substr(o,8)===L?(u=L,o+=8):(u=e,_===0&&se(jn)),u===e&&(r.substr(o,8)===Er?(u=Er,o+=8):(u=e,_===0&&se(Ir)),u===e&&(r.substr(o,7)===dr?(u=dr,o+=7):(u=e,_===0&&se(Fn)),u===e&&(r.substr(o,5)===ir?(u=ir,o+=5):(u=e,_===0&&se($n)),u===e&&(r.substr(o,4)===Ue?(u=Ue,o+=4):(u=e,_===0&&se(ke)),u===e&&(r.substr(o,11)===Or?(u=Or,o+=11):(u=e,_===0&&se(An)))))))))))))))),u!==e&&(de=i,u=Do(u)),i=u,i}function hn(){var i,u;return _++,i=o,r.charCodeAt(o)===92?(u=Wr,o++):(u=e,_===0&&se(on)),u!==e&&(de=i,u=To()),i=u,_--,i===e&&(u=e,_===0&&se(wn)),i}function En(){var i,u;return i=o,r.charCodeAt(o)===123?(u=Hr,o++):(u=e,_===0&&se(tn)),u!==e&&(de=i,u=Lo(u)),i=u,i}function ln(){var i,u;return i=o,r.charCodeAt(o)===125?(u=Br,o++):(u=e,_===0&&se(g)),u!==e&&(de=i,u=Bo(u)),i=u,i}function fn(){var i,u;return i=o,r.charCodeAt(o)===36?(u=jr,o++):(u=e,_===0&&se(P)),u!==e&&(de=i,u=No(u)),i=u,i}function Xt(){var i,u;return i=o,r.charCodeAt(o)===38?(u=mr,o++):(u=e,_===0&&se(F)),u!==e&&(de=i,u=qo(u)),i=u,i}function Qr(){var i,u,x;return _++,i=o,u=o,_++,r.charCodeAt(o)===13?(x=Ur,o++):(x=e,_===0&&se(le)),_--,x===e?u=void 0:(o=u,u=e),u!==e?(r.charCodeAt(o)===10?(x=Nr,o++):(x=e,_===0&&se(me)),x!==e?(u=[u,x],i=u):(o=i,i=e)):(o=i,i=e),i===e&&(r.charCodeAt(o)===13?(i=Ur,o++):(i=e,_===0&&se(le)),i===e&&(r.substr(o,2)===H?(i=H,o+=2):(i=e,_===0&&se(b)))),_--,i===e&&(u=e,_===0&&se(pe)),i}function Vt(){var i,u;return i=o,r.charCodeAt(o)===35?(u=ie,o++):(u=e,_===0&&se(T)),u!==e&&(de=i,u=Wo(u)),i=u,i}function cl(){var i,u;return i=o,r.charCodeAt(o)===94?(u=oe,o++):(u=e,_===0&&se(ne)),u!==e&&(de=i,u=jo(u)),i=u,i}function gl(){var i,u;return i=o,r.charCodeAt(o)===95?(u=Le,o++):(u=e,_===0&&se(ce)),u!==e&&(de=i,u=Go(u)),i=u,i}function Kt(){var i;return r.charCodeAt(o)===0?(i=er,o++):(i=e,_===0&&se(Pe)),i}function $r(){var i,u,x;if(_++,i=o,u=[],Dr.test(r.charAt(o))?(x=r.charAt(o),o++):(x=e,_===0&&se(nr)),x!==e)for(;x!==e;)u.push(x),Dr.test(r.charAt(o))?(x=r.charAt(o),o++):(x=e,_===0&&se(nr));else u=e;return u!==e&&(de=i,u=zo()),i=u,_--,i===e&&(u=e,_===0&&se(or)),i}function oa(){var i;return _++,Mr.test(r.charAt(o))?(i=r.charAt(o),o++):(i=e,_===0&&se(Vr)),_--,i===e&&_===0&&se(Fr),i}function Nn(){var i;return _++,G.test(r.charAt(o))?(i=r.charAt(o),o++):(i=e,_===0&&se(Lt)),_--,i===e&&_===0&&se(gt),i}function la(){var i,u;return _++,i=o,N.test(r.charAt(o))?(u=r.charAt(o),o++):(u=e,_===0&&se(Rn)),u!==e&&(de=i,u=Ho(u)),i=u,_--,i===e&&(u=e,_===0&&se(Bt)),i}function nt(){var i;return r.charCodeAt(o)===37?(i=S,o++):(i=e,_===0&&se(Gr)),i}function fa(){var i;return _++,i=pl(),i===e&&(i=Yt()),_--,i===e&&_===0&&se(Nt),i}function pl(){var i,u,x,v;for(i=o,u=o,x=[],v=$r();v!==e;)x.push(v),v=$r();return v=Qr(),v!==e?(x=[x,v],u=x):(o=u,u=e),u===e&&(u=null),x=ml(),x!==e?(v=ua(),v!==e?(de=i,i=Uo(x,v)):(o=i,i=e)):(o=i,i=e),i}function Yt(){var i,u,x;for(i=o,u=[],x=$r();x!==e;)u.push(x),x=$r();return x=ua(),x!==e?(de=i,i=Xo(u,x)):(o=i,i=e),i}function ua(){var i,u,x,v,I,k,re,X;if(_++,i=o,u=nt(),u!==e){for(x=[],v=o,I=o,_++,k=Qr(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(r.length>o?(k=r.charAt(o),o++):(k=e,_===0&&se(Me)),k!==e?(de=v,v=Vi(k)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,I=o,_++,k=Qr(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(r.length>o?(k=r.charAt(o),o++):(k=e,_===0&&se(Me)),k!==e?(de=v,v=Vi(k)):(o=v,v=e)):(o=v,v=e);v=o,_++,I=Qi(),_--,I!==e?(o=v,v=void 0):v=e,v!==e?(de=i,i=Vo(x)):(o=i,i=e)}else o=i,i=e;if(i===e)if(i=o,u=nt(),u!==e){for(x=[],v=o,I=o,_++,k=Qr(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(r.length>o?(k=r.charAt(o),o++):(k=e,_===0&&se(Me)),k!==e?(de=v,v=Ki(k)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,I=o,_++,k=Qr(),_--,k===e?I=void 0:(o=I,I=e),I!==e?(r.length>o?(k=r.charAt(o),o++):(k=e,_===0&&se(Me)),k!==e?(de=v,v=Ki(k)):(o=v,v=e)):(o=v,v=e);if(v=o,I=Qr(),I!==e){for(k=[],re=$r();re!==e;)k.push(re),re=$r();re=o,_++,X=nt(),_--,X===e?re=void 0:(o=re,re=e),re!==e?(I=[I,k,re],v=I):(o=v,v=e)}else o=v,v=e;v===e&&(v=Qr(),v===e&&(v=ca())),v!==e?(de=i,i=Ko(x)):(o=i,i=e)}else o=i,i=e;return _--,i===e&&(u=e,_===0&&se(qt)),i}function ml(){var i,u,x,v,I;if(i=o,u=o,x=hl(),x!==e){for(v=[],I=$r();I!==e;)v.push(I),I=$r();x=[x,v],u=x}else o=u,u=e;return u!==e?i=r.substring(i,o):i=u,i}function hl(){var i;return de=o,i=Yo(),i?i=void 0:i=e,i}function ca(){var i,u;return i=o,_++,r.length>o?(u=r.charAt(o),o++):(u=e,_===0&&se(Me)),_--,u===e?i=void 0:(o=i,i=e),i}function ga(i){return typeof i=="string"?i:typeof i.content=="string"?i.content:i&&i.type==="whitespace"?" ":i}function At(i,u){let x=typeof i=="string"?i:i.content.map(ga).join(""),v=typeof u=="string"?u:u.content.map(ga).join("");return x===v}function Ye(i,u={}){return{type:i,...u,position:Yi()}}if(yt=E(),yt!==e&&o===r.length)return yt;throw yt!==e&&o<r.length&&se(Qo()),el(jt,kn<r.length?r.charAt(kn):null,kn<r.length?Gt(kn,kn+1):Gt(kn,kn))}return{SyntaxError:t,parse:l}}(),gc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,E=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,S=this.location.source+":"+E.line+":"+E.column;if(e){var Y=this.location.end,te=s("",E.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+S+`
`+te+` |
`+E.line+" | "+y+`
`+te+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+S}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?E(z[0])+"-"+E(z[1]):E(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function E(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function S(y){return e[y.type](y)}function Y(y){var d=y.map(S),z,$e;if(d.sort(),d.length>0){for(z=1,$e=1;z<d.length;z++)d[z-1]!==d[z]&&(d[$e]=d[z],$e++);d.length=$e}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function te(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+te(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={body:Or},E=Or,S=we(),Y=function(){return[]},te=function(G){return{cells:[],colSeps:[],...G}},y=function(G,N,O){return{...G,rowSep:N,trailingComment:O}},d=function(G,N){return{...G,rowSep:null,trailingComment:N}},z=function(G){return G},$e=function(G){return{cells:[],colSeps:[],rowSep:null,trailingComment:G}},fr=function(G){return G},xr=function(G,N){return{colSep:G,cell:N}},_e=function(G){return{colSep:G}},vr=function(G,N){return Mr(G,N)},ur=function(G){return Mr(null,G)},yr=function(G){return a.isSameLineComment(G)},Je=function(G){return G},kr=function(G){return a.isOwnLineComment(G)},Rr=function(G){return G},Cr=function(G){return a.isWhitespace(G)},Pr=function(G){return G},Ar=function(G){return a.isRowSep(G)},fe=function(G){return G},wr=function(G){return a.isColSep(G)},Ze=function(G){return G},he=0,Qe=[{line:1,column:1}],pr=0,Sr=[],tr=0,ue;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');E=h[a.startRule]}function we(){return{type:"any"}}function L(){return{type:"end"}}function Er(G){var N=Qe[G],O;if(N)return N;for(O=G-1;!Qe[O];)O--;for(N=Qe[O],N={line:N.line,column:N.column};O<G;)r.charCodeAt(O)===10?(N.line++,N.column=1):N.column++,O++;return Qe[G]=N,N}function dr(G,N,O){var sr=Er(G),V=Er(N),Me={source:p,start:{offset:G,line:sr.line,column:sr.column},end:{offset:N,line:V.line,column:V.column}};return O&&p&&typeof p.offset=="function"&&(Me.start=p.offset(Me.start),Me.end=p.offset(Me.end)),Me}function ir(G){he<pr||(he>pr&&(pr=he,Sr=[]),Sr.push(G))}function Ue(G,N,O){return new t(t.buildMessage(G,N),G,N,O)}function Or(){var G,N;if(G=[],N=jr(),N===e&&(N=Wr(),N===e&&(N=Hr())),N!==e)for(;N!==e;)G.push(N),N=jr(),N===e&&(N=Wr(),N===e&&(N=Hr()));else G=e;return G===e&&(G=he,N=Dr(),N!==e&&(N=Y()),G=N),G}function Wr(){var G,N,O,sr;return G=he,N=he,O=H(),O===e&&(O=null),O=te(O),N=O,O=er(),O!==e?(sr=Br(),sr===e&&(sr=null),G=y(N,O,sr)):(he=G,G=e),G}function Hr(){var G,N,O;return G=he,N=H(),N!==e?(O=Br(),O===e&&(O=null),G=d(N,O)):(he=G,G=e),G}function Br(){var G,N,O;for(G=he,N=[],O=Le();O!==e;)N.push(O),O=Le();return O=ie(),O!==e?G=z(O):(he=G,G=e),G}function jr(){var G,N,O;for(G=he,N=[],O=Le();O!==e;)N.push(O),O=Le();return O=oe(),O!==e?G=$e(O):(he=G,G=e),G}function mr(){var G,N,O;return G=he,N=he,tr++,O=er(),O===e&&(O=Q(),O===e&&(O=Br(),O===e&&(O=oe()))),tr--,O===e?N=void 0:(he=N,N=e),N!==e?(r.length>he?(O=r.charAt(he),he++):(O=e,tr===0&&ir(S)),O!==e?G=fr(O):(he=G,G=e)):(he=G,G=e),G}function Ur(){var G,N,O;if(G=he,N=[],O=mr(),O!==e)for(;O!==e;)N.push(O),O=mr();else N=e;return N!==e?G=r.substring(G,he):G=N,G}function Nr(){var G,N,O;return G=he,N=Q(),N!==e?(O=Ur(),O!==e?G=xr(N,O):(he=G,G=e)):(he=G,G=e),G===e&&(G=he,N=Q(),N!==e&&(N=_e(N)),G=N),G}function H(){var G,N,O,sr;if(G=he,N=Ur(),N!==e){for(O=[],sr=Nr();sr!==e;)O.push(sr),sr=Nr();G=vr(N,O)}else he=G,G=e;if(G===e){if(G=he,N=[],O=Nr(),O!==e)for(;O!==e;)N.push(O),O=Nr();else N=e;N!==e&&(N=ur(N)),G=N}return G}function ie(){var G,N,O;return G=he,r.length>he?(N=r.charAt(he),he++):(N=e,tr===0&&ir(S)),N!==e?(O=yr(N),O?O=void 0:O=e,O!==e?G=Je(N):(he=G,G=e)):(he=G,G=e),G}function oe(){var G,N,O;return G=he,r.length>he?(N=r.charAt(he),he++):(N=e,tr===0&&ir(S)),N!==e?(O=kr(N),O?O=void 0:O=e,O!==e?G=Rr(N):(he=G,G=e)):(he=G,G=e),G}function Le(){var G,N,O;return G=he,r.length>he?(N=r.charAt(he),he++):(N=e,tr===0&&ir(S)),N!==e?(O=Cr(N),O?O=void 0:O=e,O!==e?G=Pr(N):(he=G,G=e)):(he=G,G=e),G}function er(){var G,N,O;return G=he,r.length>he?(N=r.charAt(he),he++):(N=e,tr===0&&ir(S)),N!==e?(O=Ar(N),O?O=void 0:O=e,O!==e?G=fe(N):(he=G,G=e)):(he=G,G=e),G}function Q(){var G,N,O;return G=he,r.length>he?(N=r.charAt(he),he++):(N=e,tr===0&&ir(S)),N!==e?(O=wr(N),O?O=void 0:O=e,O!==e?G=Ze(N):(he=G,G=e)):(he=G,G=e),G}function Dr(){var G,N;return G=he,tr++,r.length>he?(N=r.charAt(he),he++):(N=e,tr===0&&ir(S)),tr--,N===e?G=void 0:(he=G,G=e),G}function Mr(G,N){let O=[G||[]],sr=[];for(let V of N)O.push(V.cell||[]),sr.push(V.colSep);return{cells:O,colSeps:sr}}if(!a.isWhitespace)try{Object.assign(a,createMatchers(["\\","hline","cr"],["&"]))}catch(G){console.warn("Error when initializing parser",G)}if(ue=E(),ue!==e&&he===r.length)return ue;throw ue!==e&&he<r.length&&ir(L()),Ue(Sr,pr<r.length?r.charAt(pr):null,pr<r.length?dr(pr,pr+1):dr(pr,pr))}return{SyntaxError:t,parse:l}}(),_l=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,E=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,S=this.location.source+":"+E.line+":"+E.column;if(e){var Y=this.location.end,te=s("",E.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+S+`
`+te+` |
`+E.line+" | "+y+`
`+te+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+S}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?E(z[0])+"-"+E(z[1]):E(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function E(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function S(y){return e[y.type](y)}function Y(y){var d=y.map(S),z,$e;if(d.sort(),d.length>0){for(z=1,$e=1;z<d.length;z++)d[z-1]!==d[z]&&(d[$e]=d[z],$e++);d.length=$e}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function te(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+te(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={args_spec_list:A},E=A,S="v",Y="b",te="!",y="D",d="d",z="s",$e="O",fr="o",xr="e",_e="E",vr="t",ur="R",yr="r",Je="u",kr="m",Rr="{",Cr="}",Pr=" ",Ar=`
`,fe="\r",wr="\\",Ze=/^[{ ]/,he=/^[a-zA-Z]/,Qe=/^[{}]/,pr=We("+",!1),Sr=We("v",!1),tr=W(),ue=We("b",!1),we=We("!",!1),L=We("D",!1),Er=We("d",!1),dr=We("s",!1),ir=We("O",!1),Ue=We("o",!1),Or=We("e",!1),Wr=We("E",!1),Hr=We("t",!1),Br=We("R",!1),jr=We("r",!1),mr=We("u",!1),Ur=$(["{"," "],!1,!1),Nr=We("m",!1),H=We("{",!1),ie=We("}",!1),oe=We(" ",!1),Le=We(`
`,!1),er=We("\r",!1),Q=We("\\",!1),Dr=$([["a","z"],["A","Z"]],!1,!1),Mr=$(["{","}"],!1,!1),G=function(b){return b},N=function(b){return b},O=function(b){return b},sr=function(b){return le("verbatim",{openBrace:b,closeBrace:b})},V=function(){return le("body")},Me=function(b,T){return b?{...T,noLeadingWhitespace:!0}:T},Ge=function(b,T){return le("optional",{...b,defaultArg:T})},Fe=function(b){return le("optional",b)},ae=function(){return le("optionalStar")},Gr=function(b){return le("optional",{defaultArg:b})},or=function(){return le("optional")},Yr=function(b){return le("embellishment",{embellishmentTokens:b})},hr=function(b,T){return le("embellishment",{embellishmentTokens:b,defaultArg:T})},M=function(b){return le("optionalToken",{token:b})},w=function(b,T){return le("mandatory",{...b,defaultArg:T})},R=function(b){return le("mandatory",b)},U=function(b){return le("until",{stopTokens:b})},J=function(b){return[b]},Ie=function(b){return b.content},ze=function(){return le("mandatory")},qe=function(b,T){return{openBrace:b,closeBrace:T}},Ve=function(b){return b.content.map(me).join("")},Ke=function(b){return[b]},rr=function(b){return b.filter(T=>!T.match(/^\s*$/))},je=function(b){return{type:"group",content:b}},lr=function(){return""},D=0,Z=[{line:1,column:1}],xe=0,Te=[],ge=0,cr;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');E=h[a.startRule]}function We(b,T){return{type:"literal",text:b,ignoreCase:T}}function $(b,T,ne){return{type:"class",parts:b,inverted:T,ignoreCase:ne}}function W(){return{type:"any"}}function q(){return{type:"end"}}function Se(b){var T=Z[b],ne;if(T)return T;for(ne=b-1;!Z[ne];)ne--;for(T=Z[ne],T={line:T.line,column:T.column};ne<b;)r.charCodeAt(ne)===10?(T.line++,T.column=1):T.column++,ne++;return Z[b]=T,T}function Ne(b,T,ne){var ce=Se(b),Pe=Se(T),nr={source:p,start:{offset:b,line:ce.line,column:ce.column},end:{offset:T,line:Pe.line,column:Pe.column}};return ne&&p&&typeof p.offset=="function"&&(nr.start=p.offset(nr.start),nr.end=p.offset(nr.end)),nr}function Ae(b){D<xe||(D>xe&&(xe=D,Te=[]),Te.push(b))}function _r(b,T,ne){return new t(t.buildMessage(b,T),b,T,ne)}function A(){var b,T,ne,ce;for(b=D,T=[],ne=D,tn(),ce=f(),ce!==e?ne=G(ce):(D=ne,ne=e);ne!==e;)T.push(ne),ne=D,tn(),ce=f(),ce!==e?ne=G(ce):(D=ne,ne=e);return ne=tn(),b=N(T),b}function f(){var b,T;return b=D,r.charCodeAt(D)===43?D++:ge===0&&Ae(pr),T=ar(),T===e&&(T=$n(),T===e&&(T=B(),T===e&&(T=jn(),T===e&&(T=Oe(),T===e&&(T=Ir()))))),T!==e?b=O(T):(D=b,b=e),b}function B(){var b,T,ne;return b=D,r.charCodeAt(D)===118?(T=S,D++):(T=e,ge===0&&Ae(Sr)),T!==e?(r.length>D?(ne=r.charAt(D),D++):(ne=e,ge===0&&Ae(tr)),ne!==e?b=sr(ne):(D=b,b=e)):(D=b,b=e),b}function Oe(){var b,T;return b=D,r.charCodeAt(D)===98?(T=Y,D++):(T=e,ge===0&&Ae(ue)),T!==e&&(T=V()),b=T,b}function ar(){var b,T,ne;return b=D,r.charCodeAt(D)===33?(T=te,D++):(T=e,ge===0&&Ae(we)),T===e&&(T=null),ne=en(),ne===e&&(ne=Xr(),ne===e&&(ne=ee(),ne===e&&(ne=bn(),ne===e&&(ne=Sn())))),ne!==e?b=Me(T,ne):(D=b,b=e),b}function ee(){var b,T,ne,ce;return b=D,r.charCodeAt(D)===68?(T=y,D++):(T=e,ge===0&&Ae(L)),T!==e?(ne=ke(),ce=An(),ce!==e?b=Ge(ne,ce):(D=b,b=e)):(D=b,b=e),b===e&&(b=D,r.charCodeAt(D)===100?(T=d,D++):(T=e,ge===0&&Ae(Er)),T!==e?(ne=ke(),b=Fe(ne)):(D=b,b=e)),b}function en(){var b,T;return b=D,r.charCodeAt(D)===115?(T=z,D++):(T=e,ge===0&&Ae(dr)),T!==e&&(T=ae()),b=T,b}function Xr(){var b,T,ne;return b=D,r.charCodeAt(D)===79?(T=$e,D++):(T=e,ge===0&&Ae(ir)),T!==e?(tn(),ne=An(),ne!==e?b=Gr(ne):(D=b,b=e)):(D=b,b=e),b===e&&(b=D,r.charCodeAt(D)===111?(T=fr,D++):(T=e,ge===0&&Ae(Ue)),T!==e&&(T=or()),b=T),b}function bn(){var b,T,ne,ce;return b=D,r.charCodeAt(D)===101?(T=xr,D++):(T=e,ge===0&&Ae(Or)),T!==e?(tn(),ne=wn(),ne!==e?b=Yr(ne):(D=b,b=e)):(D=b,b=e),b===e&&(b=D,r.charCodeAt(D)===69?(T=_e,D++):(T=e,ge===0&&Ae(Wr)),T!==e?(tn(),ne=wn(),ne!==e?(tn(),ce=wn(),ce!==e?b=hr(ne,ce):(D=b,b=e)):(D=b,b=e)):(D=b,b=e)),b}function Sn(){var b,T,ne;return b=D,r.charCodeAt(D)===116?(T=vr,D++):(T=e,ge===0&&Ae(Hr)),T!==e?(r.length>D?(ne=r.charAt(D),D++):(ne=e,ge===0&&Ae(tr)),ne!==e?b=M(ne):(D=b,b=e)):(D=b,b=e),b}function jn(){var b,T,ne,ce;return b=D,r.charCodeAt(D)===82?(T=ur,D++):(T=e,ge===0&&Ae(Br)),T!==e?(ne=ke(),ce=An(),ce!==e?b=w(ne,ce):(D=b,b=e)):(D=b,b=e),b===e&&(b=D,r.charCodeAt(D)===114?(T=yr,D++):(T=e,ge===0&&Ae(jr)),T!==e?(ne=ke(),b=R(ne)):(D=b,b=e)),b}function Ir(){var b,T,ne;return b=D,r.charCodeAt(D)===117?(T=Je,D++):(T=e,ge===0&&Ae(mr)),T!==e?(ne=Fn(),ne!==e?b=U(ne):(D=b,b=e)):(D=b,b=e),b}function Fn(){var b,T,ne;return b=D,T=D,ge++,Ze.test(r.charAt(D))?(ne=r.charAt(D),D++):(ne=e,ge===0&&Ae(Ur)),ge--,ne===e?T=void 0:(D=T,T=e),T!==e?(r.length>D?(ne=r.charAt(D),D++):(ne=e,ge===0&&Ae(tr)),ne!==e?b=J(ne):(D=b,b=e)):(D=b,b=e),b===e&&(b=D,T=on(),T!==e&&(T=Ie(T)),b=T),b}function $n(){var b,T;return b=D,r.charCodeAt(D)===109?(T=kr,D++):(T=e,ge===0&&Ae(Nr)),T!==e&&(T=ze()),b=T,b}function ke(){var b,T,ne,ce,Pe,nr;return b=D,T=D,ne=D,ce=D,ge++,Pe=g(),ge--,Pe===e?ce=void 0:(D=ce,ce=e),ce!==e?(Pe=P(),Pe===e&&(r.length>D?(Pe=r.charAt(D),D++):(Pe=e,ge===0&&Ae(tr))),Pe!==e?(ce=[ce,Pe],ne=ce):(D=ne,ne=e)):(D=ne,ne=e),ne===e&&(ne=null),T=r.substring(T,D),ne=D,ce=D,Pe=D,ge++,nr=g(),ge--,nr===e?Pe=void 0:(D=Pe,Pe=e),Pe!==e?(nr=P(),nr===e&&(r.length>D?(nr=r.charAt(D),D++):(nr=e,ge===0&&Ae(tr))),nr!==e?(Pe=[Pe,nr],ce=Pe):(D=ce,ce=e)):(D=ce,ce=e),ce===e&&(ce=null),ne=r.substring(ne,D),b=qe(T,ne),b}function An(){var b,T;return b=F(),b===e&&(b=D,T=on(),T!==e&&(T=Ve(T)),b=T),b}function wn(){var b,T,ne,ce;if(b=D,T=F(),T!==e&&(T=Ke(T)),b=T,b===e)if(b=D,r.charCodeAt(D)===123?(T=Rr,D++):(T=e,ge===0&&Ae(H)),T!==e){for(ne=[],ce=An(),ce===e&&(ce=g());ce!==e;)ne.push(ce),ce=An(),ce===e&&(ce=g());r.charCodeAt(D)===125?(ce=Cr,D++):(ce=e,ge===0&&Ae(ie)),ce!==e?b=rr(ne):(D=b,b=e)}else D=b,b=e;return b}function on(){var b,T,ne,ce,Pe,nr,Fr,Vr;if(b=D,r.charCodeAt(D)===123?(T=Rr,D++):(T=e,ge===0&&Ae(H)),T!==e){for(ne=[],ce=D,Pe=D,nr=D,ge++,r.charCodeAt(D)===125?(Fr=Cr,D++):(Fr=e,ge===0&&Ae(ie)),ge--,Fr===e?nr=void 0:(D=nr,nr=e),nr!==e?(Fr=D,ge++,Vr=on(),ge--,Vr===e?Fr=void 0:(D=Fr,Fr=e),Fr!==e?(Vr=F(),Vr===e&&(Vr=g()),Vr!==e?(nr=[nr,Fr,Vr],Pe=nr):(D=Pe,Pe=e)):(D=Pe,Pe=e)):(D=Pe,Pe=e),Pe!==e?ce=r.substring(ce,D):ce=Pe,ce===e&&(ce=on());ce!==e;)ne.push(ce),ce=D,Pe=D,nr=D,ge++,r.charCodeAt(D)===125?(Fr=Cr,D++):(Fr=e,ge===0&&Ae(ie)),ge--,Fr===e?nr=void 0:(D=nr,nr=e),nr!==e?(Fr=D,ge++,Vr=on(),ge--,Vr===e?Fr=void 0:(D=Fr,Fr=e),Fr!==e?(Vr=F(),Vr===e&&(Vr=g()),Vr!==e?(nr=[nr,Fr,Vr],Pe=nr):(D=Pe,Pe=e)):(D=Pe,Pe=e)):(D=Pe,Pe=e),Pe!==e?ce=r.substring(ce,D):ce=Pe,ce===e&&(ce=on());r.charCodeAt(D)===125?(ce=Cr,D++):(ce=e,ge===0&&Ae(ie)),ce!==e?b=je(ne):(D=b,b=e)}else D=b,b=e;return b}function tn(){var b,T,ne;for(b=D,T=[],ne=g();ne!==e;)T.push(ne),ne=g();return T=lr(),b=T,b}function g(){var b;return r.charCodeAt(D)===32?(b=Pr,D++):(b=e,ge===0&&Ae(oe)),b===e&&(r.charCodeAt(D)===10?(b=Ar,D++):(b=e,ge===0&&Ae(Le)),b===e&&(r.charCodeAt(D)===13?(b=fe,D++):(b=e,ge===0&&Ae(er)))),b}function P(){var b,T,ne,ce,Pe;if(b=D,T=D,r.charCodeAt(D)===92?(ne=wr,D++):(ne=e,ge===0&&Ae(Q)),ne!==e){if(ce=[],he.test(r.charAt(D))?(Pe=r.charAt(D),D++):(Pe=e,ge===0&&Ae(Dr)),Pe!==e)for(;Pe!==e;)ce.push(Pe),he.test(r.charAt(D))?(Pe=r.charAt(D),D++):(Pe=e,ge===0&&Ae(Dr));else ce=e;ce!==e?(ne=[ne,ce],T=ne):(D=T,T=e)}else D=T,T=e;return T!==e?b=r.substring(b,D):b=T,b===e&&(b=D,T=D,r.charCodeAt(D)===92?(ne=wr,D++):(ne=e,ge===0&&Ae(Q)),ne!==e?(ce=D,ge++,he.test(r.charAt(D))?(Pe=r.charAt(D),D++):(Pe=e,ge===0&&Ae(Dr)),ge--,Pe===e?ce=void 0:(D=ce,ce=e),ce!==e?(r.length>D?(Pe=r.charAt(D),D++):(Pe=e,ge===0&&Ae(tr)),Pe!==e?(ne=[ne,ce,Pe],T=ne):(D=T,T=e)):(D=T,T=e)):(D=T,T=e),T!==e?b=r.substring(b,D):b=T),b}function F(){var b,T,ne,ce;return b=P(),b===e&&(b=D,T=D,ge++,Qe.test(r.charAt(D))?(ne=r.charAt(D),D++):(ne=e,ge===0&&Ae(Mr)),ge--,ne===e?T=void 0:(D=T,T=e),T!==e?(ne=D,ge++,ce=g(),ge--,ce===e?ne=void 0:(D=ne,ne=e),ne!==e?(r.length>D?(ce=r.charAt(D),D++):(ce=e,ge===0&&Ae(tr)),ce!==e?b=ce:(D=b,b=e)):(D=b,b=e)):(D=b,b=e)),b}let pe={optional:{openBrace:"[",closeBrace:"]"},mandatory:{openBrace:"{",closeBrace:"}"}};function le(b,T){let ne=pe[b]||{};return{type:b,...ne,...T}}function me(b){return typeof b!="object"||!b?b:b.type==="group"?`{${b.content.map(me).join("")}}`:b}if(cr=E(),cr!==e&&D===r.length)return cr;throw cr!==e&&D<r.length&&Ae(q()),_r(Te,xe<r.length?r.charAt(xe):null,xe<r.length?Ne(xe,xe+1):Ne(xe,xe))}return{SyntaxError:t,parse:l}}(),pc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,E=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,S=this.location.source+":"+E.line+":"+E.column;if(e){var Y=this.location.end,te=s("",E.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+S+`
`+te+` |
`+E.line+" | "+y+`
`+te+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+S}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?E(z[0])+"-"+E(z[1]):E(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function E(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function S(y){return e[y.type](y)}function Y(y){var d=y.map(S),z,$e;if(d.sort(),d.length>0){for(z=1,$e=1;z<d.length;z++)d[z-1]!==d[z]&&(d[$e]=d[z],$e++);d.length=$e}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function te(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+te(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={body:Nr},E=Nr,S=Wr(),Y=function(){return[]},te=function(w,R){return{itemParts:[],...w,trailingComment:R,trailingComma:!0}},y=function(w,R){return{...w,trailingComment:R}},d=function(w,R){return M(w,R)},z=function(w){return M(null,w)},$e=function(w){return{cell:w}},fr=function(){return{}},xr=function(w){return w},_e=function(w){return w},vr=function(w,R){return{trailingComment:R,leadingParbreak:w.parbreak>0}},ur=function(w){return{whitespace:w.filter(R=>a.isWhitespace(R)).length,parbreak:w.filter(R=>a.isParbreak(R)).length}},yr=function(){return!a.allowParenGroups},Je=function(w){return a.isSameLineComment(w)},kr=function(w){return w},Rr=function(w){return a.isOwnLineComment(w)},Cr=function(w){return w},Pr=function(w){return a.isWhitespace(w)},Ar=function(w){return w},fe=function(w){return a.isParbreak(w)},wr=function(w){return w},Ze=function(w){return a.isComma(w)},he=function(w){return w},Qe=function(w){return a.isEquals(w)},pr=function(w){return w},Sr=function(w){return a.isChar(w,"(")},tr=function(w){return w},ue=function(w){return a.isChar(w,")")},we=function(w){return w},L=0,Er=[{line:1,column:1}],dr=0,ir=[],Ue=0,Or;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');E=h[a.startRule]}function Wr(){return{type:"any"}}function Hr(){return{type:"end"}}function Br(w){var R=Er[w],U;if(R)return R;for(U=w-1;!Er[U];)U--;for(R=Er[U],R={line:R.line,column:R.column};U<w;)r.charCodeAt(U)===10?(R.line++,R.column=1):R.column++,U++;return Er[w]=R,R}function jr(w,R,U){var J=Br(w),Ie=Br(R),ze={source:p,start:{offset:w,line:J.line,column:J.column},end:{offset:R,line:Ie.line,column:Ie.column}};return U&&p&&typeof p.offset=="function"&&(ze.start=p.offset(ze.start),ze.end=p.offset(ze.end)),ze}function mr(w){L<dr||(L>dr&&(dr=L,ir=[]),ir.push(w))}function Ur(w,R,U){return new t(t.buildMessage(w,R),w,R,U)}function Nr(){var w,R,U;if(w=[],R=Dr(),R===e&&(R=H(),R===e&&(R=ie())),R!==e)for(;R!==e;)w.push(R),R=Dr(),R===e&&(R=H(),R===e&&(R=ie()));else w=e;if(w===e){for(w=L,R=[],U=Ge();U!==e;)R.push(U),U=Ge();U=hr(),U!==e?w=Y():(L=w,w=e)}return w}function H(){var w,R,U,J,Ie,ze,qe;if(w=L,O(),R=oe(),R===e&&(R=null),O(),U=ae(),U!==e){for(J=[],Ie=Ge();Ie!==e;)J.push(Ie),Ie=Ge();for(Ie=Q(),Ie===e&&(Ie=null),ze=[],qe=Ge();qe!==e;)ze.push(qe),qe=Ge();w=te(R,Ie)}else L=w,w=e;return w}function ie(){var w,R,U;return w=L,O(),R=oe(),R!==e?(U=Q(),U===e&&(U=null),w=y(R,U)):(L=w,w=e),w}function oe(){var w,R,U,J;if(w=L,R=er(),R!==e){for(U=[],J=Le();J!==e;)U.push(J),J=Le();w=d(R,U)}else L=w,w=e;if(w===e){if(w=L,R=[],U=Le(),U!==e)for(;U!==e;)R.push(U),U=Le();else R=e;R!==e&&(R=z(R)),w=R}return w}function Le(){var w,R,U,J,Ie;for(w=L,R=[],U=Fe();U!==e;)R.push(U),U=Fe();if(U=Gr(),U!==e){for(J=[],Ie=Fe();Ie!==e;)J.push(Ie),Ie=Fe();Ie=er(),Ie!==e?w=$e(Ie):(L=w,w=e)}else L=w,w=e;if(w===e){for(w=L,R=[],U=Fe();U!==e;)R.push(U),U=Fe();U=Gr(),U!==e?w=fr():(L=w,w=e)}return w}function er(){var w,R,U,J,Ie,ze,qe,Ve,Ke,rr;for(w=L,R=[],U=Ge();U!==e;)R.push(U),U=Ge();if(U=L,J=[],Ie=G(),Ie===e)if(Ie=L,ze=Ge(),ze===e&&(ze=Fe()),ze!==e){for(qe=L,Ue++,Ve=L,Ke=[],rr=Ge(),rr===e&&(rr=Fe());rr!==e;)Ke.push(rr),rr=Ge(),rr===e&&(rr=Fe());rr=G(),rr!==e?(Ke=[Ke,rr],Ve=Ke):(L=Ve,Ve=e),Ue--,Ve!==e?(L=qe,qe=void 0):qe=e,qe!==e?(ze=[ze,qe],Ie=ze):(L=Ie,Ie=e)}else L=Ie,Ie=e;if(Ie!==e){for(;Ie!==e;)if(J.push(Ie),Ie=G(),Ie===e)if(Ie=L,ze=Ge(),ze===e&&(ze=Fe()),ze!==e){for(qe=L,Ue++,Ve=L,Ke=[],rr=Ge(),rr===e&&(rr=Fe());rr!==e;)Ke.push(rr),rr=Ge(),rr===e&&(rr=Fe());rr=G(),rr!==e?(Ke=[Ke,rr],Ve=Ke):(L=Ve,Ve=e),Ue--,Ve!==e?(L=qe,qe=void 0):qe=e,qe!==e?(ze=[ze,qe],Ie=ze):(L=Ie,Ie=e)}else L=Ie,Ie=e}else J=e;if(J!==e?U=r.substring(U,L):U=J,U!==e){for(J=[],Ie=Ge();Ie!==e;)J.push(Ie),Ie=Ge();w=xr(U)}else L=w,w=e;return w}function Q(){var w,R,U;for(w=L,R=[],U=Ge();U!==e;)R.push(U),U=Ge();return U=V(),U!==e?w=_e(U):(L=w,w=e),w}function Dr(){var w,R,U;return w=L,R=O(),U=Me(),U!==e?w=vr(R,U):(L=w,w=e),w}function Mr(){var w,R,U,J;return w=L,R=L,U=L,Ue++,J=N(),Ue--,J===e?U=void 0:(L=U,U=e),U!==e?(r.length>L?(J=r.charAt(L),L++):(J=e,Ue===0&&mr(S)),J!==e?(U=[U,J],R=U):(L=R,R=e)):(L=R,R=e),R!==e?w=r.substring(w,L):w=R,w}function G(){var w,R,U,J;return w=L,R=L,U=L,Ue++,J=Ge(),J===e&&(J=Fe()),Ue--,J===e?U=void 0:(L=U,U=e),U!==e?(J=sr(),J===e&&(J=Mr()),J!==e?(U=[U,J],R=U):(L=R,R=e)):(L=R,R=e),R!==e?w=r.substring(w,L):w=R,w}function N(){var w;return w=ae(),w===e&&(w=Gr(),w===e&&(w=Q(),w===e&&(w=Me()))),w}function O(){var w,R,U;for(w=L,R=[],U=Ge(),U===e&&(U=Fe());U!==e;)R.push(U),U=Ge(),U===e&&(U=Fe());return R=ur(R),w=R,w}function sr(){var w,R,U,J,Ie,ze,qe,Ve,Ke;if(w=L,R=yr(),R?R=e:R=void 0,R!==e){if(U=L,J=L,Ie=or(),Ie!==e){for(ze=[],qe=L,Ve=L,Ue++,Ke=Yr(),Ue--,Ke===e?Ve=void 0:(L=Ve,Ve=e),Ve!==e?(r.length>L?(Ke=r.charAt(L),L++):(Ke=e,Ue===0&&mr(S)),Ke!==e?(Ve=[Ve,Ke],qe=Ve):(L=qe,qe=e)):(L=qe,qe=e);qe!==e;)ze.push(qe),qe=L,Ve=L,Ue++,Ke=Yr(),Ue--,Ke===e?Ve=void 0:(L=Ve,Ve=e),Ve!==e?(r.length>L?(Ke=r.charAt(L),L++):(Ke=e,Ue===0&&mr(S)),Ke!==e?(Ve=[Ve,Ke],qe=Ve):(L=qe,qe=e)):(L=qe,qe=e);qe=Yr(),qe!==e?(Ie=[Ie,ze,qe],J=Ie):(L=J,J=e)}else L=J,J=e;J!==e?U=r.substring(U,L):U=J,U!==e?(R=[R,U],w=R):(L=w,w=e)}else L=w,w=e;return w}function V(){var w,R,U;return w=L,r.length>L?(R=r.charAt(L),L++):(R=e,Ue===0&&mr(S)),R!==e?(U=Je(R),U?U=void 0:U=e,U!==e?w=kr(R):(L=w,w=e)):(L=w,w=e),w}function Me(){var w,R,U;return w=L,r.length>L?(R=r.charAt(L),L++):(R=e,Ue===0&&mr(S)),R!==e?(U=Rr(R),U?U=void 0:U=e,U!==e?w=Cr(R):(L=w,w=e)):(L=w,w=e),w}function Ge(){var w,R,U;return w=L,r.length>L?(R=r.charAt(L),L++):(R=e,Ue===0&&mr(S)),R!==e?(U=Pr(R),U?U=void 0:U=e,U!==e?w=Ar(R):(L=w,w=e)):(L=w,w=e),w}function Fe(){var w,R,U;return w=L,r.length>L?(R=r.charAt(L),L++):(R=e,Ue===0&&mr(S)),R!==e?(U=fe(R),U?U=void 0:U=e,U!==e?w=wr(R):(L=w,w=e)):(L=w,w=e),w}function ae(){var w,R,U;return w=L,r.length>L?(R=r.charAt(L),L++):(R=e,Ue===0&&mr(S)),R!==e?(U=Ze(R),U?U=void 0:U=e,U!==e?w=he(R):(L=w,w=e)):(L=w,w=e),w}function Gr(){var w,R,U;return w=L,r.length>L?(R=r.charAt(L),L++):(R=e,Ue===0&&mr(S)),R!==e?(U=Qe(R),U?U=void 0:U=e,U!==e?w=pr(R):(L=w,w=e)):(L=w,w=e),w}function or(){var w,R,U;return w=L,r.length>L?(R=r.charAt(L),L++):(R=e,Ue===0&&mr(S)),R!==e?(U=Sr(R),U?U=void 0:U=e,U!==e?w=tr(R):(L=w,w=e)):(L=w,w=e),w}function Yr(){var w,R,U;return w=L,r.length>L?(R=r.charAt(L),L++):(R=e,Ue===0&&mr(S)),R!==e?(U=ue(R),U?U=void 0:U=e,U!==e?w=we(R):(L=w,w=e)):(L=w,w=e),w}function hr(){var w,R;return w=L,Ue++,r.length>L?(R=r.charAt(L),L++):(R=e,Ue===0&&mr(S)),Ue--,R===e?w=void 0:(L=w,w=e),w}function M(w,R){let U=[w||[]];for(let J of R)U.push(J.cell||[]);return{itemParts:U}}if(!a.isWhitespace)try{Object.assign(a,{isChar:(w,R)=>w.type==="string"&&w.content===R,isComma(w){return w.type==="string"&&w.content===","},isEquals(w){return w.type==="string"&&w.content==="="},isParbreak(w){return w.type==="parbreak"},isWhitespace(w){return w.type==="whitespace"},isSameLineComment:w=>w.type==="comment"&&w.sameline,isOwnLineComment:w=>w.type==="comment"&&!w.sameline,isComment:w=>w.type==="comment",allowParenGroups:!0})}catch(w){console.warn("Error when initializing parser",w)}if(Or=E(),Or!==e&&L===r.length)return Or;throw Or!==e&&L<r.length&&mr(Hr()),Ur(ir,dr<r.length?r.charAt(dr):null,dr<r.length?jr(dr,dr+1):jr(dr,dr))}return{SyntaxError:t,parse:l}}(),mc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,E=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,S=this.location.source+":"+E.line+":"+E.column;if(e){var Y=this.location.end,te=s("",E.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+S+`
`+te+` |
`+E.line+" | "+y+`
`+te+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+S}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?E(z[0])+"-"+E(z[1]):E(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function E(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function S(y){return e[y.type](y)}function Y(y){var d=y.map(S),z,$e;if(d.sort(),d.length>0){for(z=1,$e=1;z<d.length;z++)d[z-1]!==d[z]&&(d[$e]=d[z],$e++);d.length=$e}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function te(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+te(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={body:Ze},E=Ze,S=Rr(),Y=function(ue){return[].concat(...ue).filter(we=>!!we)},te=function(){return[]},y=function(ue){return a.isHash(ue)},d=function(ue){return ue},z=function(ue){return a.isNumber(ue)},$e=function(ue){return ue},fr=function(){return{type:"string",content:"#"}},xr=function(ue){let we=a.splitNumber(ue);return[{type:"hash_number",number:we.number},we.rest]},_e=0,vr=[{line:1,column:1}],ur=0,yr=[],Je=0,kr;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');E=h[a.startRule]}function Rr(){return{type:"any"}}function Cr(){return{type:"end"}}function Pr(ue){var we=vr[ue],L;if(we)return we;for(L=ue-1;!vr[L];)L--;for(we=vr[L],we={line:we.line,column:we.column};L<ue;)r.charCodeAt(L)===10?(we.line++,we.column=1):we.column++,L++;return vr[ue]=we,we}function Ar(ue,we,L){var Er=Pr(ue),dr=Pr(we),ir={source:p,start:{offset:ue,line:Er.line,column:Er.column},end:{offset:we,line:dr.line,column:dr.column}};return L&&p&&typeof p.offset=="function"&&(ir.start=p.offset(ir.start),ir.end=p.offset(ir.end)),ir}function fe(ue){_e<ur||(_e>ur&&(ur=_e,yr=[]),yr.push(ue))}function wr(ue,we,L){return new t(t.buildMessage(ue,we),ue,we,L)}function Ze(){var ue,we,L;if(ue=_e,we=[],L=pr(),L===e&&(L=Sr(),L===e&&(r.length>_e?(L=r.charAt(_e),_e++):(L=e,Je===0&&fe(S)))),L!==e)for(;L!==e;)we.push(L),L=pr(),L===e&&(L=Sr(),L===e&&(r.length>_e?(L=r.charAt(_e),_e++):(L=e,Je===0&&fe(S))));else we=e;return we!==e&&(we=Y(we)),ue=we,ue===e&&(ue=_e,we=tr(),we!==e&&(we=te()),ue=we),ue}function he(){var ue,we,L;return ue=_e,r.length>_e?(we=r.charAt(_e),_e++):(we=e,Je===0&&fe(S)),we!==e?(L=y(we),L?L=void 0:L=e,L!==e?ue=d(we):(_e=ue,ue=e)):(_e=ue,ue=e),ue}function Qe(){var ue,we,L;return ue=_e,r.length>_e?(we=r.charAt(_e),_e++):(we=e,Je===0&&fe(S)),we!==e?(L=z(we),L?L=void 0:L=e,L!==e?ue=$e(we):(_e=ue,ue=e)):(_e=ue,ue=e),ue}function pr(){var ue,we,L;return ue=_e,we=he(),we!==e?(L=he(),L!==e?ue=fr():(_e=ue,ue=e)):(_e=ue,ue=e),ue}function Sr(){var ue,we,L;return ue=_e,we=he(),we!==e?(L=Qe(),L!==e?ue=xr(L):(_e=ue,ue=e)):(_e=ue,ue=e),ue}function tr(){var ue,we;return ue=_e,Je++,r.length>_e?(we=r.charAt(_e),_e++):(we=e,Je===0&&fe(S)),Je--,we===e?ue=void 0:(_e=ue,ue=e),ue}if(!a.isHash)try{Object.assign(a,{isHash:ue=>ue.type==="string"&&ue.content==="#",isNumber:ue=>ue.type==="string"&&0<+ue.content.charAt(0),splitNumber:ue=>{let we=+ue.content.charAt(0);return ue.content.length>1?{number:we,rest:{type:"string",content:ue.content.slice(1)}}:{number:we}}})}catch(ue){console.warn("Error when initializing parser",ue)}if(kr=E(),kr!==e&&_e===r.length)return kr;throw kr!==e&&_e<r.length&&fe(Cr()),wr(yr,ur<r.length?r.charAt(ur):null,ur<r.length?Ar(ur,ur+1):Ar(ur,ur))}return{SyntaxError:t,parse:l}}(),hc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,E=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,S=this.location.source+":"+E.line+":"+E.column;if(e){var Y=this.location.end,te=s("",E.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+S+`
`+te+` |
`+E.line+" | "+y+`
`+te+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+S}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?E(z[0])+"-"+E(z[1]):E(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function E(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function S(y){return e[y.type](y)}function Y(y){var d=y.map(S),z,$e;if(d.sort(),d.length>0){for(z=1,$e=1;z<d.length;z++)d[z-1]!==d[z]&&(d[$e]=d[z],$e++);d.length=$e}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function te(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+te(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={body:dr},E=dr,S=Sr(),Y=function(H){return[].concat(...H).filter(ie=>!!ie)},te=function(){return[]},y=function(H){return a.isRecognized(H)},d=function(H){return a.isRecognized(H)},z=function(H,ie){let oe=a.split(ie);return a.isRecognized([H,oe[0]])},$e=function(H,ie){let oe=a.split(ie);return[a.isRecognized([H,oe[0]]),oe[1]]},fr=function(H,ie){return a.isRecognized([H,ie])},xr=function(H,ie){return a.isRecognized([H,ie])},_e=function(H){return a.isRecognized(H)},vr=function(H){return a.isRecognized(H)},ur=function(H){return a.isRecognized([H])},yr=function(H){return a.isRecognized([H])},Je=function(H){return a.isMacro(H)},kr=function(H){return H},Rr=function(H){return a.isWhitespace(H)},Cr=function(H){return H},Pr=function(H){return a.isSplitable(H)},Ar=function(H){return H},fe=0,wr=[{line:1,column:1}],Ze=0,he=[],Qe=0,pr;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');E=h[a.startRule]}function Sr(){return{type:"any"}}function tr(){return{type:"end"}}function ue(H){var ie=wr[H],oe;if(ie)return ie;for(oe=H-1;!wr[oe];)oe--;for(ie=wr[oe],ie={line:ie.line,column:ie.column};oe<H;)r.charCodeAt(oe)===10?(ie.line++,ie.column=1):ie.column++,oe++;return wr[H]=ie,ie}function we(H,ie,oe){var Le=ue(H),er=ue(ie),Q={source:p,start:{offset:H,line:Le.line,column:Le.column},end:{offset:ie,line:er.line,column:er.column}};return oe&&p&&typeof p.offset=="function"&&(Q.start=p.offset(Q.start),Q.end=p.offset(Q.end)),Q}function L(H){fe<Ze||(fe>Ze&&(Ze=fe,he=[]),he.push(H))}function Er(H,ie,oe){return new t(t.buildMessage(H,ie),H,ie,oe)}function dr(){var H,ie,oe;if(H=fe,ie=[],oe=ir(),oe===e&&(oe=Ue(),oe===e&&(oe=Br(),oe===e&&(r.length>fe?(oe=r.charAt(fe),fe++):(oe=e,Qe===0&&L(S))))),oe!==e)for(;oe!==e;)ie.push(oe),oe=ir(),oe===e&&(oe=Ue(),oe===e&&(oe=Br(),oe===e&&(r.length>fe?(oe=r.charAt(fe),fe++):(oe=e,Qe===0&&L(S)))));else ie=e;return ie!==e&&(ie=Y(ie)),H=ie,H===e&&(H=fe,ie=Nr(),ie!==e&&(ie=te()),H=ie),H}function ir(){var H,ie,oe,Le,er;return H=fe,ie=fe,r.length>fe?(oe=r.charAt(fe),fe++):(oe=e,Qe===0&&L(S)),oe!==e?(r.length>fe?(Le=r.charAt(fe),fe++):(Le=e,Qe===0&&L(S)),Le!==e?(r.length>fe?(er=r.charAt(fe),fe++):(er=e,Qe===0&&L(S)),er!==e?(oe=[oe,Le,er],ie=oe):(fe=ie,ie=e)):(fe=ie,ie=e)):(fe=ie,ie=e),ie!==e?(oe=y(ie),oe?oe=void 0:oe=e,oe!==e?H=d(ie):(fe=H,H=e)):(fe=H,H=e),H}function Ue(){var H;return H=Wr(),H===e&&(H=Or(),H===e&&(H=Hr())),H}function Or(){var H,ie,oe,Le,er;if(H=fe,ie=jr(),ie!==e){for(oe=[],Le=mr();Le!==e;)oe.push(Le),Le=mr();Le=Ur(),Le!==e?(er=z(ie,Le),er?er=void 0:er=e,er!==e?H=$e(ie,Le):(fe=H,H=e)):(fe=H,H=e)}else fe=H,H=e;return H}function Wr(){var H,ie,oe,Le,er;if(H=fe,ie=jr(),ie!==e){for(oe=[],Le=mr();Le!==e;)oe.push(Le),Le=mr();r.length>fe?(Le=r.charAt(fe),fe++):(Le=e,Qe===0&&L(S)),Le!==e?(er=fr(ie,Le),er?er=void 0:er=e,er!==e?H=xr(ie,Le):(fe=H,H=e)):(fe=H,H=e)}else fe=H,H=e;return H}function Hr(){var H,ie,oe,Le;return H=fe,ie=fe,r.length>fe?(oe=r.charAt(fe),fe++):(oe=e,Qe===0&&L(S)),oe!==e?(r.length>fe?(Le=r.charAt(fe),fe++):(Le=e,Qe===0&&L(S)),Le!==e?(oe=[oe,Le],ie=oe):(fe=ie,ie=e)):(fe=ie,ie=e),ie!==e?(oe=_e(ie),oe?oe=void 0:oe=e,oe!==e?H=vr(ie):(fe=H,H=e)):(fe=H,H=e),H}function Br(){var H,ie,oe;return H=fe,r.length>fe?(ie=r.charAt(fe),fe++):(ie=e,Qe===0&&L(S)),ie!==e?(oe=ur(ie),oe?oe=void 0:oe=e,oe!==e?H=yr(ie):(fe=H,H=e)):(fe=H,H=e),H}function jr(){var H,ie,oe;return H=fe,r.length>fe?(ie=r.charAt(fe),fe++):(ie=e,Qe===0&&L(S)),ie!==e?(oe=Je(ie),oe?oe=void 0:oe=e,oe!==e?H=kr(ie):(fe=H,H=e)):(fe=H,H=e),H}function mr(){var H,ie,oe;return H=fe,r.length>fe?(ie=r.charAt(fe),fe++):(ie=e,Qe===0&&L(S)),ie!==e?(oe=Rr(ie),oe?oe=void 0:oe=e,oe!==e?H=Cr(ie):(fe=H,H=e)):(fe=H,H=e),H}function Ur(){var H,ie,oe;return H=fe,r.length>fe?(ie=r.charAt(fe),fe++):(ie=e,Qe===0&&L(S)),ie!==e?(oe=Pr(ie),oe?oe=void 0:oe=e,oe!==e?H=Ar(ie):(fe=H,H=e)):(fe=H,H=e),H}function Nr(){var H,ie;return H=fe,Qe++,r.length>fe?(ie=r.charAt(fe),fe++):(ie=e,Qe===0&&L(S)),Qe--,ie===e?H=void 0:(fe=H,H=e),H}if(!a.isWhitespace)try{Object.assign(a,{isMacro:H=>H.type==="macro",isWhitespace:H=>H.type==="whitespace",isRecognized:H=>H.length==2&&H[0].content==="^"&&H[1].content==="o"?{type:"string",content:"\xF4"}:null,isSplitable:H=>H.type==="string"&&H.content.length>1,split:H=>[{type:"string",content:H.content.charAt(0)},{type:"string",content:H.content.slice(1)}]})}catch(H){console.warn("Error when initializing parser",H)}if(pr=E(),pr!==e&&fe===r.length)return pr;throw pr!==e&&fe<r.length&&L(tr()),Er(he,Ze<r.length?r.charAt(Ze):null,Ze<r.length?we(Ze,Ze+1):we(Ze,Ze))}return{SyntaxError:t,parse:l}}(),dc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,E=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,S=this.location.source+":"+E.line+":"+E.column;if(e){var Y=this.location.end,te=s("",E.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+S+`
`+te+` |
`+E.line+" | "+y+`
`+te+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+S}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?E(z[0])+"-"+E(z[1]):E(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function E(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function S(y){return e[y.type](y)}function Y(y){var d=y.map(S),z,$e;if(d.sort(),d.length>0){for(z=1,$e=1;z<d.length;z++)d[z-1]!==d[z]&&(d[$e]=d[z],$e++);d.length=$e}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function te(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+te(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={start:wn},E=wn,S=";",Y=",",te=":",y="/",d=">",z="!",$e=".",fr="!![",xr="]",_e="!!",vr="+",ur="-",yr=/^[a-zA-Z0-9]/,Je=/^[0-9]/,kr=/^[ \t\n\r]/,Rr=/^[0-9a-fA-F]/,Cr=Sn(),Pr=Xr(";",!1),Ar=Xr(",",!1),fe=Ir("model list"),wr=Xr(":",!1),Ze=Xr("/",!1),he=Ir("model"),Qe=Ir("color spec list"),pr=Ir("color spec"),Sr=Ir("color"),tr=Ir("function expression"),ue=Xr(">",!1),we=Ir("function"),L=Ir("extended expression"),Er=Ir("core model"),dr=Ir("expr"),ir=Xr("!",!1),Ue=Ir("mix expr"),Or=Ir("name"),Wr=Xr(".",!1),Hr=bn([["a","z"],["A","Z"],["0","9"]],!1,!1),Br=Ir("postfix"),jr=Xr("!![",!1),mr=Xr("]",!1),Ur=Xr("!!",!1),Nr=Ir("prefix"),H=Ir("plus"),ie=Xr("+",!1),oe=Ir("minus"),Le=Xr("-",!1),er=Ir("num"),Q=bn([["0","9"]],!1,!1),Dr=Ir("positive float"),Mr=Ir("divisor"),G=Ir("int"),N=bn([" ","	",`
`,"\r"],!1,!1),O=bn([["0","9"],["a","f"],["A","F"]],!1,!1),sr=function(m){return m},V=function(m){return m},Me=function(m){return m},Ge=function(m){return m},Fe=function(m){return m},ae=function(m){return{type:"invalid_spec",content:m}},Gr=function(m,C){return C},or=function(m,C){return{type:"color_set",content:[m].concat(C)}},Yr=function(m,C){return{type:"color_set_item",name:m,spec_list:C}},hr=function(m,C){return{type:"model_list",contents:C,core_model:m}},M=function(m){return{type:"model_list",contents:m,core_model:null}},w=function(m,C){return C},R=function(m,C){return[m].concat(C)},U=function(m,C){return C},J=function(m,C){return{type:"spec_list",content:[m].concat(C)}},Ie=function(m){return{type:"hex_spec",content:[m]}},ze=function(m,C){return C},qe=function(m,C){return C},Ve=function(m,C){return{type:"num_spec",content:C?[m].concat(C):[m]}},Ke=function(m,C){return{type:"color",color:m,functions:C}},rr=function(m,C){return C},je=function(m,C){return{type:"function",name:m,args:C}},lr=function(m,C,j,K){return{type:"extended_expr",core_model:m,div:C,expressions:[j].concat(K)}},D=function(m,C,j){return{type:"extended_expr",core_model:m,div:null,expressions:[C].concat(j)}},Z=function(m,C){return{type:"weighted_expr",color:m,weight:C}},xe=function(m){return m},Te=function(m,C,j,K){return{type:"expr",prefix:m,name:C,mix_expr:j,postfix:K}},ge=function(m,C){return{type:"complete_mix",mix_percent:m,name:C}},cr=function(m){return{type:"partial_mix",mix_percent:m}},We=function(m,C){return m.concat(C||[])},$=function(m){return{type:"postfix",num:m}},W=function(m){return{type:"postfix",plusses:m}},q=function(m){return parseInt(m,10)},Se=function(m){return parseFloat(m)},Ne=function(m){return m},Ae=function(m){return-m},_r=function(m,C){return m?-C:C},A=function(m){return m.toUpperCase()},f=0,B=[{line:1,column:1}],Oe=0,ar=[],ee=0,en;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');E=h[a.startRule]}function Xr(m,C){return{type:"literal",text:m,ignoreCase:C}}function bn(m,C,j){return{type:"class",parts:m,inverted:C,ignoreCase:j}}function Sn(){return{type:"any"}}function jn(){return{type:"end"}}function Ir(m){return{type:"other",description:m}}function Fn(m){var C=B[m],j;if(C)return C;for(j=m-1;!B[j];)j--;for(C=B[j],C={line:C.line,column:C.column};j<m;)r.charCodeAt(j)===10?(C.line++,C.column=1):C.column++,j++;return B[m]=C,C}function $n(m,C,j){var K=Fn(m),ye=Fn(C),Ce={source:p,start:{offset:m,line:K.line,column:K.column},end:{offset:C,line:ye.line,column:ye.column}};return j&&p&&typeof p.offset=="function"&&(Ce.start=p.offset(Ce.start),Ce.end=p.offset(Ce.end)),Ce}function ke(m){f<Oe||(f>Oe&&(Oe=f,ar=[]),ar.push(m))}function An(m,C,j){return new t(t.buildMessage(m,C),m,C,j)}function wn(){var m,C,j,K;if(m=f,C=le(),C!==e?(j=Gn(),j!==e?m=sr(C):(f=m,m=e)):(f=m,m=e),m===e&&(m=f,C=pe(),C!==e?(j=Gn(),j!==e?m=V(C):(f=m,m=e)):(f=m,m=e),m===e&&(m=f,C=me(),C!==e?(j=Gn(),j!==e?m=Me(C):(f=m,m=e)):(f=m,m=e),m===e&&(m=f,C=g(),C!==e?(j=Gn(),j!==e?m=Ge(C):(f=m,m=e)):(f=m,m=e),m===e&&(m=f,C=on(),C!==e?(j=Gn(),j!==e?m=Fe(C):(f=m,m=e)):(f=m,m=e),m===e))))){for(m=f,C=f,j=[],r.length>f?(K=r.charAt(f),f++):(K=e,ee===0&&ke(Cr));K!==e;)j.push(K),r.length>f?(K=r.charAt(f),f++):(K=e,ee===0&&ke(Cr));C=r.substring(C,f),C=ae(C),m=C}return m}function on(){var m,C,j,K,ye,Ce;if(m=f,C=tn(),C!==e){for(j=[],K=f,r.charCodeAt(f)===59?(ye=S,f++):(ye=e,ee===0&&ke(Pr)),ye!==e?(Ce=tn(),Ce!==e?K=Gr(C,Ce):(f=K,K=e)):(f=K,K=e);K!==e;)j.push(K),K=f,r.charCodeAt(f)===59?(ye=S,f++):(ye=e,ee===0&&ke(Pr)),ye!==e?(Ce=tn(),Ce!==e?K=Gr(C,Ce):(f=K,K=e)):(f=K,K=e);m=or(C,j)}else f=m,m=e;return m}function tn(){var m,C,j,K;return m=f,C=Rn(),C!==e?(r.charCodeAt(f)===44?(j=Y,f++):(j=e,ee===0&&ke(Ar)),j!==e?(K=pe(),K!==e?m=Yr(C,K):(f=m,m=e)):(f=m,m=e)):(f=m,m=e),m}function g(){var m,C,j,K;return ee++,m=f,C=Fr(),C!==e?(r.charCodeAt(f)===58?(j=te,f++):(j=e,ee===0&&ke(wr)),j!==e?(K=P(),K!==e?m=hr(C,K):(f=m,m=e)):(f=m,m=e)):(f=m,m=e),m===e&&(m=f,C=P(),C!==e&&(C=M(C)),m=C),ee--,m===e&&(C=e,ee===0&&ke(fe)),m}function P(){var m,C,j,K,ye,Ce;if(m=f,C=F(),C!==e){for(j=[],K=f,r.charCodeAt(f)===47?(ye=y,f++):(ye=e,ee===0&&ke(Ze)),ye!==e?(Ce=F(),Ce!==e?K=w(C,Ce):(f=K,K=e)):(f=K,K=e);K!==e;)j.push(K),K=f,r.charCodeAt(f)===47?(ye=y,f++):(ye=e,ee===0&&ke(Ze)),ye!==e?(Ce=F(),Ce!==e?K=w(C,Ce):(f=K,K=e)):(f=K,K=e);m=R(C,j)}else f=m,m=e;return m}function F(){var m;return ee++,m=Fr(),ee--,m===e&&ee===0&&ke(he),m}function pe(){var m,C,j,K,ye,Ce;if(ee++,m=f,C=le(),C!==e){for(j=[],K=f,r.charCodeAt(f)===47?(ye=y,f++):(ye=e,ee===0&&ke(Ze)),ye!==e?(Ce=le(),Ce!==e?K=U(C,Ce):(f=K,K=e)):(f=K,K=e);K!==e;)j.push(K),K=f,r.charCodeAt(f)===47?(ye=y,f++):(ye=e,ee===0&&ke(Ze)),ye!==e?(Ce=le(),Ce!==e?K=U(C,Ce):(f=K,K=e)):(f=K,K=e);m=J(C,j)}else f=m,m=e;return ee--,m===e&&(C=e,ee===0&&ke(Qe)),m}function le(){var m,C,j,K,ye,Ce,br,rn,Ln;if(ee++,m=f,C=f,j=f,K=Tn(),K!==e?(ye=Tn(),ye!==e?(Ce=Tn(),Ce!==e?(br=Tn(),br!==e?(rn=Tn(),rn!==e?(Ln=Tn(),Ln!==e?(K=[K,ye,Ce,br,rn,Ln],j=K):(f=j,j=e)):(f=j,j=e)):(f=j,j=e)):(f=j,j=e)):(f=j,j=e)):(f=j,j=e),j!==e?C=r.substring(C,f):C=j,C!==e&&(C=Ie(C)),m=C,m===e)if(m=f,C=Dn(),C!==e){if(j=[],K=f,r.charCodeAt(f)===44?(ye=Y,f++):(ye=e,ee===0&&ke(Ar)),ye!==e?(Ce=Dn(),Ce!==e?K=ze(C,Ce):(f=K,K=e)):(f=K,K=e),K!==e)for(;K!==e;)j.push(K),K=f,r.charCodeAt(f)===44?(ye=Y,f++):(ye=e,ee===0&&ke(Ar)),ye!==e?(Ce=Dn(),Ce!==e?K=ze(C,Ce):(f=K,K=e)):(f=K,K=e);else j=e;if(j===e)if(j=[],K=f,ye=dt(),ye!==e?(Ce=Dn(),Ce!==e?K=qe(C,Ce):(f=K,K=e)):(f=K,K=e),K!==e)for(;K!==e;)j.push(K),K=f,ye=dt(),ye!==e?(Ce=Dn(),Ce!==e?K=qe(C,Ce):(f=K,K=e)):(f=K,K=e);else j=e;j===e&&(j=null),m=Ve(C,j)}else f=m,m=e;return ee--,m===e&&(C=e,ee===0&&ke(pr)),m}function me(){var m,C,j,K;if(ee++,m=f,C=b(),C!==e){for(j=[],K=T();K!==e;)j.push(K),K=T();m=Ke(C,j)}else f=m,m=e;return ee--,m===e&&(C=e,ee===0&&ke(Sr)),m}function b(){var m;return m=ce(),m===e&&(m=Vr(),m===e&&(m=Rn())),m}function T(){var m,C,j,K,ye,Ce,br;if(ee++,m=f,r.charCodeAt(f)===62?(C=d,f++):(C=e,ee===0&&ke(ue)),C!==e)if(j=ne(),j!==e){for(K=[],ye=f,r.charCodeAt(f)===44?(Ce=Y,f++):(Ce=e,ee===0&&ke(Ar)),Ce!==e?(br=ht(),br!==e?ye=rr(j,br):(f=ye,ye=e)):(f=ye,ye=e);ye!==e;)K.push(ye),ye=f,r.charCodeAt(f)===44?(Ce=Y,f++):(Ce=e,ee===0&&ke(Ar)),Ce!==e?(br=ht(),br!==e?ye=rr(j,br):(f=ye,ye=e)):(f=ye,ye=e);m=je(j,K)}else f=m,m=e;else f=m,m=e;return ee--,m===e&&(C=e,ee===0&&ke(tr)),m}function ne(){var m;return ee++,m=Rn(),ee--,m===e&&ee===0&&ke(we),m}function ce(){var m,C,j,K,ye,Ce,br,rn;if(ee++,m=f,C=Fr(),C!==e)if(r.charCodeAt(f)===44?(j=Y,f++):(j=e,ee===0&&ke(Ar)),j!==e)if(K=Wt(),K!==e)if(r.charCodeAt(f)===58?(ye=te,f++):(ye=e,ee===0&&ke(wr)),ye!==e)if(Ce=Pe(),Ce!==e){for(br=[],rn=nr();rn!==e;)br.push(rn),rn=nr();m=lr(C,K,Ce,br)}else f=m,m=e;else f=m,m=e;else f=m,m=e;else f=m,m=e;else f=m,m=e;if(m===e)if(m=f,C=Fr(),C!==e)if(r.charCodeAt(f)===58?(j=te,f++):(j=e,ee===0&&ke(wr)),j!==e)if(K=Pe(),K!==e){for(ye=[],Ce=nr();Ce!==e;)ye.push(Ce),Ce=nr();m=D(C,K,ye)}else f=m,m=e;else f=m,m=e;else f=m,m=e;return ee--,m===e&&(C=e,ee===0&&ke(L)),m}function Pe(){var m,C,j,K;return m=f,C=Vr(),C!==e?(r.charCodeAt(f)===44?(j=Y,f++):(j=e,ee===0&&ke(Ar)),j!==e?(K=Dn(),K!==e?m=Z(C,K):(f=m,m=e)):(f=m,m=e)):(f=m,m=e),m}function nr(){var m,C,j;return m=f,r.charCodeAt(f)===59?(C=S,f++):(C=e,ee===0&&ke(Pr)),C!==e?(j=Pe(),j!==e?m=xe(j):(f=m,m=e)):(f=m,m=e),m}function Fr(){var m;return ee++,m=Rn(),ee--,m===e&&ee===0&&ke(Er),m}function Vr(){var m,C,j,K,ye;return ee++,m=f,C=qt(),j=Rn(),j!==e?(K=Bt(),ye=Nt(),ye===e&&(ye=null),m=Te(C,j,K,ye)):(f=m,m=e),ee--,m===e&&(C=e,ee===0&&ke(dr)),m}function gt(){var m,C,j,K,ye;return m=f,r.charCodeAt(f)===33?(C=z,f++):(C=e,ee===0&&ke(ir)),C!==e?(j=On(),j!==e?(r.charCodeAt(f)===33?(K=z,f++):(K=e,ee===0&&ke(ir)),K!==e?(ye=Rn(),ye!==e?m=ge(j,ye):(f=m,m=e)):(f=m,m=e)):(f=m,m=e)):(f=m,m=e),m}function Lt(){var m,C,j;return m=f,r.charCodeAt(f)===33?(C=z,f++):(C=e,ee===0&&ke(ir)),C!==e?(j=On(),j!==e?m=cr(j):(f=m,m=e)):(f=m,m=e),m}function Bt(){var m,C,j;for(ee++,m=f,C=[],j=gt();j!==e;)C.push(j),j=gt();return j=Lt(),j===e&&(j=null),m=We(C,j),ee--,C=e,ee===0&&ke(Ue),m}function Rn(){var m,C,j;if(ee++,r.charCodeAt(f)===46?(m=$e,f++):(m=e,ee===0&&ke(Wr)),m===e){if(m=f,C=[],yr.test(r.charAt(f))?(j=r.charAt(f),f++):(j=e,ee===0&&ke(Hr)),j!==e)for(;j!==e;)C.push(j),yr.test(r.charAt(f))?(j=r.charAt(f),f++):(j=e,ee===0&&ke(Hr));else C=e;C!==e?m=r.substring(m,f):m=C}return ee--,m===e&&(C=e,ee===0&&ke(Or)),m}function Nt(){var m,C,j,K,ye;if(ee++,m=f,r.substr(f,3)===fr?(C=fr,f+=3):(C=e,ee===0&&ke(jr)),C!==e?(j=mt(),j!==e?(r.charCodeAt(f)===93?(K=xr,f++):(K=e,ee===0&&ke(mr)),K!==e?m=$(j):(f=m,m=e)):(f=m,m=e)):(f=m,m=e),m===e)if(m=f,r.substr(f,2)===_e?(C=_e,f+=2):(C=e,ee===0&&ke(Ur)),C!==e){if(j=f,K=[],ye=pt(),ye!==e)for(;ye!==e;)K.push(ye),ye=pt();else K=e;K!==e?j=r.substring(j,f):j=K,j!==e?m=W(j):(f=m,m=e)}else f=m,m=e;return ee--,m===e&&(C=e,ee===0&&ke(Br)),m}function qt(){var m;return ee++,m=et(),m===e&&(m=null),ee--,ee===0&&ke(Nr),m}function pt(){var m,C,j;if(ee++,m=f,C=[],r.charCodeAt(f)===43?(j=vr,f++):(j=e,ee===0&&ke(ie)),j!==e)for(;j!==e;)C.push(j),r.charCodeAt(f)===43?(j=vr,f++):(j=e,ee===0&&ke(ie));else C=e;return C!==e?m=r.substring(m,f):m=C,ee--,m===e&&(C=e,ee===0&&ke(H)),m}function et(){var m,C,j;if(ee++,m=f,C=[],r.charCodeAt(f)===45?(j=ur,f++):(j=e,ee===0&&ke(Le)),j!==e)for(;j!==e;)C.push(j),r.charCodeAt(f)===45?(j=ur,f++):(j=e,ee===0&&ke(Le));else C=e;return C!==e?m=r.substring(m,f):m=C,ee--,m===e&&(C=e,ee===0&&ke(oe)),m}function mt(){var m,C,j,K;if(ee++,m=f,C=f,j=[],Je.test(r.charAt(f))?(K=r.charAt(f),f++):(K=e,ee===0&&ke(Q)),K!==e)for(;K!==e;)j.push(K),Je.test(r.charAt(f))?(K=r.charAt(f),f++):(K=e,ee===0&&ke(Q));else j=e;return j!==e?C=r.substring(C,f):C=j,C!==e&&(C=q(C)),m=C,ee--,m===e&&(C=e,ee===0&&ke(er)),m}function On(){var m,C,j,K,ye,Ce,br,rn,Ln,Bn;if(ee++,m=f,C=f,j=f,K=f,ye=[],Je.test(r.charAt(f))?(Ce=r.charAt(f),f++):(Ce=e,ee===0&&ke(Q)),Ce!==e)for(;Ce!==e;)ye.push(Ce),Je.test(r.charAt(f))?(Ce=r.charAt(f),f++):(Ce=e,ee===0&&ke(Q));else ye=e;if(ye!==e?K=r.substring(K,f):K=ye,K!==e){if(ye=f,Ce=f,r.charCodeAt(f)===46?(br=$e,f++):(br=e,ee===0&&ke(Wr)),br!==e){for(rn=f,Ln=[],Je.test(r.charAt(f))?(Bn=r.charAt(f),f++):(Bn=e,ee===0&&ke(Q));Bn!==e;)Ln.push(Bn),Je.test(r.charAt(f))?(Bn=r.charAt(f),f++):(Bn=e,ee===0&&ke(Q));rn=r.substring(rn,f),br=[br,rn],Ce=br}else f=Ce,Ce=e;Ce===e&&(Ce=null),ye=r.substring(ye,f),K=[K,ye],j=K}else f=j,j=e;if(j!==e?C=r.substring(C,f):C=j,C===e){if(C=f,j=f,r.charCodeAt(f)===46?(K=$e,f++):(K=e,ee===0&&ke(Wr)),K!==e){if(ye=f,Ce=[],Je.test(r.charAt(f))?(br=r.charAt(f),f++):(br=e,ee===0&&ke(Q)),br!==e)for(;br!==e;)Ce.push(br),Je.test(r.charAt(f))?(br=r.charAt(f),f++):(br=e,ee===0&&ke(Q));else Ce=e;Ce!==e?ye=r.substring(ye,f):ye=Ce,ye!==e?(K=[K,ye],j=K):(f=j,j=e)}else f=j,j=e;j!==e?C=r.substring(C,f):C=j}return C!==e&&(C=Se(C)),m=C,ee--,m===e&&(C=e,ee===0&&ke(Dr)),m}function Wt(){var m;return ee++,m=On(),ee--,m===e&&ee===0&&ke(Mr),m}function Dn(){var m,C,j;return m=On(),m===e&&(m=f,r.charCodeAt(f)===43?(C=vr,f++):(C=e,ee===0&&ke(ie)),C!==e?(j=On(),j!==e?m=Ne(j):(f=m,m=e)):(f=m,m=e),m===e&&(m=f,r.charCodeAt(f)===45?(C=ur,f++):(C=e,ee===0&&ke(Le)),C!==e?(j=On(),j!==e?m=Ae(j):(f=m,m=e)):(f=m,m=e))),m}function ht(){var m,C,j;return ee++,m=f,C=et(),C===e&&(C=null),j=mt(),j!==e?m=_r(C,j):(f=m,m=e),ee--,m===e&&(C=e,ee===0&&ke(G)),m}function dt(){var m,C;if(m=[],kr.test(r.charAt(f))?(C=r.charAt(f),f++):(C=e,ee===0&&ke(N)),C!==e)for(;C!==e;)m.push(C),kr.test(r.charAt(f))?(C=r.charAt(f),f++):(C=e,ee===0&&ke(N));else m=e;return m}function Tn(){var m,C;return m=f,Rr.test(r.charAt(f))?(C=r.charAt(f),f++):(C=e,ee===0&&ke(O)),C!==e&&(C=A(C)),m=C,m}function Gn(){var m,C;return m=f,ee++,r.length>f?(C=r.charAt(f),f++):(C=e,ee===0&&ke(Cr)),ee--,C===e?m=void 0:(f=m,m=e),m}if(en=E(),en!==e&&f===r.length)return en;throw en!==e&&f<r.length&&ke(jn()),An(ar,Oe<r.length?r.charAt(Oe):null,Oe<r.length?$n(Oe,Oe+1):$n(Oe,Oe))}return{SyntaxError:t,parse:l}}(),vc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,E=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,S=this.location.source+":"+E.line+":"+E.column;if(e){var Y=this.location.end,te=s("",E.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+S+`
`+te+` |
`+E.line+" | "+y+`
`+te+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+S}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?E(z[0])+"-"+E(z[1]):E(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function E(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function S(y){return e[y.type](y)}function Y(y){var d=y.map(S),z,$e;if(d.sort(),d.length>0){for(z=1,$e=1;z<d.length;z++)d[z-1]!==d[z]&&(d[$e]=d[z],$e++);d.length=$e}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function te(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+te(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={body:J},E=J,S=hr("decl_start"),Y=hr("decl_end"),te=hr("vert"),y=or(),d=hr("l"),z=hr("r"),$e=hr("c"),fr=hr("p"),xr=hr("m"),_e=hr("b"),vr=hr("w"),ur=hr("W"),yr=hr("X"),Je=hr("!"),kr=hr("@"),Rr=hr("<"),Cr=hr(">"),Pr=hr("group"),Ar=hr("whitespace"),fe=function(A){return A},wr=function(A){return A},Ze=function(){return[]},he=function(A,f,B,Oe,ar){return{type:"column",pre_dividers:A,post_dividers:ar,before_start_code:f,before_end_code:Oe,alignment:B}},Qe=function(){return{type:"vert_divider"}},pr=function(A,f){return{type:"bang_divider",content:f[0].content}},Sr=function(A){return{type:"at_divider",content:A[0].content}},tr=function(A){return A},ue=function(A){return{type:"decl_code",code:A[0].content}},we=function(A){return{type:"decl_code",code:A[0].content}},L=function(){return{type:"alignment",alignment:"left"}},Er=function(){return{type:"alignment",alignment:"center"}},dr=function(){return{type:"alignment",alignment:"right"}},ir=function(){return{type:"alignment",alignment:"X"}},Ue=function(){return"top"},Or=function(){return"default"},Wr=function(){return"bottom"},Hr=function(A,f){return{type:"alignment",alignment:"parbox",baseline:A,size:f[0].content}},Br=function(A,f){return{type:"alignment",alignment:"parbox",baseline:A[0].content,size:f[0].content}},jr=function(A){return a.matchChar(A,"|")},mr=function(A){return a.matchChar(A,"l")},Ur=function(A){return a.matchChar(A,"r")},Nr=function(A){return a.matchChar(A,"c")},H=function(A){return a.matchChar(A,"p")},ie=function(A){return a.matchChar(A,"m")},oe=function(A){return a.matchChar(A,"b")},Le=function(A){return a.matchChar(A,"w")},er=function(A){return a.matchChar(A,"W")},Q=function(A){return a.matchChar(A,"X")},Dr=function(A){return a.matchChar(A,"!")},Mr=function(A){return a.matchChar(A,"@")},G=function(A){return a.matchChar(A,"<")},N=function(A){return a.matchChar(A,">")},O=function(A){return a.isGroup(A)},sr=function(A){return a.isWhitespace(A)},V=0,Me=[{line:1,column:1}],Ge=0,Fe=[],ae=0,Gr;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');E=h[a.startRule]}function or(){return{type:"any"}}function Yr(){return{type:"end"}}function hr(A){return{type:"other",description:A}}function M(A){var f=Me[A],B;if(f)return f;for(B=A-1;!Me[B];)B--;for(f=Me[B],f={line:f.line,column:f.column};B<A;)r.charCodeAt(B)===10?(f.line++,f.column=1):f.column++,B++;return Me[A]=f,f}function w(A,f,B){var Oe=M(A),ar=M(f),ee={source:p,start:{offset:A,line:Oe.line,column:Oe.column},end:{offset:f,line:ar.line,column:ar.column}};return B&&p&&typeof p.offset=="function"&&(ee.start=p.offset(ee.start),ee.end=p.offset(ee.end)),ee}function R(A){V<Ge||(V>Ge&&(Ge=V,Fe=[]),Fe.push(A))}function U(A,f,B){return new t(t.buildMessage(A,f),A,f,B)}function J(){var A,f,B,Oe,ar,ee;if(A=V,f=[],B=V,Oe=Ie(),Oe!==e){for(ar=[],ee=Ae();ee!==e;)ar.push(ee),ee=Ae();B=fe(Oe)}else V=B,B=e;if(B!==e)for(;B!==e;)if(f.push(B),B=V,Oe=Ie(),Oe!==e){for(ar=[],ee=Ae();ee!==e;)ar.push(ee),ee=Ae();B=fe(Oe)}else V=B,B=e;else f=e;return f!==e&&(f=wr(f)),A=f,A===e&&(A=V,f=_r(),f!==e&&(f=Ze()),A=f),A}function Ie(){var A,f,B,Oe,ar,ee,en;for(A=V,f=[],B=ze();B!==e;)f.push(B),B=ze();if(B=qe(),B===e&&(B=null),Oe=Ke(),Oe!==e){for(ar=Ve(),ar===e&&(ar=null),ee=[],en=ze();en!==e;)ee.push(en),en=ze();A=he(f,B,Oe,ar,ee)}else V=A,A=e;return A}function ze(){var A,f,B,Oe,ar;for(A=V,f=[],B=Ae();B!==e;)f.push(B),B=Ae();if(B=V,Oe=rr(),Oe!==e&&(Oe=Qe()),B=Oe,B===e&&(B=V,Oe=$(),Oe!==e?(ar=Ne(),ar!==e?B=pr(Oe,ar):(V=B,B=e)):(V=B,B=e),B===e&&(B=V,Oe=W(),Oe!==e?(ar=Ne(),ar!==e?B=Sr(ar):(V=B,B=e)):(V=B,B=e))),B!==e){for(Oe=[],ar=Ae();ar!==e;)Oe.push(ar),ar=Ae();A=tr(B)}else V=A,A=e;return A}function qe(){var A,f,B;return ae++,A=V,f=Se(),f!==e?(B=Ne(),B!==e?A=ue(B):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(S)),A}function Ve(){var A,f,B;return ae++,A=V,f=q(),f!==e?(B=Ne(),B!==e?A=we(B):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(Y)),A}function Ke(){var A,f,B,Oe,ar,ee;if(A=V,f=je(),f!==e&&(f=L()),A=f,A===e&&(A=V,f=D(),f!==e&&(f=Er()),A=f,A===e&&(A=V,f=lr(),f!==e&&(f=dr()),A=f,A===e&&(A=V,f=We(),f!==e&&(f=ir()),A=f,A===e)))){if(A=V,f=V,B=Z(),B!==e&&(B=Ue()),f=B,f===e&&(f=V,B=xe(),B!==e&&(B=Or()),f=B,f===e&&(f=V,B=Te(),B!==e&&(B=Wr()),f=B)),f!==e){for(B=[],Oe=Ae();Oe!==e;)B.push(Oe),Oe=Ae();Oe=Ne(),Oe!==e?A=Hr(f,Oe):(V=A,A=e)}else V=A,A=e;if(A===e)if(A=V,f=ge(),f===e&&(f=cr()),f!==e){for(B=[],Oe=Ae();Oe!==e;)B.push(Oe),Oe=Ae();if(Oe=Ne(),Oe!==e){for(ar=[],ee=Ae();ee!==e;)ar.push(ee),ee=Ae();ee=Ne(),ee!==e?A=Br(Oe,ee):(V=A,A=e)}else V=A,A=e}else V=A,A=e}return A}function rr(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=jr(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(te)),A}function je(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=mr(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(d)),A}function lr(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=Ur(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(z)),A}function D(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=Nr(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R($e)),A}function Z(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=H(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(fr)),A}function xe(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=ie(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(xr)),A}function Te(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=oe(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(_e)),A}function ge(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=Le(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(vr)),A}function cr(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=er(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(ur)),A}function We(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=Q(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(yr)),A}function $(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=Dr(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(Je)),A}function W(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=Mr(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(kr)),A}function q(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=G(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(Rr)),A}function Se(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=N(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(Cr)),A}function Ne(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=O(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(Pr)),A}function Ae(){var A,f,B;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),f!==e?(B=sr(f),B?B=void 0:B=e,B!==e?(f=[f,B],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&R(Ar)),A}function _r(){var A,f;return A=V,ae++,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&R(y)),ae--,f===e?A=void 0:(V=A,A=e),A}if(!a.isHash)try{Object.assign(a,{matchChar:(A,f)=>A.type==="string"&&A.content===f,isGroup:A=>A.type==="group",isWhitespace:A=>A.type==="whitespace"})}catch(A){console.warn("Error when initializing parser",A)}if(Gr=E(),Gr!==e&&V===r.length)return Gr;throw Gr!==e&&V<r.length&&R(Yr()),U(Fe,Ge<r.length?r.charAt(Ge):null,Ge<r.length?w(Ge,Ge+1):w(Ge,Ge))}return{SyntaxError:t,parse:l}}(),yc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,E=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,S=this.location.source+":"+E.line+":"+E.column;if(e){var Y=this.location.end,te=s("",E.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+S+`
`+te+` |
`+E.line+" | "+y+`
`+te+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+S}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?E(z[0])+"-"+E(z[1]):E(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function E(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function S(y){return e[y.type](y)}function Y(y){var d=y.map(S),z,$e;if(d.sort(),d.length>0){for(z=1,$e=1;z<d.length;z++)d[z-1]!==d[z]&&(d[$e]=d[z],$e++);d.length=$e}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function te(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+te(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={body:or},E=or,S=Me("item"),Y=sr(),te=Me("equation"),y=Me("trailing comment"),d=Me("comment only line"),z=Me("non-var token"),$e=Me("token"),fr=Me("same line comment"),xr=Me("own line comment"),_e=Me(","),vr=Me("@"),ur=Me("variable token"),yr=Me("+/-"),Je=Me("="),kr=function($,W){return $.concat(W||[])},Rr=function(){return[]},Cr=function($,W,q,Se){return{type:"item",op:$,variable:q,content:W.concat(q,Se)}},Pr=function($,W){return{type:"item",op:$,variable:null,content:W}},Ar=function($,W,q){return{...$,sep:[].concat(W),trailingComment:q}},fe=function($,W){return{...$,trailingComment:W}},wr=function($,W){return{type:"line",equation:$,annotation:W,sep:null}},Ze=function($,W){return $?{type:"annotation",marker:$,content:W}:null},he=function($,W,q){return{type:"equation",left:$,right:q,equals:W}},Qe=function($){return $},pr=function($){return{type:"line",trailingComment:$}},Sr=function($,W){return[$].concat(W||[])},tr=function($){return $},ue=function($){return $},we=function($){return $},L=function($){return a.isSameLineComment($)},Er=function($){return $},dr=function($){return a.isOwnLineComment($)},ir=function($){return $},Ue=function($){return a.isWhitespace($)},Or=function($){return $},Wr=function($){return a.isSep($)},Hr=function($){return $},Br=function($){return a.isAt($)},jr=function($){return $},mr=function($){return a.isVar($)},Ur=function($){return $},Nr=function($){return a.isOperation($)},H=function($){return $},ie=function($){return a.isEquals($)},oe=function($){return $},Le=function($){return a.isSubscript($)},er=function($){return $},Q=0,Dr=[{line:1,column:1}],Mr=0,G=[],N=0,O;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');E=h[a.startRule]}function sr(){return{type:"any"}}function V(){return{type:"end"}}function Me($){return{type:"other",description:$}}function Ge($){var W=Dr[$],q;if(W)return W;for(q=$-1;!Dr[q];)q--;for(W=Dr[q],W={line:W.line,column:W.column};q<$;)r.charCodeAt(q)===10?(W.line++,W.column=1):W.column++,q++;return Dr[$]=W,W}function Fe($,W,q){var Se=Ge($),Ne=Ge(W),Ae={source:p,start:{offset:$,line:Se.line,column:Se.column},end:{offset:W,line:Ne.line,column:Ne.column}};return q&&p&&typeof p.offset=="function"&&(Ae.start=p.offset(Ae.start),Ae.end=p.offset(Ae.end)),Ae}function ae($){Q<Mr||(Q>Mr&&(Mr=Q,G=[]),G.push($))}function Gr($,W,q){return new t(t.buildMessage($,W),$,W,q)}function or(){var $,W,q;for($=Q,W=[],q=Ie(),q===e&&(q=hr(),q===e&&(q=M()));q!==e;)W.push(q),q=Ie(),q===e&&(q=hr(),q===e&&(q=M()));return q=w(),q===e&&(q=We()),q!==e?$=kr(W,q):(Q=$,$=e),$===e&&($=Q,W=We(),W!==e&&(W=Rr()),$=W),$}function Yr(){var $,W,q,Se,Ne,Ae,_r,A,f,B;for(N++,$=Q,W=Te(),W===e&&(W=null),q=[],Se=lr();Se!==e;)q.push(Se),Se=lr();for(Se=[],Ne=qe();Ne!==e;)Se.push(Ne),Ne=qe();for(Ne=[],Ae=lr();Ae!==e;)Ne.push(Ae),Ae=lr();if(Ae=ze(),Ae!==e){for(_r=[],A=lr();A!==e;)_r.push(A),A=lr();for(A=[],f=Ke();f!==e;)A.push(f),f=Ke();for(f=[],B=lr();B!==e;)f.push(B),B=lr();$=Cr(W,Se,Ae,A)}else Q=$,$=e;if($===e){for($=Q,W=Te(),W===e&&(W=null),q=[],Se=lr();Se!==e;)q.push(Se),Se=lr();if(Se=[],Ne=qe(),Ne!==e)for(;Ne!==e;)Se.push(Ne),Ne=qe();else Se=e;if(Se!==e){for(Ne=[],Ae=lr();Ae!==e;)Ne.push(Ae),Ae=lr();$=Pr(W,Se)}else Q=$,$=e}return N--,$===e&&(W=e,N===0&&ae(S)),$}function hr(){var $,W,q,Se;return $=Q,W=w(),W!==e?(q=D(),q!==e?(Se=J(),Se===e&&(Se=null),$=Ar(W,q,Se)):(Q=$,$=e)):(Q=$,$=e),$}function M(){var $,W,q;return $=Q,W=w(),W!==e?(q=J(),q!==e?$=fe(W,q):(Q=$,$=e)):(Q=$,$=e),$}function w(){var $,W,q,Se;return $=Q,W=Q,N++,r.length>Q?(q=r.charAt(Q),Q++):(q=e,N===0&&ae(Y)),N--,q!==e?(Q=W,W=void 0):W=e,W!==e?(q=U(),Se=R(),Se===e&&(Se=null),$=wr(q,Se)):(Q=$,$=e),$}function R(){var $,W,q,Se;if($=Q,W=Z(),W!==e){for(q=[],Se=Ve();Se!==e;)q.push(Se),Se=Ve();$=Ze(W,q)}else Q=$,$=e;return $}function U(){var $,W,q,Se,Ne;for(N++,$=Q,W=[],q=Yr();q!==e;)W.push(q),q=Yr();for(q=ge(),q===e&&(q=null),Se=[],Ne=Ke(),Ne===e&&(Ne=Te());Ne!==e;)Se.push(Ne),Ne=Ke(),Ne===e&&(Ne=Te());return $=he(W,q,Se),N--,W=e,N===0&&ae(te),$}function J(){var $,W,q;for(N++,$=Q,W=[],q=lr();q!==e;)W.push(q),q=lr();return q=rr(),q!==e?$=Qe(q):(Q=$,$=e),N--,$===e&&(W=e,N===0&&ae(y)),$}function Ie(){var $,W,q;for(N++,$=Q,W=[],q=lr();q!==e;)W.push(q),q=lr();return q=je(),q!==e?$=pr(q):(Q=$,$=e),N--,$===e&&(W=e,N===0&&ae(d)),$}function ze(){var $,W,q,Se;if($=Q,W=xe(),W!==e){for(q=[],Se=lr();Se!==e;)q.push(Se),Se=lr();Se=cr(),Se===e&&(Se=null),$=Sr(W,Se)}else Q=$,$=e;return $}function qe(){var $,W,q;return N++,$=Q,W=Q,N++,q=ze(),N--,q===e?W=void 0:(Q=W,W=e),W!==e?(q=Ke(),q!==e?$=tr(q):(Q=$,$=e)):(Q=$,$=e),N--,$===e&&(W=e,N===0&&ae(z)),$}function Ve(){var $,W,q;return $=Q,W=Q,N++,q=D(),q===e&&(q=J(),q===e&&(q=je())),N--,q===e?W=void 0:(Q=W,W=e),W!==e?(r.length>Q?(q=r.charAt(Q),Q++):(q=e,N===0&&ae(Y)),q!==e?$=ue(q):(Q=$,$=e)):(Q=$,$=e),$}function Ke(){var $,W,q;return N++,$=Q,W=Q,N++,q=D(),q===e&&(q=Z(),q===e&&(q=Te(),q===e&&(q=ge(),q===e&&(q=J(),q===e&&(q=je()))))),N--,q===e?W=void 0:(Q=W,W=e),W!==e?(r.length>Q?(q=r.charAt(Q),Q++):(q=e,N===0&&ae(Y)),q!==e?$=we(q):(Q=$,$=e)):(Q=$,$=e),N--,$===e&&(W=e,N===0&&ae($e)),$}function rr(){var $,W,q;return N++,$=Q,r.length>Q?(W=r.charAt(Q),Q++):(W=e,N===0&&ae(Y)),W!==e?(q=L(W),q?q=void 0:q=e,q!==e?$=Er(W):(Q=$,$=e)):(Q=$,$=e),N--,$===e&&(W=e,N===0&&ae(fr)),$}function je(){var $,W,q;return N++,$=Q,r.length>Q?(W=r.charAt(Q),Q++):(W=e,N===0&&ae(Y)),W!==e?(q=dr(W),q?q=void 0:q=e,q!==e?$=ir(W):(Q=$,$=e)):(Q=$,$=e),N--,$===e&&(W=e,N===0&&ae(xr)),$}function lr(){var $,W,q;return $=Q,r.length>Q?(W=r.charAt(Q),Q++):(W=e,N===0&&ae(Y)),W!==e?(q=Ue(W),q?q=void 0:q=e,q!==e?$=Or(W):(Q=$,$=e)):(Q=$,$=e),$}function D(){var $,W,q;return N++,$=Q,r.length>Q?(W=r.charAt(Q),Q++):(W=e,N===0&&ae(Y)),W!==e?(q=Wr(W),q?q=void 0:q=e,q!==e?$=Hr(W):(Q=$,$=e)):(Q=$,$=e),N--,$===e&&(W=e,N===0&&ae(_e)),$}function Z(){var $,W,q;return N++,$=Q,r.length>Q?(W=r.charAt(Q),Q++):(W=e,N===0&&ae(Y)),W!==e?(q=Br(W),q?q=void 0:q=e,q!==e?$=jr(W):(Q=$,$=e)):(Q=$,$=e),N--,$===e&&(W=e,N===0&&ae(vr)),$}function xe(){var $,W,q;return N++,$=Q,r.length>Q?(W=r.charAt(Q),Q++):(W=e,N===0&&ae(Y)),W!==e?(q=mr(W),q?q=void 0:q=e,q!==e?$=Ur(W):(Q=$,$=e)):(Q=$,$=e),N--,$===e&&(W=e,N===0&&ae(ur)),$}function Te(){var $,W,q,Se,Ne;for(N++,$=Q,W=[],q=lr();q!==e;)W.push(q),q=lr();if(r.length>Q?(q=r.charAt(Q),Q++):(q=e,N===0&&ae(Y)),q!==e){for(Se=[],Ne=lr();Ne!==e;)Se.push(Ne),Ne=lr();Ne=Nr(q),Ne?Ne=void 0:Ne=e,Ne!==e?$=H(q):(Q=$,$=e)}else Q=$,$=e;return N--,$===e&&(W=e,N===0&&ae(yr)),$}function ge(){var $,W,q;return N++,$=Q,r.length>Q?(W=r.charAt(Q),Q++):(W=e,N===0&&ae(Y)),W!==e?(q=ie(W),q?q=void 0:q=e,q!==e?$=oe(W):(Q=$,$=e)):(Q=$,$=e),N--,$===e&&(W=e,N===0&&ae(Je)),$}function cr(){var $,W,q;return $=Q,r.length>Q?(W=r.charAt(Q),Q++):(W=e,N===0&&ae(Y)),W!==e?(q=Le(W),q?q=void 0:q=e,q!==e?$=er(W):(Q=$,$=e)):(Q=$,$=e),$}function We(){var $,W;return $=Q,N++,r.length>Q?(W=r.charAt(Q),Q++):(W=e,N===0&&ae(Y)),N--,W===e?$=void 0:(Q=$,$=e),$}if(!a.isWhitespace)try{Object.assign(a,{isSep:$=>$.type==="string"&&$.content===",",isVar:$=>$.type==="string"&&$.content.match(/[a-zA-Z]/),isOperation:$=>$.type==="string"&&$.content.match(/[+-]/),isEquals:$=>$.type==="string"&&$.content==="=",isAt:$=>$.type==="string"&&$.content==="@",isSubscript:$=>$.content==="_",isWhitespace:$=>$.type==="whitespace",isSameLineComment:$=>$.type==="comment"&&$.sameline,isOwnLineComment:$=>$.type==="comment"&&!$.sameline})}catch($){console.warn("Error when initializing parser",$)}if(O=E(),O!==e&&Q===r.length)return O;throw O!==e&&Q<r.length&&ae(V()),Gr(G,Mr<r.length?r.charAt(Mr):null,Mr<r.length?Fe(Mr,Mr+1):Fe(Mr,Mr))}return{SyntaxError:t,parse:l}}(),bc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,E=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,S=this.location.source+":"+E.line+":"+E.column;if(e){var Y=this.location.end,te=s("",E.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+S+`
`+te+` |
`+E.line+" | "+y+`
`+te+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+S}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?E(z[0])+"-"+E(z[1]):E(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function E(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function S(y){return e[y.type](y)}function Y(y){var d=y.map(S),z,$e;if(d.sort(),d.length>0){for(z=1,$e=1;z<d.length;z++)d[z-1]!==d[z]&&(d[$e]=d[z],$e++);d.length=$e}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function te(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+te(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={root:ze},E=ze,S="plus",Y="minus",te="pt",y="mm",d="cm",z="in",$e="ex",fr="em",xr="bp",_e="pc",vr="dd",ur="cc",yr="nd",Je="nc",kr="sp",Rr="filll",Cr="fill",Pr="fil",Ar=".",fe="+",wr="-",Ze=/^[0-9]/,he=hr(),Qe=or("plus",!1),pr=or("minus",!1),Sr=or("pt",!1),tr=or("mm",!1),ue=or("cm",!1),we=or("in",!1),L=or("ex",!1),Er=or("em",!1),dr=or("bp",!1),ir=or("pc",!1),Ue=or("dd",!1),Or=or("cc",!1),Wr=or("nd",!1),Hr=or("nc",!1),Br=or("sp",!1),jr=or("filll",!1),mr=or("fill",!1),Ur=or("fil",!1),Nr=w("number"),H=Yr([["0","9"]],!1,!1),ie=or(".",!1),oe=or("+",!1),Le=or("-",!1),er=function(Z,xe,Te){return{type:"glue",fixed:Z,stretchable:xe,shrinkable:Te,position:Gr()}},Q=function(Z){return Z},Dr=function(Z,xe){return{type:"dim",value:Z,unit:xe}},Mr=function(Z,xe){return{type:"dim",value:Z,unit:xe}},G=function(Z,xe){return{type:"dim",value:Z,unit:xe}},N=function(Z){return parseFloat(Z)},O=0,sr=0,V=[{line:1,column:1}],Me=0,Ge=[],Fe=0,ae;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');E=h[a.startRule]}function Gr(){return U(sr,O)}function or(Z,xe){return{type:"literal",text:Z,ignoreCase:xe}}function Yr(Z,xe,Te){return{type:"class",parts:Z,inverted:xe,ignoreCase:Te}}function hr(){return{type:"any"}}function M(){return{type:"end"}}function w(Z){return{type:"other",description:Z}}function R(Z){var xe=V[Z],Te;if(xe)return xe;for(Te=Z-1;!V[Te];)Te--;for(xe=V[Te],xe={line:xe.line,column:xe.column};Te<Z;)r.charCodeAt(Te)===10?(xe.line++,xe.column=1):xe.column++,Te++;return V[Z]=xe,xe}function U(Z,xe,Te){var ge=R(Z),cr=R(xe),We={source:p,start:{offset:Z,line:ge.line,column:ge.column},end:{offset:xe,line:cr.line,column:cr.column}};return Te&&p&&typeof p.offset=="function"&&(We.start=p.offset(We.start),We.end=p.offset(We.end)),We}function J(Z){O<Me||(O>Me&&(Me=O,Ge=[]),Ge.push(Z))}function Ie(Z,xe,Te){return new t(t.buildMessage(Z,xe),Z,xe,Te)}function ze(){var Z,xe,Te,ge,cr;if(Z=O,xe=O,Te=qe(),Te!==e?(ge=Ve(),ge===e&&(ge=null),cr=Ke(),cr===e&&(cr=null),sr=xe,xe=er(Te,ge,cr)):(O=xe,xe=e),xe!==e){for(Te=[],r.length>O?(ge=r.charAt(O),O++):(ge=e,Fe===0&&J(he));ge!==e;)Te.push(ge),r.length>O?(ge=r.charAt(O),O++):(ge=e,Fe===0&&J(he));sr=Z,Z=Q(xe)}else O=Z,Z=e;return Z}function qe(){var Z,xe,Te;return Z=O,xe=lr(),xe!==e?(Te=rr(),Te!==e?(sr=Z,Z=Dr(xe,Te)):(O=Z,Z=e)):(O=Z,Z=e),Z}function Ve(){var Z,xe,Te,ge;return Z=O,r.substr(O,4)===S?(xe=S,O+=4):(xe=e,Fe===0&&J(Qe)),xe!==e?(Te=lr(),Te!==e?(ge=je(),ge!==e?(sr=Z,Z=Mr(Te,ge)):(O=Z,Z=e)):(O=Z,Z=e)):(O=Z,Z=e),Z}function Ke(){var Z,xe,Te,ge;return Z=O,r.substr(O,5)===Y?(xe=Y,O+=5):(xe=e,Fe===0&&J(pr)),xe!==e?(Te=lr(),Te!==e?(ge=je(),ge!==e?(sr=Z,Z=G(Te,ge)):(O=Z,Z=e)):(O=Z,Z=e)):(O=Z,Z=e),Z}function rr(){var Z;return r.substr(O,2)===te?(Z=te,O+=2):(Z=e,Fe===0&&J(Sr)),Z===e&&(r.substr(O,2)===y?(Z=y,O+=2):(Z=e,Fe===0&&J(tr)),Z===e&&(r.substr(O,2)===d?(Z=d,O+=2):(Z=e,Fe===0&&J(ue)),Z===e&&(r.substr(O,2)===z?(Z=z,O+=2):(Z=e,Fe===0&&J(we)),Z===e&&(r.substr(O,2)===$e?(Z=$e,O+=2):(Z=e,Fe===0&&J(L)),Z===e&&(r.substr(O,2)===fr?(Z=fr,O+=2):(Z=e,Fe===0&&J(Er)),Z===e&&(r.substr(O,2)===xr?(Z=xr,O+=2):(Z=e,Fe===0&&J(dr)),Z===e&&(r.substr(O,2)===_e?(Z=_e,O+=2):(Z=e,Fe===0&&J(ir)),Z===e&&(r.substr(O,2)===vr?(Z=vr,O+=2):(Z=e,Fe===0&&J(Ue)),Z===e&&(r.substr(O,2)===ur?(Z=ur,O+=2):(Z=e,Fe===0&&J(Or)),Z===e&&(r.substr(O,2)===yr?(Z=yr,O+=2):(Z=e,Fe===0&&J(Wr)),Z===e&&(r.substr(O,2)===Je?(Z=Je,O+=2):(Z=e,Fe===0&&J(Hr)),Z===e&&(r.substr(O,2)===kr?(Z=kr,O+=2):(Z=e,Fe===0&&J(Br)))))))))))))),Z}function je(){var Z;return Z=rr(),Z===e&&(r.substr(O,5)===Rr?(Z=Rr,O+=5):(Z=e,Fe===0&&J(jr)),Z===e&&(r.substr(O,4)===Cr?(Z=Cr,O+=4):(Z=e,Fe===0&&J(mr)),Z===e&&(r.substr(O,3)===Pr?(Z=Pr,O+=3):(Z=e,Fe===0&&J(Ur))))),Z}function lr(){var Z,xe,Te,ge,cr,We,$,W,q;for(Fe++,Z=O,xe=O,Te=O,ge=D(),ge===e&&(ge=null),cr=O,We=[],Ze.test(r.charAt(O))?($=r.charAt(O),O++):($=e,Fe===0&&J(H));$!==e;)We.push($),Ze.test(r.charAt(O))?($=r.charAt(O),O++):($=e,Fe===0&&J(H));if(r.charCodeAt(O)===46?($=Ar,O++):($=e,Fe===0&&J(ie)),$!==e){if(W=[],Ze.test(r.charAt(O))?(q=r.charAt(O),O++):(q=e,Fe===0&&J(H)),q!==e)for(;q!==e;)W.push(q),Ze.test(r.charAt(O))?(q=r.charAt(O),O++):(q=e,Fe===0&&J(H));else W=e;W!==e?(We=[We,$,W],cr=We):(O=cr,cr=e)}else O=cr,cr=e;if(cr===e)if(cr=[],Ze.test(r.charAt(O))?(We=r.charAt(O),O++):(We=e,Fe===0&&J(H)),We!==e)for(;We!==e;)cr.push(We),Ze.test(r.charAt(O))?(We=r.charAt(O),O++):(We=e,Fe===0&&J(H));else cr=e;return cr!==e?(ge=[ge,cr],Te=ge):(O=Te,Te=e),Te!==e?xe=r.substring(xe,O):xe=Te,xe!==e&&(sr=Z,xe=N(xe)),Z=xe,Fe--,Z===e&&(xe=e,Fe===0&&J(Nr)),Z}function D(){var Z;return r.charCodeAt(O)===43?(Z=fe,O++):(Z=e,Fe===0&&J(oe)),Z===e&&(r.charCodeAt(O)===45?(Z=wr,O++):(Z=e,Fe===0&&J(Le))),Z}if(ae=E(),ae!==e&&O===r.length)return ae;throw ae!==e&&O<r.length&&J(M()),Ie(Ge,Me<r.length?r.charAt(Me):null,Me<r.length?U(Me,Me+1):U(Me,Me))}return{SyntaxError:t,parse:l}}(),$c=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,E=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,S=this.location.source+":"+E.line+":"+E.column;if(e){var Y=this.location.end,te=s("",E.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+S+`
`+te+` |
`+E.line+" | "+y+`
`+te+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+S}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?E(z[0])+"-"+E(z[1]):E(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function E(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function S(y){return e[y.type](y)}function Y(y){var d=y.map(S),z,$e;if(d.sort(),d.length>0){for(z=1,$e=1;z<d.length;z++)d[z-1]!==d[z]&&(d[$e]=d[z],$e++);d.length=$e}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function te(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+te(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={path_spec:D,foreach_body:Te},E=D,S=ze(),Y=Ve("comment"),te=Ve("floating comment"),y=Ve("operation"),d=Ve("="),z=function(g){return g},$e=function(g){return{type:"path_spec",content:g}},fr=function(g,P,F){return{op:P,comment:F}},xr=function(g,P,F,pe){let le=[g,...P.map(b=>b.comment),F].filter(b=>b),me=P.map(b=>b.op.content.content).join(" ");return{type:"animation",comments:le,attribute:me,content:pe.content}},_e=function(g,P){return{...P,start:g,type:"foreach"}},vr=function(g,P,F,pe,le,me,b,T){let ne=[g,pe,le,b].filter(ce=>ce);return{type:"foreach_body",variables:P,options:F&&F.content,list:me,command:T,comments:ne}},ur=function(g,P,F,pe){let le=[g,F].filter(me=>me);return{type:"svg_operation",options:P&&P.content,content:pe,comments:le}},yr=function(g,P,F,pe,le,me){return{coord:me,comment:le}},Je=function(g,P,F,pe,le,me){let b=[g,P,pe,le&&le.comment,me].filter(T=>T);return{type:"curve_to",controls:le?[F,le.coord]:[F],comments:b}},kr=function(){return{type:"line_to",command:"|-"}},Rr=function(){return{type:"line_to",command:"-|"}},Cr=function(){return{type:"line_to",command:"--"}},Pr=function(g,P){return{type:"coordinate",content:P,prefix:g}},Ar=function(g){return{type:"square_brace_group",content:g}},fe=function(g){return{type:"unknown",content:g}},wr=function(g){return a.isComment(g)},Ze=function(g){return g},he=function(g){return a.isWhitespace(g)},Qe=function(g){return g},pr=function(g){return g},Sr=function(g){return a.isOperation(g)},tr=function(g){return{type:"operation",content:g}},ue=function(g){return a.isChar(g,"=")},we=function(g){return g},L=function(g){return a.isChar(g,"[")},Er=function(g){return g},dr=function(g){return a.isChar(g,"]")},ir=function(g){return g},Ue=function(g){return a.isChar(g,"(")},Or=function(g){return g},Wr=function(g){return a.isChar(g,")")},Hr=function(g){return g},Br=function(g){return a.isChar(g,"+")},jr=function(g){return g},mr=function(g){return a.isChar(g,"-")},Ur=function(g){return g},Nr=function(g){return a.isChar(g,"|")},H=function(g){return g},ie=function(g){return a.isChar(g,".")},oe=function(g){return g},Le=function(g){return a.isChar(g,"controls")},er=function(g){return g},Q=function(g){return a.isChar(g,"and")},Dr=function(g){return g},Mr=function(g){return a.isChar(g,"svg")},G=function(g){return g},N=function(g){return a.isGroup(g)},O=function(g){return g},sr=function(g){return a.isAnyMacro(g)},V=function(g){return g},Me=function(g){return a.isChar(g,"foreach")},Ge=function(g){return g},Fe=function(g){return a.isMacro(g,"foreach")},ae=function(g){return g},Gr=function(g){return a.isChar(g,"in")},or=function(g){return g},Yr=function(g){return a.isChar(g,":")},hr=function(g){return g},M=0,w=[{line:1,column:1}],R=0,U=[],J=0,Ie;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');E=h[a.startRule]}function ze(){return{type:"any"}}function qe(){return{type:"end"}}function Ve(g){return{type:"other",description:g}}function Ke(g){var P=w[g],F;if(P)return P;for(F=g-1;!w[F];)F--;for(P=w[F],P={line:P.line,column:P.column};F<g;)r.charCodeAt(F)===10?(P.line++,P.column=1):P.column++,F++;return w[g]=P,P}function rr(g,P,F){var pe=Ke(g),le=Ke(P),me={source:p,start:{offset:g,line:pe.line,column:pe.column},end:{offset:P,line:le.line,column:le.column}};return F&&p&&typeof p.offset=="function"&&(me.start=p.offset(me.start),me.end=p.offset(me.end)),me}function je(g){M<R||(M>R&&(R=M,U=[]),U.push(g))}function lr(g,P,F){return new t(t.buildMessage(g,P),g,P,F)}function D(){var g,P,F,pe,le,me;if(g=M,P=[],F=M,pe=W(),pe===e&&(pe=$(),pe===e&&(pe=cr(),pe===e&&(pe=We(),pe===e&&(pe=ge(),pe===e&&(pe=xe(),pe===e&&(pe=A(),pe===e&&(pe=Ne(),pe===e&&(pe=Z(),pe===e&&(pe=Se()))))))))),pe!==e){for(le=[],me=Ae();me!==e;)le.push(me),me=Ae();F=z(pe)}else M=F,F=e;if(F!==e)for(;F!==e;)if(P.push(F),F=M,pe=W(),pe===e&&(pe=$(),pe===e&&(pe=cr(),pe===e&&(pe=We(),pe===e&&(pe=ge(),pe===e&&(pe=xe(),pe===e&&(pe=A(),pe===e&&(pe=Ne(),pe===e&&(pe=Z(),pe===e&&(pe=Se()))))))))),pe!==e){for(le=[],me=Ae();me!==e;)le.push(me),me=Ae();F=z(pe)}else M=F,F=e;else P=e;return P!==e&&(P=$e(P)),g=P,g}function Z(){var g,P,F,pe,le,me,b;if(g=M,P=tn(),P!==e){if(F=_r(),pe=[],le=M,me=A(),me!==e?(b=_r(),le=fr(F,me,b)):(M=le,le=e),le!==e)for(;le!==e;)pe.push(le),le=M,me=A(),me!==e?(b=_r(),le=fr(F,me,b)):(M=le,le=e);else pe=e;pe!==e?(le=f(),le!==e?(me=_r(),b=$n(),b!==e?g=xr(F,pe,me,b):(M=g,g=e)):(M=g,g=e)):(M=g,g=e)}else M=g,g=e;return g}function xe(){var g,P,F;return g=M,P=An(),P===e&&(P=wn()),P!==e?(F=Te(),F!==e?g=_e(P,F):(M=g,g=e)):(M=g,g=e),g}function Te(){var g,P,F,pe,le,me,b,T,ne,ce;for(g=M,P=_r(),F=M,pe=[],le=M,me=M,J++,b=on(),b===e&&(b=W()),J--,b===e?me=void 0:(M=me,me=e),me!==e?(r.length>M?(b=r.charAt(M),M++):(b=e,J===0&&je(S)),b!==e?(me=[me,b],le=me):(M=le,le=e)):(M=le,le=e);le!==e;)pe.push(le),le=M,me=M,J++,b=on(),b===e&&(b=W()),J--,b===e?me=void 0:(M=me,me=e),me!==e?(r.length>M?(b=r.charAt(M),M++):(b=e,J===0&&je(S)),b!==e?(me=[me,b],le=me):(M=le,le=e)):(M=le,le=e);return F=r.substring(F,M),pe=W(),pe===e&&(pe=null),le=_r(),me=on(),me!==e?(b=_r(),T=$n(),T===e&&(T=ke()),T!==e?(ne=_r(),ce=xe(),ce===e&&(ce=$n(),ce===e&&(ce=ke())),ce!==e?g=vr(P,F,pe,le,b,T,ne,ce):(M=g,g=e)):(M=g,g=e)):(M=g,g=e),g}function ge(){var g,P,F,pe,le,me;return g=M,P=Fn(),P!==e?(F=_r(),pe=W(),pe===e&&(pe=null),le=_r(),me=$n(),me!==e?g=ur(F,pe,le,me):(M=g,g=e)):(M=g,g=e),g}function cr(){var g,P,F,pe,le,me,b,T,ne,ce,Pe;return g=M,P=q(),P!==e?(F=_r(),pe=jn(),pe!==e?(le=_r(),me=$(),me!==e?(b=_r(),T=M,ne=Ir(),ne!==e?(ce=_r(),Pe=$(),Pe!==e?T=yr(F,le,me,b,ce,Pe):(M=T,T=e)):(M=T,T=e),T===e&&(T=null),ne=_r(),ce=q(),ce!==e?g=Je(F,le,me,b,T,ne):(M=g,g=e)):(M=g,g=e)):(M=g,g=e)):(M=g,g=e),g}function We(){var g,P,F;return g=M,P=bn(),P!==e?(F=Xr(),F!==e?g=kr():(M=g,g=e)):(M=g,g=e),g===e&&(g=M,P=Xr(),P!==e?(F=bn(),F!==e?g=Rr():(M=g,g=e)):(M=g,g=e),g===e&&(g=M,P=Xr(),P!==e?(F=Xr(),F!==e?g=Cr():(M=g,g=e)):(M=g,g=e))),g}function $(){var g,P,F,pe,le,me,b,T;if(g=M,P=M,F=M,pe=en(),pe!==e?(le=en(),le===e&&(le=null),pe=[pe,le],F=pe):(M=F,F=e),F===e&&(F=null),P=r.substring(P,M),F=ar(),F!==e){for(pe=M,le=[],me=M,b=M,J++,T=ee(),J--,T===e?b=void 0:(M=b,b=e),b!==e?(r.length>M?(T=r.charAt(M),M++):(T=e,J===0&&je(S)),T!==e?(b=[b,T],me=b):(M=me,me=e)):(M=me,me=e);me!==e;)le.push(me),me=M,b=M,J++,T=ee(),J--,T===e?b=void 0:(M=b,b=e),b!==e?(r.length>M?(T=r.charAt(M),M++):(T=e,J===0&&je(S)),T!==e?(b=[b,T],me=b):(M=me,me=e)):(M=me,me=e);pe=r.substring(pe,M),le=ee(),le!==e?g=Pr(P,pe):(M=g,g=e)}else M=g,g=e;return g}function W(){var g,P,F,pe,le,me,b;if(g=M,P=B(),P!==e){for(F=M,pe=[],le=M,me=M,J++,b=Oe(),J--,b===e?me=void 0:(M=me,me=e),me!==e?(r.length>M?(b=r.charAt(M),M++):(b=e,J===0&&je(S)),b!==e?(me=[me,b],le=me):(M=le,le=e)):(M=le,le=e);le!==e;)pe.push(le),le=M,me=M,J++,b=Oe(),J--,b===e?me=void 0:(M=me,me=e),me!==e?(r.length>M?(b=r.charAt(M),M++):(b=e,J===0&&je(S)),b!==e?(me=[me,b],le=me):(M=le,le=e)):(M=le,le=e);F=r.substring(F,M),pe=Oe(),pe!==e?g=Ar(F):(M=g,g=e)}else M=g,g=e;return g}function q(){var g,P,F;return g=M,P=Sn(),P!==e?(F=Sn(),F!==e?(P=[P,F],g=P):(M=g,g=e)):(M=g,g=e),g}function Se(){var g,P;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e&&(P=fe(P)),g=P,g}function Ne(){var g,P,F;return J++,g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=wr(P),F?F=void 0:F=e,F!==e?g=Ze(P):(M=g,g=e)):(M=g,g=e),J--,g===e&&(P=e,J===0&&je(Y)),g}function Ae(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=he(P),F?F=void 0:F=e,F!==e?g=Qe(P):(M=g,g=e)):(M=g,g=e),g}function _r(){var g,P,F,pe,le;for(J++,g=M,P=[],F=Ae();F!==e;)P.push(F),F=Ae();for(F=Ne(),F===e&&(F=null),pe=[],le=Ae();le!==e;)pe.push(le),le=Ae();return g=pr(F),J--,P=e,J===0&&je(te),g}function A(){var g,P,F;return J++,g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=Sr(P),F?F=void 0:F=e,F!==e?g=tr(P):(M=g,g=e)):(M=g,g=e),J--,g===e&&(P=e,J===0&&je(y)),g}function f(){var g,P,F;return J++,g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=ue(P),F?F=void 0:F=e,F!==e?g=we(P):(M=g,g=e)):(M=g,g=e),J--,g===e&&(P=e,J===0&&je(d)),g}function B(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=L(P),F?F=void 0:F=e,F!==e?g=Er(P):(M=g,g=e)):(M=g,g=e),g}function Oe(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=dr(P),F?F=void 0:F=e,F!==e?g=ir(P):(M=g,g=e)):(M=g,g=e),g}function ar(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=Ue(P),F?F=void 0:F=e,F!==e?g=Or(P):(M=g,g=e)):(M=g,g=e),g}function ee(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=Wr(P),F?F=void 0:F=e,F!==e?g=Hr(P):(M=g,g=e)):(M=g,g=e),g}function en(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=Br(P),F?F=void 0:F=e,F!==e?g=jr(P):(M=g,g=e)):(M=g,g=e),g}function Xr(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=mr(P),F?F=void 0:F=e,F!==e?g=Ur(P):(M=g,g=e)):(M=g,g=e),g}function bn(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=Nr(P),F?F=void 0:F=e,F!==e?g=H(P):(M=g,g=e)):(M=g,g=e),g}function Sn(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=ie(P),F?F=void 0:F=e,F!==e?g=oe(P):(M=g,g=e)):(M=g,g=e),g}function jn(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=Le(P),F?F=void 0:F=e,F!==e?g=er(P):(M=g,g=e)):(M=g,g=e),g}function Ir(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=Q(P),F?F=void 0:F=e,F!==e?g=Dr(P):(M=g,g=e)):(M=g,g=e),g}function Fn(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=Mr(P),F?F=void 0:F=e,F!==e?g=G(P):(M=g,g=e)):(M=g,g=e),g}function $n(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=N(P),F?F=void 0:F=e,F!==e?g=O(P):(M=g,g=e)):(M=g,g=e),g}function ke(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=sr(P),F?F=void 0:F=e,F!==e?g=V(P):(M=g,g=e)):(M=g,g=e),g}function An(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=Me(P),F?F=void 0:F=e,F!==e?g=Ge(P):(M=g,g=e)):(M=g,g=e),g}function wn(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=Fe(P),F?F=void 0:F=e,F!==e?g=ae(P):(M=g,g=e)):(M=g,g=e),g}function on(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=Gr(P),F?F=void 0:F=e,F!==e?g=or(P):(M=g,g=e)):(M=g,g=e),g}function tn(){var g,P,F;return g=M,r.length>M?(P=r.charAt(M),M++):(P=e,J===0&&je(S)),P!==e?(F=Yr(P),F?F=void 0:F=e,F!==e?g=hr(P):(M=g,g=e)):(M=g,g=e),g}if(!a.isWhitespace)try{Object.assign(a,{isChar:(g,P)=>g.type==="string"&&g.content===P,isOperation:g=>g.type==="string"&&g.content.match(/[a-zA-Z]/),isWhitespace:g=>g.type==="whitespace"||g.type==="parbreak",isSameLineComment:g=>g.type==="comment"&&g.sameline,isOwnLineComment:g=>g.type==="comment"&&!g.sameline,isComment:g=>g.type==="comment",isGroup:g=>g.type==="group",isMacro:(g,P)=>g.type==="macro"&&g.content===P,isAnyMacro:g=>g.type==="macro"})}catch(g){console.warn("Error when initializing parser",g)}if(Ie=E(),Ie!==e&&M===r.length)return Ie;throw Ie!==e&&M<r.length&&je(qe()),lr(U,R<r.length?r.charAt(R):null,R<r.length?rr(R,R+1):rr(R,R))}return{SyntaxError:t,parse:l}}(),oi=Ml;var Ka=_l;var li={};function yn(n=""){return li[n]=li[n]||Ka.parse(n),li[n]}var gf=Zt(pi(),1),pf=Zt(pi(),1);function Kn(n,t,s){let{startIndex:l,onlySkipWhitespaceAndComments:r,allowSubstringMatches:a}=s||{};typeof t=="string"&&(t={type:"string",content:t});for(let e=l||0;e<n.length;e++){let p=n[e];if(p.type===t.type)switch(p.type){case"comment":case"displaymath":case"inlinemath":case"root":case"parbreak":case"whitespace":case"verb":case"verbatim":case"group":return e;case"macro":if(p.content===t.content)return e;break;case"environment":case"mathenv":if(vn(p.env)===vn(t.env))return e;break;case"string":if(p.content===t.content||a&&p.content.indexOf(t.content)>=0)return e;break}if(r&&!be.whitespace(p)&&!be.comment(p))return null}return null}function cn(n,t,s=0){if(typeof t=="string"||!t.type)throw new Error(`argSpec must be an already-parsed argument specification, not "${JSON.stringify(t)}"`);let l=null,r=s,a=t.noLeadingWhitespace?()=>{}:()=>{for(;r<n.length&&be.whitespace(n[r]);)r++},e=t.openBrace||"",p=t.closeBrace||"",h=(t.type==="mandatory"||t.type==="optional")&&e==="{"&&p==="}";a();let E=n[r];if(E==null||be.comment(E)||be.parbreak(E))return{argument:l,nodesRemoved:0};switch(t.type){case"mandatory":if(h){let te=[E];be.group(E)&&(te=E.content),l=qr(te,{openMark:e,closeMark:p}),r++;break}else{let te=ft(n,r,e,p);if(te){l=qr(n.slice(te[0]+1,te[1]),{openMark:e,closeMark:p}),r=te[1]+1;break}}case"optional":if(h&&be.group(E)){l=qr(E.content,{openMark:e,closeMark:p}),r++;break}let Y=ft(n,r,e,p);if(Y){l=qr(n.slice(Y[0]+1,Y[1]),{openMark:e,closeMark:p}),r=Y[1]+1;break}break;case"optionalStar":case"optionalToken":{let te=ft(n,r,t.type==="optionalStar"?"*":t.token);te&&(l=qr(E,{openMark:"",closeMark:""}),r=te[0]+1);break}case"until":{if(t.stopTokens.length>1){console.warn('"until" matches with multi-token stop conditions are not yet implemented');break}let te=t.stopTokens[0],d=ft(n,s,void 0,te===" "?{type:"whitespace"}:te);if(!d)break;l=qr(n.slice(s,d[1]),{openMark:"",closeMark:te}),r=d[1],r<n.length&&r++;break}case"embellishment":{for(let te of t.embellishmentTokens){let y=ft(n,r,te);if(!y)continue;let d=n[y[0]+1];l=qr(be.group(d)?d.content:d,{openMark:te,closeMark:""}),r=y[1]+1;break}break}default:console.warn(`Don't know how to find an argument of argspec type "${t.type}"`)}let S=l?r-s:0;return n.splice(s,S),{argument:l,nodesRemoved:S}}function Rt(n,t){return Object.assign({},n,{content:t})}function ft(n,t,s,l){let r=n[t],a=t,e=t;if(s){if(!be.anyString(r)||!r.content.startsWith(s))return;if(a=t,r.content.length>s.length){let E=r.content;r.content=s,n.splice(a+1,0,Rt(r,E.slice(s.length)))}e=a+1}if(!l){let h=n[e];if(!h)return;if(be.anyString(h)&&h.content.length>1){let E=h.content;h.content=E[0],n.splice(e+1,0,Rt(h,E.slice(1)))}return[a,e]}if(e=Kn(n,l,{startIndex:e,allowSubstringMatches:!0}),e===null)return;let p=n[e];if(be.anyString(p)&&typeof l=="string"){let h=p.content,E=h.indexOf(l);if(h.length>l.length){p.content=l;let S=h.slice(0,E),Y=h.slice(E+l.length);S&&(n.splice(e,0,Rt(p,S)),e++),Y&&n.splice(e+1,0,Rt(p,Y))}}return[a,e]}function Yn(n,t,s=0){if(typeof t=="function")return t(n,s);typeof t=="string"&&(t=yn(t));let l=[],r=0;for(let a of t)if(a.type==="embellishment"){let e=new Set(a.embellishmentTokens),p=Object.fromEntries(a.embellishmentTokens.map((S,Y)=>{var te;let y="defaultArg"in a?(te=a.defaultArg)==null?void 0:te[Y]:void 0;return[S,ms(y)]})),{argument:h,nodesRemoved:E}=cn(n,ps(e),s);for(;h;){let S=h.openMark;e.delete(S),p[S]=h,r+=E;let Y=ps(e);({argument:h,nodesRemoved:E}=cn(n,Y,s))}l.push(...a.embellishmentTokens.map(S=>p[S]))}else{let{argument:e,nodesRemoved:p}=cn(n,a,s),h="defaultArg"in a?a.defaultArg:void 0;l.push(e||ms(h)),r+=p}return{args:l,nodesRemoved:r}}function ps(n){return{type:"embellishment",embellishmentTokens:[...n]}}function ms(n){let t=qr([],{openMark:"",closeMark:""});return n!=null&&zn(t,{defaultArg:n}),t}function Zn(n,t){let s,l=be.createMacroMatcher(t);function r(){for(;s>=0&&!l(n[s]);)s--}for(s=n.length-1;s>=0;){if(r(),s<0)return;let a=s,e=n[a],p=e.content,h=t[p];zn(e,h.renderInfo);let E=h.argumentParser||h.signature;if(E==null){s--;continue}if(e.args!=null){s=a-1;continue}s++;let{args:S}=Yn(n,E,s);e.args=S,s=a-1}}var hs=function(t){return s=>{let{macros:l={}}=t||{};Object.keys(l).length===0&&console.warn("Attempting to attach macro arguments but no macros are specified."),sn(s,r=>{Zn(r,l)},{includeArrays:!0,test:Array.isArray})}};var mf=yn("m")[0],hf=yn("o")[0],mi={},df=(n,t)=>{let{argument:s,nodesRemoved:l}=cn(n,hf,t),r=null,a=0,e=n[t];if(be.group(e)){let p=cn(n,mf,t);r=p.argument,a=p.nodesRemoved}else if(be.string(e)&&e.content.length===1){let p=e.content;mi[p]=mi[p]||yn(`r${p}${p}`)[0];let h=cn(n,mi[p],t);r=h.argument,a=h.nodesRemoved}return{args:[s||qr(null),r||qr(null)],nodesRemoved:l+a}},ds={lstset:{signature:"m"},lstinline:{argumentParser:df},lstinputlisting:{signature:"o m"},lstdefinestyle:{signature:"m m"},lstnewenvironment:{signature:"m o o m m"},lstMakeShortInline:{signature:"o m"},lstDeleteShortInline:{signature:"m"},lstdefineformat:{signature:"m m"},lstdefinelanguage:{signature:"o m o m o"},lstalias:{signature:"o m o m"},lstloadlanguages:{signature:"m"}},vs={};var ys={see:{signature:"m m"},seealso:{signature:"m m"},seename:{signature:"m"},alsoname:{signature:"m"},index:{signature:"m"}},bs={};var $s={mathtoolsset:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},mathllap:{signature:"o m"},mathrlap:{signature:"o m"},mathclap:{signature:"o m"},clap:{signature:"m"},mathmbox:{signature:"m"},mathmakebox:{signature:"o o m"},cramped:{signature:"o m"},crampedllap:{signature:"o m"},crampedrlap:{signature:"o m"},crampedclap:{signature:"o m"},crampedsubstack:{signature:"o m"},smashoperator:{signature:"o m"},newtagform:{signature:"m o m m"},renewtagform:{signature:"m o m m"},usetagform:{signature:"m"},xleftrightarrow:{signature:"o m"},xLeftarrow:{signature:"o m"},xhookleftarrow:{signature:"o m"},xmapsto:{signature:"o m"},xRightarrow:{signature:"o m"},xLeftrightarrow:{signature:"o m"},xhookrightarrow:{signature:"o m"},underbracket:{signature:"o o m"},overbracket:{signature:"o o m"},underbrace:{signature:"m"},overbrace:{signature:"m"},shoveleft:{signature:"o m"},shoveright:{signature:"o m"},ArrowBetweenLines:{signature:"s o"},vdotswithin:{signature:"m"},shortdotswithin:{signature:"s m"},DeclarePairedDelimiter:{signature:"m m m",renderInfo:{breakAround:!0}},DeclarePairedDelimiterX:{signature:"m o m m m",renderInfo:{breakAround:!0}},DeclarePairedDelimiterXPP:{signature:"m o m m m m m",renderInfo:{breakAround:!0}},prescript:{signature:"m m m"},DeclareMathSizes:{signature:"m m m m"},newgathered:{signature:"m m m m"},renewgathered:{signature:"m m m m"},splitfrac:{signature:"m m"},splitdfrac:{signature:"m m"},xmathstrut:{signature:"o m"},newtheorem:{signature:"s m o m o",renderInfo:{breakAround:!0}},theoremstyle:{signature:"m",renderInfo:{breakAround:!0}},newtheoremstyle:{signature:"m m m m m m m m m",renderInfo:{breakAround:!0}},text:{signature:"m",renderInfo:{inMathMode:!1}},mathbb:{signature:"m"},mathscr:{signature:"m"},mathfrak:{signature:"m"},frak:{signature:"m"},Bdd:{signature:"m"},bold:{signature:"m"},operatorname:{signature:"s m"},DeclareMathOperator:{signature:"s m m",renderInfo:{breakAround:!0}}},As={crampedsubarray:{signature:"m",renderInfo:{alignContent:!0,inMathMode:!0}},matrix:{renderInfo:{alignContent:!0,inMathMode:!0}},bmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},pmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},vmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Bmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Vmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},smallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},psmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},vsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},bsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Bsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Vsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},"matrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"bmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"pmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"vmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Bmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Vmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"smallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"psmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"bsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"vsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Bsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Vsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},multilined:{signature:"o o",renderInfo:{inMathMode:!0}},cases:{renderInfo:{alignContent:!0,inMathMode:!0}},"cases*":{renderInfo:{alignContent:!0,inMathMode:!0}},dcases:{renderInfo:{alignContent:!0,inMathMode:!0}},"dcases*":{renderInfo:{alignContent:!0,inMathMode:!0}},rcases:{renderInfo:{alignContent:!0,inMathMode:!0}},"rcases*":{renderInfo:{alignContent:!0,inMathMode:!0}},drcases:{renderInfo:{alignContent:!0,inMathMode:!0}},"drcases*":{renderInfo:{alignContent:!0,inMathMode:!0}},spreadlines:{signature:"m",renderInfo:{inMathMode:!0}},lgathered:{signature:"o",renderInfo:{inMathMode:!0}},rgathered:{signature:"o",renderInfo:{inMathMode:!0}},"align*":{renderInfo:{inMathMode:!0,alignContent:!0}},align:{renderInfo:{inMathMode:!0,alignContent:!0}},aligned:{renderInfo:{inMathMode:!0,alignContent:!0}},"alignat*":{renderInfo:{inMathMode:!0,alignContent:!0}},alignat:{renderInfo:{inMathMode:!0,alignContent:!0}},"equation*":{renderInfo:{inMathMode:!0}},equation:{renderInfo:{inMathMode:!0}},"gather*":{renderInfo:{inMathMode:!0}},gather:{renderInfo:{inMathMode:!0}},"multline*":{renderInfo:{inMathMode:!0}},multline:{renderInfo:{inMathMode:!0}},"flalign*":{renderInfo:{inMathMode:!0,alignContent:!0}},flalign:{renderInfo:{inMathMode:!0,alignContent:!0}},split:{renderInfo:{inMathMode:!0}},displaymath:{renderInfo:{inMathMode:!0}},theorem:{signature:"o"},lemma:{signature:"o"},definition:{signature:"o"},proposition:{signature:"o"},corollary:{signature:"o"},remark:{signature:"!o"},example:{signature:"!o"},proof:{signature:"o"}};var xs=yn("m")[0],vf=yn("o")[0],hi={},di=(n,t)=>{let{argument:s,nodesRemoved:l}=cn(n,vf,t),{argument:r,nodesRemoved:a}=cn(n,xs,t),e=null,p=0,h=n[t];if(be.group(h)){let E=cn(n,xs,t);e=E.argument,p=E.nodesRemoved}else if(be.string(h)&&h.content.length===1){let E=h.content;hi[E]=hi[E]||yn(`r${E}${E}`)[0];let S=cn(n,hi[E],t);e=S.argument,p=S.nodesRemoved}return{args:[s||qr(null),r||qr(null),e||qr(null)],nodesRemoved:l+a+p}},ws={mint:{argumentParser:di},mintinline:{argumentParser:di},inputminted:{argumentParser:di},usemintedstyle:{signature:"m"},setminted:{signature:"o m"},setmintedinline:{signature:"o m"},newmint:{signature:"o m m"},newminted:{signature:"o m m"},newmintinline:{signature:"o m m"},newmintedfile:{signature:"o m m"}},ks={minted:{signature:"o m"}};var Cs={NiceMatrixOptions:{signature:"m",renderInfo:{pgfkeysArgs:!0,breakAround:!0}}},Es={NiceTabular:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceMatrixBlock:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceArrayWithDelims:{signature:"m m o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},pNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},bNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},BNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},vNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},VNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},pNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},bNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},BNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},vNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},VNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}}};var Ms={systeme:{signature:"s o o m",renderInfo:{inMathMode:!0}},sysdelim:{signature:"m m"},syseqsep:{signature:"m"},sysalign:{signature:"m"},syssignspace:{signature:"m"},syseqspace:{signature:"m"},syslineskipcoeff:{signature:"m"},syseqivsign:{signature:"m"},sysaddeqsign:{signature:"m"},sysremoveeqsign:{signature:"m"},sysextracolonsign:{signature:"m"},syscodeextracol:{signature:"m"},sysautonum:{signature:"m"},syssubstitute:{signature:"m"}},_s={};(function(){typeof globalThis!="object"&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var Kc=typeof globalThis.structuredClone=="function"?globalThis.structuredClone:n=>JSON.parse(JSON.stringify(n));var yf=yn("o")[0];function Ot(){return qr([],{openMark:"",closeMark:""})}var Is=(n,t)=>{let s=t,l=t,r=0,a=bf(n,l),e=Ot();if(a!==l){let te=n.splice(l,a-l);Mn(te),e=qr(te,{openMark:" ",closeMark:" "})}r+=a-l;let{argument:p,nodesRemoved:h}=cn(n,yf,l);r+=h;let E=p||Ot();for(;be.whitespace(n[l]);)l++;let S=n[l];if(!S)return{args:[e,E,Ot()],nodesRemoved:0};if(be.group(S)){let te=[e,E,qr(S.content)];return n.splice(s,l-s+1),{args:te,nodesRemoved:l-s+1+r}}let Y=Kn(n,";",{startIndex:l});if(Y!=null){let te=n.splice(s,Y-s+1);return Mn(te),{args:[e,E,qr(te)],nodesRemoved:s-Y+1+r}}return{args:[e,E,Ot()],nodesRemoved:0}};function bf(n,t){let s=Kn(n,":",{startIndex:t,allowSubstringMatches:!0,onlySkipWhitespaceAndComments:!0});if(!s)return t;let l=t,r=s+1;for(;r<n.length;r++){let a=n[r];if(be.string(a,"["))break;if(be.string(a,"=")){for(r++;be.whitespace(n[r])||be.comment(n[r]);)r++;if(!be.group(n[r]))break;l=r+1;let e=Kn(n,":",{startIndex:l,allowSubstringMatches:!0,onlySkipWhitespaceAndComments:!0});if(e==null)break;r=e+1}}return l}var Ps={pgfkeys:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},tikzoption:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},tikzstyle:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},usetikzlibrary:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},usepgfmodule:{signature:"m",renderInfo:{pgfkeysArgs:!0}},usepgflibrary:{signature:"m",renderInfo:{pgfkeysArgs:!0}},pgfplotsset:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},pgfplotstabletypeset:{signature:"o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},tikz:{signature:"o o m",argumentParser:Is,renderInfo:{namedArguments:["animation","options","command"]}}},Ss={tikzpicture:{signature:"o",renderInfo:{pgfkeysArgs:!0,tikzEnvironment:!0},processContent:Pn},axis:{signature:"o",renderInfo:{pgfkeysArgs:!0,tikzEnvironment:!0},processContent:Pn},scope:{signature:"o",renderInfo:{pgfkeysArgs:!0,tikzEnvironment:!0},processContent:Pn},pgfonlayer:{signature:"m",renderInfo:{tikzEnvironment:!0},processContent:Pn},pgflowlevelscope:{signature:"m",renderInfo:{tikzEnvironment:!0},processContent:Pn},pgfviewboxscope:{signature:"m m m m m",renderInfo:{tikzEnvironment:!0},processContent:Pn},pgftransparencygroup:{signature:"o",renderInfo:{pgfkeysArgs:!0,tikzEnvironment:!0},processContent:Pn},behindforegroundpath:{signature:"m",processContent:Pn},pgfmetadecoration:{signature:"m",processContent:Pn},colormixin:{signature:"m",renderInfo:{pgfkeysArgs:!0}}};function Pn(n){return Zn(n,$f),n}var $f={pgfextra:{signature:"m"},beginpgfgraphicnamed:{signature:"m"},pgfrealjobname:{signature:"m"},pgfplotstreampoint:{signature:"m"},pgfplotstreampointoutlier:{signature:"m"},pgfplotstreamspecial:{signature:"m"},pgfplotxyfile:{signature:"m"},pgfplotxyzfile:{signature:"m"},pgfplotfunction:{signature:"mmm"},pgfplotgnuplot:{signature:"o m"},pgfplothandlerrecord:{signature:"m"},pgfdeclareplothandler:{signature:"m m m"},pgfdeclarelayer:{signature:"m"},pgfsetlayers:{signature:"m",renderInfo:{pgfkeysArgs:!0}},pgfonlayer:{signature:"m"},startpgfonlayer:{signature:"m"},pgfdeclarehorizontalshading:{signature:"o m m m "},pgfdeclareradialshading:{signature:"o m m m"},pgfdeclarefunctionalshading:{signature:"o m m m m m"},pgfshadecolortorgb:{signature:"m m"},pgfshadecolortocmyk:{signature:"m m"},pgfshadecolortogray:{signature:"m m"},pgfuseshading:{signature:"m"},pgfshadepath:{signature:"m m"},pgfsetadditionalshadetransform:{signature:"m"},pgfsetstrokeopacity:{signature:"m"},pgfsetfillopacity:{signature:"m"},pgfsetblendmode:{signature:"m"},pgfdeclarefading:{signature:"m m"},pgfsetfading:{signature:"m m"},pgfsetfadingforcurrentpath:{signature:"m m"},pgfsetfadingforcurrentpathstroked:{signature:"m m"},pgfanimateattribute:{signature:"m m"},pgfsnapshot:{signature:"m"},pgfqpoint:{signature:"m m"},pgfqpointxy:{signature:"m m"},pgfqpointxyz:{signature:"m m m"},pgfqpointscale:{signature:"m m"},pgfpathqmoveto:{signature:"m m"},pgfpathqlineto:{signature:"m m"},pgfpathqcurveto:{signature:"m m m m m m"},pgfpathqcircle:{signature:"m"},pgfqbox:{signature:"m"},pgfqboxsynced:{signature:"m"},pgfaliasimage:{signature:"m m"},pgfuseimage:{signature:"m"},pgfimage:{signature:"o m",renderInfo:{pgfkeysArgs:!0}},pgfdeclaremask:{signature:"o m m",renderInfo:{pgfkeysArgs:!0}},pgfdeclarepatternformonly:{signature:"o m m m m m"},pgfdeclarepatterninherentlycolored:{signature:"o m m m m m"},pgfsetfillpattern:{signature:"m m"},pgftransformshift:{signature:"m"},pgftransformxshift:{signature:"m"},pgftransformyshift:{signature:"m"},pgftransformscale:{signature:"m"},pgftransformxscale:{signature:"m"},pgftransformyscale:{signature:"m"},pgftransformxslant:{signature:"m"},pgftransformyslant:{signature:"m"},pgftransformrotate:{signature:"m"},pgftransformtriangle:{signature:"m m m"},pgftransformcm:{signature:"m m m m m"},pgftransformarrow:{signature:"m m"},pgftransformlineattime:{signature:"m m m"},pgftransformcurveattime:{signature:"m m m m m"},pgftransformarcaxesattime:{signature:"m m m m m m"},pgfgettransform:{signature:"m"},pgfsettransform:{signature:"m"},pgfgettransformentries:{signature:"m m m m m m"},pgfsettransformentries:{signature:"m m m m m m"},pgfpointtransformed:{signature:"m"},pgflowlevel:{signature:"m"},pgflowlevelobj:{signature:"m m"},pgflowlevelscope:{signature:"m"},startpgflowlevelscope:{signature:"m"},pgfviewboxscope:{signature:"m m m m m"},startpgfviewboxscope:{signature:"m m m m m"},pgftransformnonlinear:{signature:"m"},pgfpointtransformednonlinear:{signature:"m"},pgfsetcurvilinearbeziercurve:{signature:"m m m m"},pgfcurvilineardistancetotime:{signature:"m"},pgfpointcurvilinearbezierorthogonal:{signature:"m m"},pgfpointcurvilinearbezierpolar:{signature:"m m"},pgfmatrix:{signature:"m m m m m m m"},pgfsetmatrixcolumnsep:{signature:"m"},pgfmatrixnextcell:{signature:"o"},pgfsetmatrixrowsep:{signature:"m"},pgfmatrixendrow:{signature:"o"},pgfnode:{signature:"m m m m m"},pgfmultipartnode:{signature:"m m m m"},pgfcoordinate:{signature:"m m"},pgfnodealias:{signature:"m m"},pgfnoderename:{signature:"m m"},pgfpositionnodelater:{signature:"m"},pgfpositionnodenow:{signature:"m"},pgfnodepostsetupcode:{signature:"m m"},pgfpointanchor:{signature:"m m"},pgfpointshapeborder:{signature:"m m"},pgfdeclareshape:{signature:"m m"},saveddimen:{signature:"m m"},savedmacro:{signature:" m"},anchor:{signature:"m m"},deferredanchor:{signature:"m m"},anchorborder:{signature:"m"},backgroundpath:{signature:"m"},foregroundpath:{signature:"m"},behindbackgroundpath:{signature:"m"},beforebackgroundpath:{signature:"m"},beforeforegroundpath:{signature:"m"},behindforegroundpath:{signature:"m"},pgfdeclarearrow:{signature:"m"},pgfarrowssettipend:{signature:"m"},pgfarrowssetbackend:{signature:"m"},pgfarrowssetlineend:{signature:"m"},pgfarrowssetvisualbackend:{signature:"m"},pgfarrowssetvisualtipend:{signature:"m"},pgfarrowshullpoint:{signature:"m m"},pgfarrowsupperhullpoint:{signature:"m m"},pgfarrowssave:{signature:"m"},pgfarrowssavethe:{signature:"m"},pgfarrowsaddtooptions:{signature:"m"},pgfarrowsaddtolateoptions:{signature:"m"},pgfarrowsaddtolengthscalelist:{signature:"m"},pgfarrowsaddtowidthscalelist:{signature:"m"},pgfarrowsthreeparameters:{signature:"m"},pgfarrowslinewidthdependent:{signature:"m m m"},pgfarrowslengthdependent:{signature:"m"},pgfusepath:{signature:"m"},pgfsetlinewidth:{signature:"m"},pgfsetmiterlimit:{signature:"m"},pgfsetdash:{signature:"m m"},pgfsetstrokecolor:{signature:"m"},pgfsetcolor:{signature:"m"},pgfsetinnerlinewidth:{signature:"m"},pgfsetinnerstrokecolor:{signature:"m"},pgfsetarrowsstart:{signature:"m"},pgfsetarrowsend:{signature:"m"},pgfsetarrows:{signature:"m"},pgfsetshortenstart:{signature:"m"},pgfsetshortenend:{signature:"m"},pgfsetfillcolor:{signature:"m"},pgfdeclaredecoration:{signature:"m m m"},state:{signature:"m o m"},pgfdecoratepath:{signature:"m m"},startpgfdecoration:{signature:"m"},pgfdecoration:{signature:"m"},pgfdecoratecurrentpath:{signature:"m"},pgfsetdecorationsegmenttransformation:{signature:"m"},pgfdeclaremetadecorate:{signature:"m m m"},pgfmetadecoration:{signature:"m"},startpgfmetadecoration:{signature:"m"},pgfpathmoveto:{signature:"m"},pgfpathlineto:{signature:"m"},pgfpathcurveto:{signature:"m m m"},pgfpathquadraticcurveto:{signature:"m m"},pgfpathcurvebetweentime:{signature:"m m m m m m"},pgfpathcurvebetweentimecontinue:{signature:"m m m m m m"},pgfpatharc:{signature:"m m m"},pgfpatharcaxes:{signature:"m m m m"},pgfpatharcto:{signature:"m m m m m m"},pgfpatharctoprecomputed:{signature:"m m m m m m m m"},pgfpathellipse:{signature:"m m m"},pgfpathcircle:{signature:"m m"},pgfpathrectangle:{signature:"m m"},pgfpathrectanglecorners:{signature:"m m"},pgfpathgrid:{signature:" o m m"},pgfpathparabola:{signature:"m m"},pgfpathsine:{signature:"m"},pgfpathcosine:{signature:"m"},pgfsetcornersarced:{signature:"m"},"pgf@protocolsizes":{signature:"m m"},pgfpoint:{signature:"m m"},pgfpointpolar:{signature:"m m m"},pgfpointxy:{signature:"m m"},pgfsetxvec:{signature:"m"},pgfsetyvec:{signature:"m"},pgfpointpolarxy:{signature:"m m"},pgfpointxyz:{signature:"m m m"},pgfsetzvec:{signature:"m"},pgfpointcylindrical:{signature:"m m m"},pgfpointspherical:{signature:"m m m"},pgfpointadd:{signature:"m m"},pgfpointscale:{signature:"m m"},pgfpointdiff:{signature:"m m"},pgfpointnormalised:{signature:"m"},pgfpointlineattime:{signature:"m m m"},pgfpointlineatdistance:{signature:"m m m"},pgfpointarcaxesattime:{signature:"m m m m m m"},pgfpointcurveattime:{signature:"m m m m m"},pgfpointborderrectangle:{signature:"m m"},pgfpointborderellipse:{signature:"m m"},pgfpointintersectionoflines:{signature:"m m m m"},pgfpointintersectionofcircles:{signature:"m m m m m"},pgfintersectionofpaths:{signature:"m m"},pgfpointintersectionsolution:{signature:"m"},pgfextractx:{signature:"m m"},pgfextracty:{signature:"m m"},pgfgetlastxy:{signature:"m m"},"pgf@process":{signature:"m"},pgfsetbaseline:{signature:"m"},pgfsetbaselinepointnow:{signature:"m"},pgfsetbaselinepointlater:{signature:"m"},pgftext:{signature:"o m",renderInfo:{pgfkeysArgs:!0}},pgfuseid:{signature:"m"},pgfusetype:{signature:"m"},pgfidrefnextuse:{signature:"m m"},pgfidrefprevuse:{signature:"m m"},pgfaliasid:{signature:"m m"},pgfgaliasid:{signature:"m m"},pgfifidreferenced:{signature:"m m m"},pgfrdfabout:{signature:"m"},pgfrdfcontent:{signature:"m"},pgfrdfdatatype:{signature:"m"},pgfrdfhref:{signature:"m"},pgfrdfprefix:{signature:"m"},pgfrdfproperty:{signature:"m"},pgfrdfrel:{signature:"m"},pgfrdfresource:{signature:"m"},pgfrdfrev:{signature:"m"},pgfrdfsrc:{signature:"m"},pgfrdftypeof:{signature:"m"},pgfrdfvocab:{signature:"m"},pgferror:{signature:"m"},pgfwarning:{signature:"m"},path:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},draw:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},fill:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},filldraw:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},pattern:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},shade:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},clip:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},useasboundingbox:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},node:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},coordinate:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},graph:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},scoped:{signature:"o o m",argumentParser:Is,renderInfo:{namedArguments:["animation","options","command"],breakAround:!0}}};function Af(){return{isChar:be.string,isTerminal:n=>be.string(n,";"),isOperation:n=>be.anyString(n)&&n.content.match(/[a-zA-Z]/),isWhitespace:n=>be.whitespace(n)||be.parbreak(n),isComment:be.comment,isGroup:be.group,isMacro:be.macro,isAnyMacro:be.anyMacro}}var ug=Af();var Ee=Zt(js(),1);var Gs={substitutecolormodel:{signature:"m m",renderInfo:{breakAround:!0}},selectcolormodel:{signature:"m",renderInfo:{breakAround:!0}},definecolor:{signature:"o m m m",renderInfo:{breakAround:!0}},providecolor:{signature:"o m m m",renderInfo:{breakAround:!0}},colorlet:{signature:"o m o m",renderInfo:{breakAround:!0}},definecolorset:{signature:"o m m m",renderInfo:{breakAround:!0}},providecolorset:{signature:"o m m m m",renderInfo:{breakAround:!0}},preparecolor:{signature:"o m m m",renderInfo:{breakAround:!0}},preparecolorset:{signature:"o m m m m",renderInfo:{breakAround:!0}},DefineNamedColor:{signature:"m m m m",renderInfo:{breakAround:!0}},definecolors:{signature:"m",renderInfo:{breakAround:!0}},providecolors:{signature:"m",renderInfo:{breakAround:!0}},color:{signature:"o m",renderInfo:{breakAround:!0}},textcolor:{signature:"o m m",renderInfo:{inParMode:!0}},pagecolor:{signature:"o m"},colorbox:{signature:"o m m"},fcolorbox:{signature:"o m o m m"},boxframe:{signature:"o m"},testcolor:{signature:"o m"},blendcolors:{signature:"s m"},maskcolors:{signature:"o m"},definecolorseries:{signature:"m m m o m o m",renderInfo:{breakAround:!0}},resetcolorseries:{signature:"o m",renderInfo:{breakAround:!0}},rowcolors:{signature:"s o m m m"},extractcolorspec:{signature:"m m"},extractcolorspecs:{signature:"m m m"},convertcolorspec:{signature:"m m m m"}},zs={testcolors:{signature:"o",renderInfo:{pgfkeysArgs:!0}}},c=([n,t,s])=>(0,Ee.default)([n*255,t*255,s*255],"rgb"),Of={Apricot:(0,Ee.default)("#FBB982"),Aquamarine:(0,Ee.default)("#00B5BE"),Bittersweet:(0,Ee.default)("#C04F17"),Black:(0,Ee.default)("#221E1F"),Blue:(0,Ee.default)("#2D2F92"),BlueGreen:(0,Ee.default)("#00B3B8"),BlueViolet:(0,Ee.default)("#473992"),BrickRed:(0,Ee.default)("#B6321C"),Brown:(0,Ee.default)("#792500"),BurntOrange:(0,Ee.default)("#F7921D"),CadetBlue:(0,Ee.default)("#74729A"),CarnationPink:(0,Ee.default)("#F282B4"),Cerulean:(0,Ee.default)("#00A2E3"),CornflowerBlue:(0,Ee.default)("#41B0E4"),Cyan:(0,Ee.default)("#00AEEF"),Dandelion:(0,Ee.default)("#FDBC42"),DarkOrchid:(0,Ee.default)("#A4538A"),Emerald:(0,Ee.default)("#00A99D"),ForestGreen:(0,Ee.default)("#009B55"),Fuchsia:(0,Ee.default)("#8C368C"),Goldenrod:(0,Ee.default)("#FFDF42"),Gray:(0,Ee.default)("#949698"),Green:(0,Ee.default)("#00A64F"),GreenYellow:(0,Ee.default)("#DFE674"),JungleGreen:(0,Ee.default)("#00A99A"),Lavender:(0,Ee.default)("#F49EC4"),LimeGreen:(0,Ee.default)("#8DC73E"),Magenta:(0,Ee.default)("#EC008C"),Mahogany:(0,Ee.default)("#A9341F"),Maroon:(0,Ee.default)("#AF3235"),Melon:(0,Ee.default)("#F89E7B"),MidnightBlue:(0,Ee.default)("#006795"),Mulberry:(0,Ee.default)("#A93C93"),NavyBlue:(0,Ee.default)("#006EB8"),OliveGreen:(0,Ee.default)("#3C8031"),Orange:(0,Ee.default)("#F58137"),OrangeRed:(0,Ee.default)("#ED135A"),Orchid:(0,Ee.default)("#AF72B0"),Peach:(0,Ee.default)("#F7965A"),Periwinkle:(0,Ee.default)("#7977B8"),PineGreen:(0,Ee.default)("#008B72"),Plum:(0,Ee.default)("#92268F"),ProcessBlue:(0,Ee.default)("#00B0F0"),Purple:(0,Ee.default)("#99479B"),RawSienna:(0,Ee.default)("#974006"),Red:(0,Ee.default)("#ED1B23"),RedOrange:(0,Ee.default)("#F26035"),RedViolet:(0,Ee.default)("#A1246B"),Rhodamine:(0,Ee.default)("#EF559F"),RoyalBlue:(0,Ee.default)("#0071BC"),RoyalPurple:(0,Ee.default)("#613F99"),RubineRed:(0,Ee.default)("#ED017D"),Salmon:(0,Ee.default)("#F69289"),SeaGreen:(0,Ee.default)("#3FBC9D"),Sepia:(0,Ee.default)("#671800"),SkyBlue:(0,Ee.default)("#46C5DD"),SpringGreen:(0,Ee.default)("#C6DC67"),Tan:(0,Ee.default)("#DA9D76"),TealBlue:(0,Ee.default)("#00AEB3"),Thistle:(0,Ee.default)("#D883B7"),Turquoise:(0,Ee.default)("#00B4CE"),Violet:(0,Ee.default)("#58429B"),VioletRed:(0,Ee.default)("#EF58A0"),White:(0,Ee.default)("#FFFFFF"),WildStrawberry:(0,Ee.default)("#EE2967"),Yellow:(0,Ee.default)("#FFF200"),YellowGreen:(0,Ee.default)("#98CC70"),YellowOrange:(0,Ee.default)("#FAA21A")},Df={AliceBlue:c([.94,.972,1]),AntiqueWhite:c([.98,.92,.844]),Aqua:c([0,1,1]),Aquamarine:c([.498,1,.83]),Azure:c([.94,1,1]),Beige:c([.96,.96,.864]),Bisque:c([1,.894,.77]),Black:c([0,0,0]),BlanchedAlmond:c([1,.92,.804]),Blue:c([0,0,1]),BlueViolet:c([.54,.17,.888]),Brown:c([.648,.165,.165]),BurlyWood:c([.87,.72,.53]),CadetBlue:c([.372,.62,.628]),Chartreuse:c([.498,1,0]),Chocolate:c([.824,.41,.116]),Coral:c([1,.498,.312]),CornflowerBlue:c([.392,.585,.93]),Cornsilk:c([1,.972,.864]),Crimson:c([.864,.08,.235]),Cyan:c([0,1,1]),DarkBlue:c([0,0,.545]),DarkCyan:c([0,.545,.545]),DarkGoldenrod:c([.72,.525,.044]),DarkGray:c([.664,.664,.664]),DarkGreen:c([0,.392,0]),DarkGrey:c([.664,.664,.664]),DarkKhaki:c([.74,.716,.42]),DarkMagenta:c([.545,0,.545]),DarkOliveGreen:c([.332,.42,.185]),DarkOrange:c([1,.55,0]),DarkOrchid:c([.6,.196,.8]),DarkRed:c([.545,0,0]),DarkSalmon:c([.912,.59,.48]),DarkSeaGreen:c([.56,.736,.56]),DarkSlateBlue:c([.284,.24,.545]),DarkSlateGray:c([.185,.31,.31]),DarkSlateGrey:c([.185,.31,.31]),DarkTurquoise:c([0,.808,.82]),DarkViolet:c([.58,0,.828]),DeepPink:c([1,.08,.576]),DeepSkyBlue:c([0,.75,1]),DimGray:c([.41,.41,.41]),DimGrey:c([.41,.41,.41]),DodgerBlue:c([.116,.565,1]),FireBrick:c([.698,.132,.132]),FloralWhite:c([1,.98,.94]),ForestGreen:c([.132,.545,.132]),Fuchsia:c([1,0,1]),Gainsboro:c([.864,.864,.864]),GhostWhite:c([.972,.972,1]),Gold:c([1,.844,0]),Goldenrod:c([.855,.648,.125]),Gray:c([.5,.5,.5]),Green:c([0,.5,0]),GreenYellow:c([.68,1,.185]),Grey:c([.5,.5,.5]),Honeydew:c([.94,1,.94]),HotPink:c([1,.41,.705]),IndianRed:c([.804,.36,.36]),Indigo:c([.294,0,.51]),Ivory:c([1,1,.94]),Khaki:c([.94,.9,.55]),Lavender:c([.9,.9,.98]),LavenderBlush:c([1,.94,.96]),LawnGreen:c([.488,.99,0]),LemonChiffon:c([1,.98,.804]),LightBlue:c([.68,.848,.9]),LightCoral:c([.94,.5,.5]),LightCyan:c([.88,1,1]),LightGoldenrod:c([.933,.867,.51]),LightGoldenrodYellow:c([.98,.98,.824]),LightGray:c([.828,.828,.828]),LightGreen:c([.565,.932,.565]),LightGrey:c([.828,.828,.828]),LightPink:c([1,.712,.756]),LightSalmon:c([1,.628,.48]),LightSeaGreen:c([.125,.698,.668]),LightSkyBlue:c([.53,.808,.98]),LightSlateBlue:c([.518,.44,1]),LightSlateGray:c([.468,.532,.6]),LightSlateGrey:c([.468,.532,.6]),LightSteelBlue:c([.69,.77,.87]),LightYellow:c([1,1,.88]),Lime:c([0,1,0]),LimeGreen:c([.196,.804,.196]),Linen:c([.98,.94,.9]),Magenta:c([1,0,1]),Maroon:c([.5,0,0]),MediumAquamarine:c([.4,.804,.668]),MediumBlue:c([0,0,.804]),MediumOrchid:c([.73,.332,.828]),MediumPurple:c([.576,.44,.86]),MediumSeaGreen:c([.235,.7,.444]),MediumSlateBlue:c([.484,.408,.932]),MediumSpringGreen:c([0,.98,.604]),MediumTurquoise:c([.284,.82,.8]),MediumVioletRed:c([.78,.084,.52]),MidnightBlue:c([.098,.098,.44]),MintCream:c([.96,1,.98]),MistyRose:c([1,.894,.884]),Moccasin:c([1,.894,.71]),NavajoWhite:c([1,.87,.68]),Navy:c([0,0,.5]),NavyBlue:c([0,0,.5]),OldLace:c([.992,.96,.9]),Olive:c([.5,.5,0]),OliveDrab:c([.42,.556,.136]),Orange:c([1,.648,0]),OrangeRed:c([1,.27,0]),Orchid:c([.855,.44,.84]),PaleGoldenrod:c([.932,.91,.668]),PaleGreen:c([.596,.985,.596]),PaleTurquoise:c([.688,.932,.932]),PaleVioletRed:c([.86,.44,.576]),PapayaWhip:c([1,.936,.835]),PeachPuff:c([1,.855,.725]),Peru:c([.804,.52,.248]),Pink:c([1,.752,.796]),Plum:c([.868,.628,.868]),PowderBlue:c([.69,.88,.9]),Purple:c([.5,0,.5]),Red:c([1,0,0]),RosyBrown:c([.736,.56,.56]),RoyalBlue:c([.255,.41,.884]),SaddleBrown:c([.545,.27,.075]),Salmon:c([.98,.5,.448]),SandyBrown:c([.956,.644,.376]),SeaGreen:c([.18,.545,.34]),Seashell:c([1,.96,.932]),Sienna:c([.628,.32,.176]),Silver:c([.752,.752,.752]),SkyBlue:c([.53,.808,.92]),SlateBlue:c([.415,.352,.804]),SlateGray:c([.44,.5,.565]),SlateGrey:c([.44,.5,.565]),Snow:c([1,.98,.98]),SpringGreen:c([0,1,.498]),SteelBlue:c([.275,.51,.705]),Tan:c([.824,.705,.55]),Teal:c([0,.5,.5]),Thistle:c([.848,.75,.848]),Tomato:c([1,.39,.28]),Turquoise:c([.25,.88,.815]),Violet:c([.932,.51,.932]),VioletRed:c([.816,.125,.565]),Wheat:c([.96,.87,.7]),White:c([1,1,1]),WhiteSmoke:c([.96,.96,.96]),Yellow:c([1,1,0]),YellowGreen:c([.604,.804,.196])},Tf={AntiqueWhite1:c([1,.936,.86]),AntiqueWhite2:c([.932,.875,.8]),AntiqueWhite3:c([.804,.752,.69]),AntiqueWhite4:c([.545,.512,.47]),Aquamarine1:c([.498,1,.83]),Aquamarine2:c([.464,.932,.776]),Aquamarine3:c([.4,.804,.668]),Aquamarine4:c([.27,.545,.455]),Azure1:c([.94,1,1]),Azure2:c([.88,.932,.932]),Azure3:c([.756,.804,.804]),Azure4:c([.512,.545,.545]),Bisque1:c([1,.894,.77]),Bisque2:c([.932,.835,.716]),Bisque3:c([.804,.716,.62]),Bisque4:c([.545,.49,.42]),Blue1:c([0,0,1]),Blue2:c([0,0,.932]),Blue3:c([0,0,.804]),Blue4:c([0,0,.545]),Brown1:c([1,.25,.25]),Brown2:c([.932,.23,.23]),Brown3:c([.804,.2,.2]),Brown4:c([.545,.136,.136]),Burlywood1:c([1,.828,.608]),Burlywood2:c([.932,.772,.57]),Burlywood3:c([.804,.668,.49]),Burlywood4:c([.545,.45,.332]),CadetBlue1:c([.596,.96,1]),CadetBlue2:c([.556,.898,.932]),CadetBlue3:c([.48,.772,.804]),CadetBlue4:c([.325,.525,.545]),Chartreuse1:c([.498,1,0]),Chartreuse2:c([.464,.932,0]),Chartreuse3:c([.4,.804,0]),Chartreuse4:c([.27,.545,0]),Chocolate1:c([1,.498,.14]),Chocolate2:c([.932,.464,.13]),Chocolate3:c([.804,.4,.112]),Chocolate4:c([.545,.27,.075]),Coral1:c([1,.448,.336]),Coral2:c([.932,.415,.312]),Coral3:c([.804,.356,.27]),Coral4:c([.545,.244,.185]),Cornsilk1:c([1,.972,.864]),Cornsilk2:c([.932,.91,.804]),Cornsilk3:c([.804,.785,.694]),Cornsilk4:c([.545,.532,.47]),Cyan1:c([0,1,1]),Cyan2:c([0,.932,.932]),Cyan3:c([0,.804,.804]),Cyan4:c([0,.545,.545]),DarkGoldenrod1:c([1,.725,.06]),DarkGoldenrod2:c([.932,.68,.055]),DarkGoldenrod3:c([.804,.585,.048]),DarkGoldenrod4:c([.545,.396,.03]),DarkOliveGreen1:c([.792,1,.44]),DarkOliveGreen2:c([.736,.932,.408]),DarkOliveGreen3:c([.635,.804,.352]),DarkOliveGreen4:c([.43,.545,.24]),DarkOrange1:c([1,.498,0]),DarkOrange2:c([.932,.464,0]),DarkOrange3:c([.804,.4,0]),DarkOrange4:c([.545,.27,0]),DarkOrchid1:c([.75,.244,1]),DarkOrchid2:c([.698,.228,.932]),DarkOrchid3:c([.604,.196,.804]),DarkOrchid4:c([.408,.132,.545]),DarkSeaGreen1:c([.756,1,.756]),DarkSeaGreen2:c([.705,.932,.705]),DarkSeaGreen3:c([.608,.804,.608]),DarkSeaGreen4:c([.41,.545,.41]),DarkSlateGray1:c([.592,1,1]),DarkSlateGray2:c([.552,.932,.932]),DarkSlateGray3:c([.475,.804,.804]),DarkSlateGray4:c([.32,.545,.545]),DeepPink1:c([1,.08,.576]),DeepPink2:c([.932,.07,.536]),DeepPink3:c([.804,.064,.464]),DeepPink4:c([.545,.04,.312]),DeepSkyBlue1:c([0,.75,1]),DeepSkyBlue2:c([0,.698,.932]),DeepSkyBlue3:c([0,.604,.804]),DeepSkyBlue4:c([0,.408,.545]),DodgerBlue1:c([.116,.565,1]),DodgerBlue2:c([.11,.525,.932]),DodgerBlue3:c([.094,.455,.804]),DodgerBlue4:c([.064,.305,.545]),Firebrick1:c([1,.19,.19]),Firebrick2:c([.932,.172,.172]),Firebrick3:c([.804,.15,.15]),Firebrick4:c([.545,.1,.1]),Gold1:c([1,.844,0]),Gold2:c([.932,.79,0]),Gold3:c([.804,.68,0]),Gold4:c([.545,.46,0]),Goldenrod1:c([1,.756,.145]),Goldenrod2:c([.932,.705,.132]),Goldenrod3:c([.804,.608,.112]),Goldenrod4:c([.545,.41,.08]),Green1:c([0,1,0]),Green2:c([0,.932,0]),Green3:c([0,.804,0]),Green4:c([0,.545,0]),Honeydew1:c([.94,1,.94]),Honeydew2:c([.88,.932,.88]),Honeydew3:c([.756,.804,.756]),Honeydew4:c([.512,.545,.512]),HotPink1:c([1,.43,.705]),HotPink2:c([.932,.415,.655]),HotPink3:c([.804,.376,.565]),HotPink4:c([.545,.228,.385]),IndianRed1:c([1,.415,.415]),IndianRed2:c([.932,.39,.39]),IndianRed3:c([.804,.332,.332]),IndianRed4:c([.545,.228,.228]),Ivory1:c([1,1,.94]),Ivory2:c([.932,.932,.88]),Ivory3:c([.804,.804,.756]),Ivory4:c([.545,.545,.512]),Khaki1:c([1,.965,.56]),Khaki2:c([.932,.9,.52]),Khaki3:c([.804,.776,.45]),Khaki4:c([.545,.525,.305]),LavenderBlush1:c([1,.94,.96]),LavenderBlush2:c([.932,.88,.898]),LavenderBlush3:c([.804,.756,.772]),LavenderBlush4:c([.545,.512,.525]),LemonChiffon1:c([1,.98,.804]),LemonChiffon2:c([.932,.912,.75]),LemonChiffon3:c([.804,.79,.648]),LemonChiffon4:c([.545,.536,.44]),LightBlue1:c([.75,.936,1]),LightBlue2:c([.698,.875,.932]),LightBlue3:c([.604,.752,.804]),LightBlue4:c([.408,.512,.545]),LightCyan1:c([.88,1,1]),LightCyan2:c([.82,.932,.932]),LightCyan3:c([.705,.804,.804]),LightCyan4:c([.48,.545,.545]),LightGoldenrod1:c([1,.925,.545]),LightGoldenrod2:c([.932,.864,.51]),LightGoldenrod3:c([.804,.745,.44]),LightGoldenrod4:c([.545,.505,.298]),LightPink1:c([1,.684,.725]),LightPink2:c([.932,.635,.68]),LightPink3:c([.804,.55,.585]),LightPink4:c([.545,.372,.396]),LightSalmon1:c([1,.628,.48]),LightSalmon2:c([.932,.585,.448]),LightSalmon3:c([.804,.505,.385]),LightSalmon4:c([.545,.34,.26]),LightSkyBlue1:c([.69,.888,1]),LightSkyBlue2:c([.644,.828,.932]),LightSkyBlue3:c([.552,.712,.804]),LightSkyBlue4:c([.376,.484,.545]),LightSteelBlue1:c([.792,.884,1]),LightSteelBlue2:c([.736,.824,.932]),LightSteelBlue3:c([.635,.71,.804]),LightSteelBlue4:c([.43,.484,.545]),LightYellow1:c([1,1,.88]),LightYellow2:c([.932,.932,.82]),LightYellow3:c([.804,.804,.705]),LightYellow4:c([.545,.545,.48]),Magenta1:c([1,0,1]),Magenta2:c([.932,0,.932]),Magenta3:c([.804,0,.804]),Magenta4:c([.545,0,.545]),Maroon1:c([1,.204,.7]),Maroon2:c([.932,.19,.655]),Maroon3:c([.804,.16,.565]),Maroon4:c([.545,.11,.385]),MediumOrchid1:c([.88,.4,1]),MediumOrchid2:c([.82,.372,.932]),MediumOrchid3:c([.705,.32,.804]),MediumOrchid4:c([.48,.215,.545]),MediumPurple1:c([.67,.51,1]),MediumPurple2:c([.624,.475,.932]),MediumPurple3:c([.536,.408,.804]),MediumPurple4:c([.365,.28,.545]),MistyRose1:c([1,.894,.884]),MistyRose2:c([.932,.835,.824]),MistyRose3:c([.804,.716,.71]),MistyRose4:c([.545,.49,.484]),NavajoWhite1:c([1,.87,.68]),NavajoWhite2:c([.932,.81,.63]),NavajoWhite3:c([.804,.7,.545]),NavajoWhite4:c([.545,.475,.37]),OliveDrab1:c([.752,1,.244]),OliveDrab2:c([.7,.932,.228]),OliveDrab3:c([.604,.804,.196]),OliveDrab4:c([.41,.545,.132]),Orange1:c([1,.648,0]),Orange2:c([.932,.604,0]),Orange3:c([.804,.52,0]),Orange4:c([.545,.352,0]),OrangeRed1:c([1,.27,0]),OrangeRed2:c([.932,.25,0]),OrangeRed3:c([.804,.215,0]),OrangeRed4:c([.545,.145,0]),Orchid1:c([1,.512,.98]),Orchid2:c([.932,.48,.912]),Orchid3:c([.804,.41,.79]),Orchid4:c([.545,.28,.536]),PaleGreen1:c([.604,1,.604]),PaleGreen2:c([.565,.932,.565]),PaleGreen3:c([.488,.804,.488]),PaleGreen4:c([.33,.545,.33]),PaleTurquoise1:c([.732,1,1]),PaleTurquoise2:c([.684,.932,.932]),PaleTurquoise3:c([.59,.804,.804]),PaleTurquoise4:c([.4,.545,.545]),PaleVioletRed1:c([1,.51,.67]),PaleVioletRed2:c([.932,.475,.624]),PaleVioletRed3:c([.804,.408,.536]),PaleVioletRed4:c([.545,.28,.365]),PeachPuff1:c([1,.855,.725]),PeachPuff2:c([.932,.796,.68]),PeachPuff3:c([.804,.688,.585]),PeachPuff4:c([.545,.468,.396]),Pink1:c([1,.71,.772]),Pink2:c([.932,.664,.72]),Pink3:c([.804,.57,.62]),Pink4:c([.545,.39,.424]),Plum1:c([1,.732,1]),Plum2:c([.932,.684,.932]),Plum3:c([.804,.59,.804]),Plum4:c([.545,.4,.545]),Purple1:c([.608,.19,1]),Purple2:c([.57,.172,.932]),Purple3:c([.49,.15,.804]),Purple4:c([.332,.1,.545]),Red1:c([1,0,0]),Red2:c([.932,0,0]),Red3:c([.804,0,0]),Red4:c([.545,0,0]),RosyBrown1:c([1,.756,.756]),RosyBrown2:c([.932,.705,.705]),RosyBrown3:c([.804,.608,.608]),RosyBrown4:c([.545,.41,.41]),RoyalBlue1:c([.284,.464,1]),RoyalBlue2:c([.264,.43,.932]),RoyalBlue3:c([.228,.372,.804]),RoyalBlue4:c([.152,.25,.545]),Salmon1:c([1,.55,.41]),Salmon2:c([.932,.51,.385]),Salmon3:c([.804,.44,.33]),Salmon4:c([.545,.298,.224]),SeaGreen1:c([.33,1,.624]),SeaGreen2:c([.305,.932,.58]),SeaGreen3:c([.264,.804,.5]),SeaGreen4:c([.18,.545,.34]),Seashell1:c([1,.96,.932]),Seashell2:c([.932,.898,.87]),Seashell3:c([.804,.772,.75]),Seashell4:c([.545,.525,.51]),Sienna1:c([1,.51,.28]),Sienna2:c([.932,.475,.26]),Sienna3:c([.804,.408,.224]),Sienna4:c([.545,.28,.15]),SkyBlue1:c([.53,.808,1]),SkyBlue2:c([.494,.752,.932]),SkyBlue3:c([.424,.65,.804]),SkyBlue4:c([.29,.44,.545]),SlateBlue1:c([.512,.435,1]),SlateBlue2:c([.48,.404,.932]),SlateBlue3:c([.41,.35,.804]),SlateBlue4:c([.28,.235,.545]),SlateGray1:c([.776,.888,1]),SlateGray2:c([.725,.828,.932]),SlateGray3:c([.624,.712,.804]),SlateGray4:c([.424,.484,.545]),Snow1:c([1,.98,.98]),Snow2:c([.932,.912,.912]),Snow3:c([.804,.79,.79]),Snow4:c([.545,.536,.536]),SpringGreen1:c([0,1,.498]),SpringGreen2:c([0,.932,.464]),SpringGreen3:c([0,.804,.4]),SpringGreen4:c([0,.545,.27]),SteelBlue1:c([.39,.72,1]),SteelBlue2:c([.36,.675,.932]),SteelBlue3:c([.31,.58,.804]),SteelBlue4:c([.21,.392,.545]),Tan1:c([1,.648,.31]),Tan2:c([.932,.604,.288]),Tan3:c([.804,.52,.248]),Tan4:c([.545,.352,.17]),Thistle1:c([1,.884,1]),Thistle2:c([.932,.824,.932]),Thistle3:c([.804,.71,.804]),Thistle4:c([.545,.484,.545]),Tomato1:c([1,.39,.28]),Tomato2:c([.932,.36,.26]),Tomato3:c([.804,.31,.224]),Tomato4:c([.545,.21,.15]),Turquoise1:c([0,.96,1]),Turquoise2:c([0,.898,.932]),Turquoise3:c([0,.772,.804]),Turquoise4:c([0,.525,.545]),VioletRed1:c([1,.244,.59]),VioletRed2:c([.932,.228,.55]),VioletRed3:c([.804,.196,.47]),VioletRed4:c([.545,.132,.32]),Wheat1:c([1,.905,.73]),Wheat2:c([.932,.848,.684]),Wheat3:c([.804,.73,.59]),Wheat4:c([.545,.494,.4]),Yellow1:c([1,1,0]),Yellow2:c([.932,.932,0]),Yellow3:c([.804,.804,0]),Yellow4:c([.545,.545,0]),Gray0:c([.745,.745,.745]),Green0:c([0,1,0]),Grey0:c([.745,.745,.745]),Maroon0:c([.69,.19,.376]),Purple0:c([.628,.125,.94])};var Lr={rgb:([n,t,s])=>(0,Ee.default)([n*255,t*255,s*255],"rgb"),cmy:([n,t,s])=>Lr.rgb([1-n,1-t,1-s]),cmyk:([n,t,s,l])=>(0,Ee.default)([n*255,t*255,s*255,l*100],"cmyk"),hsb:([n,t,s])=>(0,Ee.default)([n*360,t*100,s*100],"hsv"),gray:([n])=>(0,Ee.default)([n*255,n*255,n*255],"rgb")},bg={wave:([n])=>{let s=[0,0,0];380<=n&&n<440&&(s=[(440-n)/(440-380),0,1]),440<=n&&n<490&&(s=[0,(n-440)/(490-440),1]),490<=n&&n<510&&(s=[0,1,(510-n)/(510-490)]),510<=n&&n<580&&(s=[(n-510)/(580-510),1,0]),580<=n&&n<6450&&(s=[1,(645-n)/(645-580),0]),645<=n&&n<=780&&(s=[1,0,0]);let l=1;380<=n&&420<n&&(l=.3+.7*(n-380)/(420-380)),700<n&&n<=780&&(l=.3+.7*(780-n)/(780-700));let r=[Math.pow(s[0]*l,.8),Math.pow(s[1]*l,.8),Math.pow(s[2]*l,.8)];return(0,Ee.default)([r[0]*255,r[1]*255,r[2]*255],"rgb")},Hsb:([n,t,s])=>Lr.hsb([n/360,t,s]),HSB:([n,t,s])=>Lr.hsb([n/240,t/240,s/240]),HTML:([n])=>n.startsWith("#")?(0,Ee.default)(n):(0,Ee.default)(`#${n}`),RGB:([n,t,s])=>(0,Ee.default)([n,t,s],"rgb"),Gray:([n])=>Lr.gray([n/15]),...Lr};var $g={red:Lr.rgb([1,0,0]),green:Lr.rgb([0,1,0]),blue:Lr.rgb([0,0,1]),brown:Lr.rgb([.75,.5,.25]),lime:Lr.rgb([.75,1,0]),orange:Lr.rgb([1,.5,0]),pink:Lr.rgb([1,.75,.75]),purple:Lr.rgb([.75,0,.25]),teal:Lr.rgb([0,.5,.5]),violet:Lr.rgb([.5,0,.5]),cyan:Lr.rgb([0,1,1]),magenta:Lr.rgb([1,0,1]),yellow:Lr.rgb([1,1,0]),olive:Lr.rgb([.5,.5,0]),black:Lr.rgb([0,0,0]),darkgray:Lr.rgb([.25,.25,.25]),gray:Lr.rgb([.5,.5,.5]),lightgray:Lr.rgb([.75,.75,.75]),white:Lr.rgb([1,1,1]),...Of,...Df,...Tf};var Hs={NewDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},RenewDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},ProvideDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},DeclareDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},NewDocumentEnvironment:{signature:"m m m m",renderInfo:{breakAround:!0}},RenewDocumentEnvironment:{signature:"m m m m",renderInfo:{breakAround:!0}},ProvideDocumentEnvironment:{signature:"m m m m",renderInfo:{breakAround:!0}},DeclareDocumentEnvironment:{signature:"m m m m",renderInfo:{breakAround:!0}},NewExpandableDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},RenewExpandableDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},ProvideExpandableDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},DeclareExpandableDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},RequirePackage:{signature:"o m",renderInfo:{pgfkeysArgs:!0,breakAround:!0}},DeclareOption:{signature:"m m",renderInfo:{breakAround:!0}}},Us={};var Xs={mode:{signature:"s d<> d{}",renderInfo:{breakAround:!0}},insertnavigation:{signature:"m",renderInfo:{breakAround:!0}},insertsectionnavigation:{signature:"m",renderInfo:{breakAround:!0}},insertsectionnavigationhorizontal:{signature:"m m m",renderInfo:{breakAround:!0}},insertauthor:{signature:"o",renderInfo:{breakAround:!0}},insertshortauthor:{signature:"o",renderInfo:{breakAround:!0}},insertshortdate:{signature:"o",renderInfo:{breakAround:!0}},insertshortinstitute:{signature:"o",renderInfo:{breakAround:!0}},insertshortpart:{signature:"o",renderInfo:{breakAround:!0}},insertshorttitle:{signature:"o",renderInfo:{breakAround:!0}},insertsubsectionnavigation:{signature:"m",renderInfo:{breakAround:!0}},insertsubsectionnavigationhorizontal:{signature:"m m m",renderInfo:{breakAround:!0}},insertverticalnavigation:{signature:"m",renderInfo:{breakAround:!0}},usebeamercolor:{signature:"s m",renderInfo:{breakAround:!0}},usebeamertemplate:{signature:"s m",renderInfo:{breakAround:!0}},setbeamercolor:{signature:"m m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},setbeamersize:{signature:"m o o",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},setbeamertemplate:{signature:"m o o d{}",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},newcommand:{signature:"s d<> +m o +o +m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"name","numArgs","default","body"]}},renewcommand:{signature:"s d<> +m o +o +m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"name","numArgs","default","body"]}},newenvironment:{signature:"s d<> m o o m m",renderInfo:{breakAround:!0}},renewenvironment:{signature:"s d<> m o o m m",renderInfo:{breakAround:!0}},resetcounteronoverlays:{signature:"m",renderInfo:{breakAround:!0}},resetcountonoverlays:{signature:"m",renderInfo:{breakAround:!0}},logo:{signature:"m",renderInfo:{breakAround:!0}},frametitle:{signature:"d<> o m",renderInfo:{breakAround:!0}},framesubtitle:{signature:"d<> m",renderInfo:{breakAround:!0}},pause:{signature:"o"},onslide:{signature:"t+ t* d<> d{}"},only:{signature:"d<> m d<>"},uncover:{signature:"d<> m"},visible:{signature:"d<> m"},invisible:{signature:"d<> m"},alt:{signature:"d<> m m d<>"},temporal:{signature:"r<> m m m"},item:{signature:"d<> o d<>",renderInfo:{hangingIndent:!0,namedArguments:[null,"label",null]}},label:{signature:"d<> o m"},action:{signature:"d<> m"},beamerdefaultoverlayspecification:{signature:"m"},titlegraphic:{signature:"m",renderInfo:{breakAround:!0}},subject:{signature:"m",renderInfo:{breakAround:!0}},keywords:{signature:"m",renderInfo:{breakAround:!0}},lecture:{signature:"o m m",renderInfo:{breakAround:!0}},partpage:{renderInfo:{breakAround:!0}},sectionpage:{renderInfo:{breakAround:!0}},subsectionpage:{renderInfo:{breakAround:!0}},AtBeginLecture:{signature:"m",renderInfo:{breakAround:!0}},AtBeginPart:{signature:"m",renderInfo:{breakAround:!0}},tableofcontents:{signature:"o",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},againframe:{signature:"d<> o o m",renderInfo:{breakAround:!0}},framezoom:{signature:"r<> r<> o r() r()",renderInfo:{breakAround:!0}},column:{signature:"d<> o m",renderInfo:{breakAround:!0}},animate:{signature:"r<>",renderInfo:{breakAround:!0}},animatevalue:{signature:"r<> m m m",renderInfo:{breakAround:!0}},sound:{signature:"o m m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},hyperlinksound:{signature:"o m m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},hyperlinkmute:{signature:"m",renderInfo:{breakAround:!0}},section:{signature:"s d<> o m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"tocTitle","title"]}},subsection:{signature:"s d<> o m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"tocTitle","title"]}},subsubsection:{signature:"s d<> o m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"tocTitle","title"]}},part:{signature:"s d<> o m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"tocTitle","title"]}},bibitem:{signature:"s d<> o m",renderInfo:{hangingIndent:!0,namedArguments:["starred",null,"tocTitle","title"]}}},Vs={frame:{signature:"!d<> !o !o !d{} !d{}"},block:{signature:"!d<> !d{} !d<>"},alertblock:{signature:"!d<> !d{} !d<>"},exampleblock:{signature:"!d<> !d{} !d<>"},onlyenv:{signature:"!d<>"},altenv:{signature:"!d<> m m m m !d<>"},overlayarea:{signature:"m m"},overprint:{signature:"o"},actionenv:{signature:"!d<>"},columns:{signature:"d<> o"},column:{signature:"d<> o m"}};var Ks={columnbreak:{renderInfo:{breakAround:!0}}},Ys={multicols:{signature:"m o o"},"multicols*":{signature:"m o o"}};var Zs={cleveref:Fa,exam:Wa,geometry:Ga,hyperref:Ha,latex2e:Xa,listings:ds,makeidx:ys,mathtools:$s,minted:ws,nicematrix:Cs,systeme:Ms,tikz:Ps,xcolor:Gs,xparse:Hs,beamer:Xs,multicol:Ks},Js={cleveref:Ra,exam:ja,geometry:za,hyperref:Ua,latex2e:Va,listings:vs,makeidx:bs,mathtools:As,minted:ks,nicematrix:Es,systeme:_s,tikz:Ss,xcolor:zs,xparse:Us,beamer:Vs,multicol:Ys};function Ai(n,t){if(t.signature&&n.args==null){let{args:s}=Yn(n.content,t.signature);n.args=s}zn(n,t.renderInfo),typeof t.processContent=="function"&&(n.content=t.processContent(n.content))}function Qs(n,t,s){let l=[],r={start:void 0,end:n.length};for(let a=0;a<n.length;a++){let e=n[a];t(e)&&(r.start=a),s(e)&&(r.end=a+1,l.push(r),r={start:void 0,end:n.length})}return r.start!=null&&l.push(r),l}function Lf(n){let t=[...n];t.sort((p,h)=>p.start-h.start);let s=new Set(t.flatMap(p=>[p.start,p.end])),l=Array.from(s);l.sort((p,h)=>p-h);let r=[],a=[],e=0;for(let p=0;p<l.length-1;p++){let h=l[p],E=l[p+1],S={start:h,end:E},Y=new Set,te=!1;for(let y=e;y<t.length;y++){let d=t[y];if(d.end>=S.start&&(te=!0),!te&&d.end<S.start){e=y+1;continue}if(d.start>E)break;d.start<=S.start&&d.end>=S.end&&(te=!0,Y.add(d))}Y.size>0&&(r.push(S),a.push(Y))}return{regions:r,regionsContainedIn:a}}function Bf(n,t){let s=[],l=[0,n.length],r={};for(let[a,e]of Object.entries(t))l.push(...e.flatMap(p=>(r[""+[p.start,p.end]]=a,[p.start,p.end])));l.sort((a,e)=>a-e);for(let a=0;a<l.length-1;a++){let e=l[a],p=l[a+1];if(e===p)continue;let h=r[""+[e,p]];s.push([h||null,n.slice(e,p)])}return s}function Nf(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function qf(n){let t=`^(${["\\p{L}"].concat(Array.from(n).map(Nf)).join("|")})*`;return new RegExp(t,"u")}function Wf(n,t){for(let s=0;s<n.length;s++){let l=n[s],r=n[s+1];if(be.anyMacro(l)&&be.anyString(r)&&(t.has(l.content.charAt(l.content.length-1))||t.has(r.content.charAt(0))))return!0}return!1}function xi(n,t){typeof t=="string"&&(t=new Set(t.split("")));let s=t;for(let r of s)if(r.length>1)throw new Error(`Only single characters are allowed as \`allowedTokens\` when reparsing macro names, not \`${r}\`.`);let l=!1;return sn(n,r=>{if(Wf(r,s))return l=!0,at},{includeArrays:!0,test:Array.isArray}),l}function jf(n,t){var s,l,r;let a=qf(t),e=0;for(;e<n.length;){let p=n[e],h=n[e+1];if(be.anyMacro(p)&&(p.escapeToken==null||p.escapeToken==="\\")&&be.anyString(h)&&(t.has(p.content.charAt(p.content.length-1))||t.has(h.content.charAt(0)))){let E=h.content.match(a),S=E?E[0]:"";S.length>0?S.length===h.content.length?(p.content+=h.content,n.splice(e+1,1),p.position&&((s=h.position)!=null&&s.end)&&(p.position.end=h.position.end)):(p.content+=S,h.content=h.content.slice(S.length),(l=p.position)!=null&&l.end&&(p.position.end.offset+=S.length,p.position.end.column+=S.length),(r=h.position)!=null&&r.start&&(h.position.start.offset+=S.length,h.position.start.column+=S.length)):e++}else++e}}function ct(n,t){typeof t=="string"&&(t=new Set(t.split("")));let s=t;for(let l of s)if(l.length>1)throw new Error(`Only single characters are allowed as \`allowedTokens\` when reparsing macro names, not \`${l}\`.`);sn(n,l=>{jf(l,s)},{includeArrays:!0,test:Array.isArray})}var eo={start:be.createMacroMatcher(["ExplSyntaxOn"]),end:be.createMacroMatcher(["ExplSyntaxOff"])},ro={start:be.createMacroMatcher(["makeatletter"]),end:be.createMacroMatcher(["makeatother"])};function Gf(n){let t=Qs(n,eo.start,eo.end),s=Qs(n,ro.start,ro.end),l=new Map([...t.map(e=>[e,"expl"]),...s.map(e=>[e,"atLetter"])]),r=Lf([...t,...s]),a={explOnly:[],atLetterOnly:[],both:[]};for(let e=0;e<r.regions.length;e++){let p=r.regions[e],h=r.regionsContainedIn[e];if(h.size===2){a.both.push(p);continue}for(let E of h.values())l.get(E)==="expl"&&a.explOnly.push(p),l.get(E)==="atLetter"&&a.atLetterOnly.push(p)}return a.explOnly=a.explOnly.filter(e=>e.end-e.start>1),a.atLetterOnly=a.atLetterOnly.filter(e=>e.end-e.start>1),a.both=a.both.filter(e=>e.end-e.start>1),a}var zf=new Set(["@"]),Hf=new Set(["_",":"]),Uf=new Set(["_",":","@"]);function no(n){sn(n,{leave:t=>{let s=Gf(t);if(s.both.length+s.atLetterOnly.length+s.explOnly.length===0)return;let r=Bf(t,s),a=[];for(let[e,p]of r)switch(e){case null:a.push(...p);continue;case"atLetterOnly":ct(p,zf),a.push(...p);continue;case"explOnly":ct(p,Hf),a.push(...p);continue;case"both":ct(p,Uf),a.push(...p);continue;default:throw new Error(`Unexpected case when splitting ${e}`)}return t.length=0,t.push(...a),ai}},{includeArrays:!0,test:Array.isArray})}var ki=function(){Object.assign(this,{Compiler:t=>t})};function Xf(n){return oi.parse(n)}function wi(n){return oi.parse(n,{startRule:"math"})}var Vf=function(t){Object.assign(this,{Parser:l=>t?.mode==="math"?{type:"root",content:wi(l),_renderInfo:{inMathMode:!0}}:Xf(l)})};function Kf({mathEnvs:n,mathMacros:t}){let s=be.createEnvironmentMatcher(n),l=be.createMacroMatcher(t);return r=>{sn(r,a=>{if(be.anyMacro(a))for(let e of a.args||[])e.content.length>0&&!to(e.content)&&(e.content=wi(vn(e.content)));be.anyEnvironment(a)&&(to(a.content)||(a.content=wi(vn(a.content))))},{test:a=>s(a)||l(a)})}}function to(n){return!n.some(t=>be.anyString(t)&&t.content.length>1||be.string(t,"^")||be.string(t,"_"))}var Yf=function(t){let{environments:s={},macros:l={}}=t||{},r=Object.fromEntries(Object.entries(l).filter(([E,S])=>{var Y;return((Y=S.renderInfo)==null?void 0:Y.inMathMode)===!0})),a=Object.fromEntries(Object.entries(s).filter(([E,S])=>{var Y;return((Y=S.renderInfo)==null?void 0:Y.inMathMode)===!0})),e=Kf({mathEnvs:Object.keys(a),mathMacros:Object.keys(r)}),p=be.createEnvironmentMatcher(s),h=be.createEnvironmentMatcher(a);return E=>{sn(E,{enter:S=>{Array.isArray(S)&&Zn(S,r)},leave:S=>{if(!h(S))return;let Y=vn(S.env),te=s[Y];if(!te)throw new Error(`Could not find environment info for environment "${Y}"`);Ai(S,te)}},{includeArrays:!0}),e(E),sn(E,{enter:S=>{Array.isArray(S)&&Zn(S,l)},leave:S=>{if(!p(S))return;let Y=vn(S.env),te=s[Y];if(!te)throw new Error(`Could not find environment info for environment "${Y}"`);Ai(S,te)}},{includeArrays:!0})}},Zf=function(t){let{atLetter:s=!1,expl3:l=!1,autodetectExpl3AndAtLetter:r=!1}=t||{};return a=>{no(a),(s||l)&&(r=!1),r&&(s=xi(a,"@"),l=xi(a,"_"));let e=new Set;s&&e.add("@"),l&&(e.add(":"),e.add("_")),e.size>0&&ct(a,e)}},Ci=function(t){let{mode:s="regular",macros:l={},environments:r={},flags:{atLetter:a=!1,expl3:e=!1,autodetectExpl3AndAtLetter:p=!1}={}}=t||{},h=Object.assign({},...Object.values(Zs),l),E=Object.assign({},...Object.values(Js),r),S=tt().use(Vf,{mode:s}).use(Zf,{atLetter:a,expl3:e,autodetectExpl3AndAtLetter:p}).use(Yf,{macros:h,environments:E}).use(Ta).use(La).use(ki);Object.assign(this,{Parser:te=>S.processSync({value:te}).result})},y0=tt().use(Ci).freeze();function Jf(n){return!n?.content||n.content.length===0}var ao={",":n=>n.data.inFunction?"comma":",","&":n=>n.data.inArray?",":"&","/":"\\/",";":"\\;"};function io(n){var t,s,l;((s=(t=n.args)===null||t===void 0?void 0:t[0].content)===null||s===void 0?void 0:s.length)===1&&((l=n.args)===null||l===void 0?void 0:l[0].content)[0].type==="string"&&(n.args[0].content=n.args[0].content[0].content.split("").map(r=>({type:"string",content:r})))}var so={cdot:"dot.op",to:"arrow.r",rightarrow:"arrow.r",leftarrow:"arrow.l",gets:"arrow.l",infty:"infinity",nonumber:"",int:"integral",iint:"integral.double",sqrt:(n,t)=>{var s;return Jf((s=t.args)===null||s===void 0?void 0:s[0])?"sqrt":"root"},vec:"arrow",mathbf:"bold",boldsymbol:"bold",mathrm:"upright",rm:"upright",mathcal:"cal",mathfrak:"frak",pm:"plus.minus",partial:"diff",_:(n,t)=>(io(t),"_"),"^":(n,t)=>(io(t),"^"),left:(n,t)=>{var s;let l=t.args;t.args=[];let r=((s=l?.[0].content)===null||s===void 0?void 0:s[0]).content;if(r==="(")return"(";if(r==="[")return"[";if(r==="{")return"{";if(r==="|")return"|";throw new Error(`Undefined left bracket: ${r}`)},right:(n,t)=>{var s;let l=t.args;t.args=[];let r=((s=l?.[0].content)===null||s===void 0?void 0:s[0]).content;if(r===")")return")";if(r==="]")return"]";if(r==="}")return"}";if(r==="|")return"|";throw new Error(`Undefined right bracket: ${r}`)},operatorname:(n,t)=>{var s;let l=(s=t.args)===null||s===void 0?void 0:s.slice(-1)[0];return t.args=[{type:"macro",content:"text",args:[l]}],"op"},"\\":(n,t)=>(t.args=[],n.data.inArray?";":`\\
`),sim:"tilde",phi:"phi.alt",propto:"prop",doteq:"dot(eq)",ge:"gt.eq",geq:"gt.eq",le:"lt.eq",leq:"lt.eq",neq:"eq.not",dot:"dot",ddot:"dot.double",dots:"dots.h",ldots:"dots.h",vdots:"dots.v",ddots:"dots.down",subseteq:"subset.eq",cdots:"dots.h.c",cap:"sect",cup:"union",widehat:"hat",",":"thin",":":"med",";":"thick","!":"#h(-1em)",quad:"quad",qquad:"wide",prod:"product",mathbb:(n,t)=>{var s,l,r,a,e;let h=((e=(a=(r=(l=(s=t.args)===null||s===void 0?void 0:s.slice(-1)[0])===null||l===void 0?void 0:l.content)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)!==null&&e!==void 0?e:"").split("").map(E=>`${E}${E}`).join(" ");return t.args=[],h}},oo={array:(n,t)=>{n.data.inArray=!0,n.openFunction("mat"),n.write("delim: #none,"),n.writeChildren(t),n.closeFunction(),n.data.inArray=!1}};function Qf(n){return{type:"math",content:tt().use(Ci,{mode:"math"}).use(ki).use(hs,{macros:{vec:{signature:"m"},boldsymbol:{signature:"m"},left:{signature:"m"},right:{signature:"m"},dot:{signature:"m"},ddot:{signature:"m"},hat:{signature:"m"},widehat:{signature:"m"}}}).processSync({value:n}).result.content}}function Ei(n){if(delete n.position,Array.isArray(n.content)){let t=n.content.map(r=>Ei(r)),s=0,l=t.reduce((r,a,e,p)=>{var h;if(s>0)return s-=1,r;if(a.type==="string"&&(a.content==="_"||a.content==="^")){let{args:E,nodesRemoved:S}=Yn(p.slice(e+1),"m");a.type="macro",a.args=E,s+=S}if(a.type==="macro"&&(a.content==="overbrace"||a.content==="underbrace")){let{args:E,nodesRemoved:S}=Yn(p.slice(e+1),"m");E[0].content.length===1&&E[0].content[0].type==="macro"&&(E[0].content[0].content==="^"&&a.content==="overbrace"||E[0].content[0].content==="_"&&a.content==="underbrace")&&(a.args=[...(h=a.args)!==null&&h!==void 0?h:[],...E[0].content[0].args],s+=S)}return r.push(a),r},[]);return n.content=l,{...n,content:l}}if(Array.isArray(n.args)){let t=n.args.map(s=>Ei(s));return n.args=t,{...n,args:t}}return n}var Mi=class{constructor(){this._scriptsSimplified=!1,this._closeToken=[],this._currentFunctions=[],this._value="",this.data={}}get value(){return this._value}addWhitespace(){let t=this.value.slice(-1);!this._value||t.match(/^(["\s_^{(-])$/)||(this._value+=" ")}write(t){t&&(this._scriptsSimplified&&t==="("?this.addWhitespace():t.match(/^([}()_^,;!])$/)||this.addWhitespace(),this._scriptsSimplified=!1,this._value+=t)}writeChildren(t){var s;Array.isArray(t?.content)&&((s=t.content)===null||s===void 0||s.forEach(l=>{_i(l,this)}))}get _currentFunction(){return this._currentFunctions.slice(-1)[0]}get _functionCount(){return this._currentFunctions.length}openFunction(t){t==="text"?this.addWhitespace():this.write(t),this._currentFunctions.push(t),this.data.inFunction=!0,this._simplify=t==="_"||t==="^",this._lastFunction=this._value.length,this._value+=t==="text"?'"':"(",this._closeToken.push(t==="text"?'"':")")}closeFunction(){if(this._value+=this._closeToken.pop()||")",this._currentFunctions.pop(),this.data.inFunction=this._functionCount>=1,!this._simplify)return;let t=this._value.slice(this._lastFunction);(t.length===3||t.match(/^\([a-zA-Z]*\)$/))&&(this._value=this._value.slice(0,this._lastFunction)+t.slice(1,-1),this._scriptsSimplified=!0)}};function lo(n,t){if(t.type==="macro"&&typeof t.content=="string"){let s=so[t.content],l=typeof s=="function"?s(n,t):s;return l??t.content}return""}function fo(n,t){let s=ao[t];return typeof s=="function"?s(n)||t:s||t}function _i(n,t=new Mi){if(n.type==="whitespace")return t;if(n.type==="string"){let s=n.content;t._currentFunction==="text"?t.write(fo(t,s)):s.split("").forEach(l=>{t.write(fo(t,l))})}else if(n.type==="environment"&&Array.isArray(n.content)){let s=oo[n.env];s?.(t,n)}else if(Array.isArray(n.content))t.writeChildren(n);else if(n.type==="macro"&&Array.isArray(n.args)){let s=lo(t,n);if(n.args.length===0)return t.write(s),t;t.openFunction(s),n.args.filter(l=>!(Array.isArray(l.content)&&l.content.length===0)).forEach((l,r)=>{r!==0&&t.write(","),_i(l,t)}),t.closeFunction()}else if(n.type==="macro"&&typeof n.content=="string"){let s=lo(t,n);t.write(s??n.content)}return t}function eu(n){return n.replace(/^(_|\^)/,'""$1')}function Hn(n){let t=Qf(n);Ei(t);let s=_i(t);return eu(s.value)}function uo(n,t){t.options.math&&Object.entries(t.options.math).forEach(([s,l])=>{let r=Hn(s);n.includes(r)&&(t.data.mathPlugins[r]=Hn(l))})}function Ii(n,t=n.data.mathPlugins){if(!n.options.math)return t;let s=Object.entries(t),l={};Object.entries(n.options.math).forEach(([a,e])=>{let p=Hn(a);t[p]||s.forEach(([,h])=>{h.includes(p)&&(l[p]=Hn(e))})});let r={...l,...t};return Object.keys(l).length===0?r:Ii(n,r)}var ru=(n,t)=>{let s=Hn(n.value);uo(s,t),t.ensureNewLine(),t.write(`$ ${s} $${n.label?` <${n.label}>`:""}

`),t.ensureNewLine(!0)},nu=(n,t)=>{let s=Hn(n.value);uo(s,t),t.write(`$${s}$`)},tu={math:ru,inlineMath:nu},co=tu;function iu(n){var t,s;let l=(t=n.children)===null||t===void 0?void 0:t.find(a=>a.type==="tableRow");return(s=l?.children)===null||s===void 0?void 0:s.filter(a=>a.type==="tableCell").reduce((a,e)=>{var p;return a+((p=e.colspan)!==null&&p!==void 0?p:1)},0)}function au(n){var t;return n.type!=="tableRow"?!1:(t=n.children)===null||t===void 0?void 0:t.filter(s=>s.type==="tableCell").every(s=>s.header)}function su(n){var t,s;let l=(t=n.children)===null||t===void 0?void 0:t.filter(r=>au(r));return(s=l?.length)!==null&&s!==void 0?s:0}var go=(n,t)=>{let s=t.data.isInTable;t.data.isInTable=!0;let l=t.data.isInFigure?"tablex":"#tablex",r=iu(n);if(!r){In(t.file,"Unable to count table columns",{node:n,source:"myst-to-typst"});return}t.useMacro('#import "@preview/tablex:0.0.7": tablex, cellx'),t.write(`${l}(columns: ${r}, header-rows: ${su(n)}, repeat-header: true,
`),t.renderChildren(n,1),t.write(`)
`),t.data.isInTable=s},po=(n,t)=>{t.renderChildren(n,1)},mo=(n,t)=>{(n.rowspan||n.colspan)&&(t.write("cellx("),n.rowspan&&t.write(`rowspan: ${n.rowspan}, `),n.colspan&&t.write(`colspan: ${n.colspan}, `),t.write(")")),t.write(`[
`),t.renderChildren(n,1),t.write(`],
`)};var ou=`#let admonition(body, heading: none, color: blue) = {
  let stroke = (left: 2pt + color.darken(20%))
  let fill = color.lighten(80%)
  let title
  if heading != none {
    title = block(width: 100%, inset: (x: 8pt, y: 4pt), fill: fill, below: 0pt, radius: (top-right: 2pt))[#text(11pt, weight: "bold")[#heading]]
  }
  block(width: 100%, stroke: stroke, [
    #title
  #block(fill: luma(240), width: 100%, inset: 8pt, radius: (bottom-right: 2pt))[#body]
])
}`,lu={attention:"#let attentionBlock(body, heading: [Attention]) = admonition(body, heading: heading, color: yellow)",caution:"#let cautionBlock(body, heading: [Caution]) = admonition(body, heading: heading, color: yellow)",danger:"#let dangerBlock(body, heading: [Danger]) = admonition(body, heading: heading, color: red)",error:"#let errorBlock(body, heading: [Error]) = admonition(body, heading: heading, color: red)",hint:"#let hintBlock(body, heading: [Hint]) = admonition(body, heading: heading, color: green)",important:"#let importantBlock(body, heading: [Important]) = admonition(body, heading: heading, color: blue)",note:"#let noteBlock(body, heading: [Note]) = admonition(body, heading: heading, color: blue)",seealso:"#let seealsoBlock(body, heading: [See Also]) = admonition(body, heading: heading, color: green)",tip:"#let tipBlock(body, heading: [Tip]) = admonition(body, heading: heading, color: green)",warning:"#let warningBlock(body, heading: [Warning]) = admonition(body, heading: heading, color: yellow)"},fu=`#let blockquote(node, color: gray) = {
  let stroke = (left: 2pt + color.darken(20%))
  set text(fill: black.lighten(40%), style: "oblique")
  block(width: 100%, inset: 8pt, stroke: stroke)[#node]
}`,uu="  ",cu=(n,t)=>{let s=n.url;t.write('#link("'),t.write(Ia(s)),t.write('")'),n.children.length&&n.children[0].value!==s&&(t.write("["),t.renderChildren(n),t.write("]"))};function Pi(n,t){var s,l;let r=(s=n?.children)===null||s===void 0?void 0:s.findIndex(e=>e===t);if(!r)return!1;let a=(l=n?.children)===null||l===void 0?void 0:l[r+1];return a?.value&&a?.type==="text"&&!!a.value.match(/^[a-zA-Z0-9\-_]/)||!1}var ho={text(n,t){t.text(n.value)},paragraph(n,t){t.renderChildren(n,2)},heading(n,t){let{depth:s,identifier:l,enumerated:r}=n;t.write(`${Array(s).fill("=").join("")} `),t.renderChildren(n),r!==!1&&l&&t.write(` <${l}>`),t.write(`

`)},block(n,t){let s=ma(n);s.includes("no-typst")||s.includes("no-pdf")||n.visibility!=="remove"&&((s.includes("page-break")||s.includes("new-page"))&&t.write(`#pagebreak(weak: true)
`),t.renderChildren(n,2))},blockquote(n,t){t.useMacro(fu),t.renderEnvironment(n,"blockquote")},definitionList(n,t){let s=!1;t.data.definitionIndent?(t.write(`#set terms(indent: ${t.data.definitionIndent}em)`),t.data.definitionIndent+=2,s=!0):t.data.definitionIndent=2,t.renderChildren(n,1),t.data.definitionIndent-=2,s&&t.write(`#set terms(indent: ${t.data.definitionIndent-2}em)
`)},definitionTerm(n,t){t.ensureNewLine(),t.write("/ "),t.renderChildren(n),t.write(": ")},definitionDescription(n,t){t.renderChildren(n)},code(n,t){var s;let l="```";for(;n.value.includes(l);)l+="`";let r=`${l}${(s=n.lang)!==null&&s!==void 0?s:""}
`,a=`
${l}`;t.write(r),t.write(n.value),t.write(a),t.ensureNewLine(!0),t.addNewLine()},list(n,t){var s,l;(s=(l=t.data).list)!==null&&s!==void 0||(l.list={env:[]}),t.data.list.env.push(n.ordered?"+":"-"),t.renderChildren(n,2),t.data.list.env.pop()},listItem(n,t){var s,l,r;let a=(l=(s=t.data.list)===null||s===void 0?void 0:s.env)!==null&&l!==void 0?l:[],e=Array(Math.max(a.length-1,0)).fill(uu).join(""),p=(r=a.slice(-1)[0])!==null&&r!==void 0?r:"-";t.ensureNewLine(),t.write(`${e}${p} `),t.renderChildren(n,1)},thematicBreak(n,t){t.write(`#line(length: 100%, stroke: gray)

`)},...co,mystRole(n,t){t.renderChildren(n)},mystDirective(n,t){t.renderChildren(n,2)},comment(n,t){var s,l;t.ensureNewLine(),!((s=n.value)===null||s===void 0)&&s.includes(`
`)?t.write(`/*
${n.value}
*/

`):t.write(`// ${(l=n.value)!==null&&l!==void 0?l:""}

`)},strong(n,t,s){let l=Pi(s,n);ni(n)&&!l?(t.write("*"),t.renderChildren(n),t.write("*")):t.renderInlineEnvironment(n,"strong")},emphasis(n,t,s){let l=Pi(s,n);ni(n)&&!l?(t.write("_"),t.renderChildren(n),t.write("_")):t.renderInlineEnvironment(n,"emph")},underline(n,t){t.renderInlineEnvironment(n,"underline")},smallcaps(n,t){t.renderInlineEnvironment(n,"smallcaps")},inlineCode(n,t){let s="`",l=Jt(n);for(;s==="``"||l.includes(s);)s+="`";t.write(s),l.startsWith("`")&&t.write(" "),t.write(l),l.endsWith("`")&&t.write(" "),t.write(s)},subscript(n,t){t.renderInlineEnvironment(n,"sub")},superscript(n,t){t.renderInlineEnvironment(n,"super")},delete(n,t){t.renderInlineEnvironment(n,"strike")},break(n,t){t.write(" \\"),t.ensureNewLine()},abbreviation(n,t){t.renderChildren(n)},inlineExpression(n,t){pa(t.file,"inlineExpression rendering in typst is in beta",{node:n,note:"Rendering will work only for text nodes"}),t.renderChildren(n)},link:cu,admonition(n,t){t.useMacro(ou),t.ensureNewLine();let s=ha("admonitionTitle",n);if(!n.kind){In(t.file,"Unknown admonition kind",{node:n,source:"myst-to-typst"});return}t.useMacro(lu[n.kind]),t.write(`#${n.kind}Block`),s&&Jt(s).toLowerCase().replace(" ","")!==n.kind&&(t.write("(heading: ["),t.renderChildren(s),t.write("])")),t.write(`[
`),t.renderChildren(n),t.write(`
]

`)},admonitionTitle(){},table:go,tableRow:po,tableCell:mo,image(n,t){let{width:s,url:l,align:r}=n,a=l,e=Un(s),p=t.data.isInTable||!t.data.isInFigure?"#image":"image";t.write(`${p}("${a}"`),t.data.isInTable||t.write(`, width: ${e}`),t.write(`)

`)},container:ba,caption:Qt,legend:Qt,captionNumber:()=>{},crossReference(n,t,s){let l=n.identifier,r=Pi(s,n);t.write(r?`#[@${l}]`:`@${l}`)},citeGroup(n,t){t.renderChildren(n,0," ")},cite(n,t){let l=!/^[a-zA-Z0-9_\-:.]+$/.test(n.label)?`label("${n.label}")`:`<${n.label}>`;t.write(`#cite(${l}`),n.kind==="narrative"&&t.write(', form: "prose"'),n.suffix&&t.write(`, supplement: [${n.suffix}]`),t.write(")")},embed(n,t){t.renderChildren(n,2)},include(n,t){t.renderChildren(n,2)},footnoteReference(n,t){if(!n.identifier)return;let s=t.footnotes[n.identifier];if(!s){In(t.file,`Unknown footnote identifier "${n.identifier}"`,{node:n,source:"myst-to-typst"});return}t.write("#footnote["),t.renderChildren(s),t.write("]")},footnoteDefinition(){}},Si=class{constructor(t,s,l){var r;t.result="",this.file=t,this.options=l??{},this.data={mathPlugins:{},macros:new Set},this.handlers=(r=l?.handlers)!==null&&r!==void 0?r:ho,this.footnotes=Object.fromEntries(da("footnoteDefinition",s).map(a=>{let e=a;return[e.identifier,e]})),this.renderChildren(s)}get out(){return this.file.result}useMacro(t){this.data.macros.add(t)}write(t){this.file.result+=t}text(t,s=!1){let l=s?Sa(t):Pa(t);this.write(l)}trimEnd(){this.file.result=this.out.trimEnd()}addNewLine(){this.write(`
`)}ensureNewLine(t=!1){t&&this.trimEnd(),!this.out.endsWith(`
`)&&this.addNewLine()}renderChildren(t,s=0,l=""){var r,a,e;let p=(a=(r=t.children)===null||r===void 0?void 0:r.length)!==null&&a!==void 0?a:0;(e=t.children)===null||e===void 0||e.forEach((h,E)=>{if(!h)return;let S=this.handlers[h?.type];S?S(h,this,t):In(this.file,`Unhandled Typst conversion for node of "${h?.type}"`,{node:h,source:"myst-to-typst"}),l&&E+1<p&&this.write(l)}),this.trimEnd();for(let h=s;h--;)this.addNewLine()}renderEnvironment(t,s){this.file.result+=`#${s}[
`,this.renderChildren(t,1),this.file.result+=`]

`}renderInlineEnvironment(t,s){this.file.result+=`#${s}[`,this.renderChildren(t),this.file.result+="]"}},gu=function(n){return this.Compiler=(t,s)=>{let l=new Si(s,t,n??{handlers:ho}),r=s.result.trim(),a={macros:[...l.data.macros],commands:Ii(l),value:r};return s.result=a,s},t=>t},L0=gu;export{L0 as default};
