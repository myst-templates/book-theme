import{a as oe,b as B}from"/myst_assets_folder/_shared/chunk-DU6O2KDC.js";import{c as re,e as L,i as w,j as m,k as P,m as x,p as O}from"/myst_assets_folder/_shared/chunk-RMYRWJKG.js";var Q=re((he,M)=>{"use strict";w();m();P();O();x();var I=Object.prototype.hasOwnProperty,K=Object.prototype.toString,U=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,q=function(e){return typeof Array.isArray=="function"?Array.isArray(e):K.call(e)==="[object Array]"},G=function(e){if(!e||K.call(e)!=="[object Object]")return!1;var o=I.call(e,"constructor"),l=e.constructor&&e.constructor.prototype&&I.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!l)return!1;var i;for(i in e);return typeof i>"u"||I.call(e,i)},H=function(e,o){U&&o.name==="__proto__"?U(e,o.name,{enumerable:!0,configurable:!0,value:o.newValue,writable:!0}):e[o.name]=o.newValue},J=function(e,o){if(o==="__proto__")if(I.call(e,o)){if(Y)return Y(e,o).value}else return;return e[o]};M.exports=function n(){var e,o,l,i,t,a,u=arguments[0],d=1,h=arguments.length,b=!1;for(typeof u=="boolean"&&(b=u,u=arguments[1]||{},d=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});d<h;++d)if(e=arguments[d],e!=null)for(o in e)l=J(u,o),i=J(e,o),u!==i&&(b&&i&&(G(i)||(t=q(i)))?(t?(t=!1,a=l&&q(l)?l:[]):a=l&&G(l)?l:{},H(u,{name:o,newValue:n(b,a,i)})):typeof i<"u"&&H(u,{name:o,newValue:i}));return u}});w();m();P();O();x();w();m();P();O();x();w();m();P();O();x();function V(n){if(n)throw n}var $=L(oe(),1),D=L(Q(),1);w();m();P();O();x();function j(n){if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}w();m();P();O();x();function R(){let n=[],e={run:o,use:l};return e;function o(...i){let t=-1,a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);u(null,...i);function u(d,...h){let b=n[++t],z=-1;if(d){a(d);return}for(;++z<i.length;)(h[z]===null||h[z]===void 0)&&(h[z]=i[z]);i=h,b?ie(b,u)(...h):a(null,...h)}}function l(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function ie(n,e){let o;return l;function l(...a){let u=n.length>a.length,d;u&&a.push(i);try{d=n.apply(this,a)}catch(h){let b=h;if(u&&o)throw b;return i(b)}u||(d instanceof Promise?d.then(t,i):d instanceof Error?i(d):t(d))}function i(a,...u){o||(o=!0,e(a,...u))}function t(a){i(null,a)}}var fe=v().freeze(),k={}.hasOwnProperty;function v(){let n=R(),e=[],o={},l,i=-1;return t.data=a,t.Parser=void 0,t.Compiler=void 0,t.freeze=u,t.attachers=e,t.use=d,t.parse=h,t.stringify=b,t.run=z,t.runSync=ee,t.process=ne,t.processSync=te,t;function t(){let r=v(),f=-1;for(;++f<e.length;)r.use(...e[f]);return r.data((0,D.default)(!0,{},o)),r}function a(r,f){return typeof r=="string"?arguments.length===2?(N("data",l),o[r]=f,t):k.call(o,r)&&o[r]||null:r?(N("data",l),o=r,t):o}function u(){if(l)return t;for(;++i<e.length;){let[r,...f]=e[i];if(f[0]===!1)continue;f[0]===!0&&(f[0]=void 0);let s=r.call(t,...f);typeof s=="function"&&n.use(s)}return l=!0,i=Number.POSITIVE_INFINITY,t}function d(r,...f){let s;if(N("use",l),r!=null)if(typeof r=="function")S(r,...f);else if(typeof r=="object")Array.isArray(r)?C(r):E(r);else throw new TypeError("Expected usable value, not `"+r+"`");return s&&(o.settings=Object.assign(o.settings||{},s)),t;function y(c){if(typeof c=="function")S(c);else if(typeof c=="object")if(Array.isArray(c)){let[p,...g]=c;S(p,...g)}else E(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function E(c){C(c.plugins),c.settings&&(s=Object.assign(s||{},c.settings))}function C(c){let p=-1;if(c!=null)if(Array.isArray(c))for(;++p<c.length;){let g=c[p];y(g)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function S(c,p){let g=-1,A;for(;++g<e.length;)if(e[g][0]===c){A=e[g];break}A?(j(A[1])&&j(p)&&(p=(0,D.default)(!0,A[1],p)),A[1]=p):e.push([...arguments])}}function h(r){t.freeze();let f=T(r),s=t.Parser;return _("parse",s),W(s,"parse")?new s(String(f),f).parse():s(String(f),f)}function b(r,f){t.freeze();let s=T(f),y=t.Compiler;return F("stringify",y),X(r),W(y,"compile")?new y(r,s).compile():y(r,s)}function z(r,f,s){if(X(r),t.freeze(),!s&&typeof f=="function"&&(s=f,f=void 0),!s)return new Promise(y);y(null,s);function y(E,C){n.run(r,T(f),S);function S(c,p,g){p=p||r,c?C(c):E?E(p):s(null,p,g)}}}function ee(r,f){let s,y;return t.run(r,f,E),Z("runSync","run",y),s;function E(C,S){V(C),s=S,y=!0}}function ne(r,f){if(t.freeze(),_("process",t.Parser),F("process",t.Compiler),!f)return new Promise(s);s(null,f);function s(y,E){let C=T(r);t.run(t.parse(C),C,(c,p,g)=>{if(c||!p||!g)S(c);else{let A=t.stringify(p,g);A==null||(ue(A)?g.value=A:g.result=A),S(c,g)}});function S(c,p){c||!p?E(c):y?y(p):f(null,p)}}}function te(r){let f;t.freeze(),_("processSync",t.Parser),F("processSync",t.Compiler);let s=T(r);return t.process(s,y),Z("processSync","process",f),s;function y(E){f=!0,V(E)}}}function W(n,e){return typeof n=="function"&&n.prototype&&(se(n.prototype)||e in n.prototype)}function se(n){let e;for(e in n)if(k.call(n,e))return!0;return!1}function _(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Parser`")}function F(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Compiler`")}function N(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function X(n){if(!j(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function Z(n,e,o){if(!o)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function T(n){return ce(n)?n:new B(n)}function ce(n){return Boolean(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function ue(n){return typeof n=="string"||(0,$.default)(n)}export{Q as a,fe as b};
